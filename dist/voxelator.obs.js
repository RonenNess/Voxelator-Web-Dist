var _0x57e7=['<img\x20class=\x22pixelated\x22\x20style=\x22width:100%;height:auto;\x22\x20src=\x22','transparent','Voxelator\x20is\x20a\x20free\x20online\x20voxel\x20editing\x20tool.<br\x20/>Made\x20by\x20<a\x20target=\x22_blank\x22\x20href=\x22http://ronenness.com\x22>Ronen\x20Ness</a>,\x202020.<br\x20/>','updateMaterials','_boundingBoxMesh','lengthComputable','selectedRegion','deleteActiveLayer','_settings','_onLayersChange','./export_stl','MonotoneMesh','MouseButtons','canShowPreview','Tree','vertices','error','_voxels','length','children','Voxelator\x20-\x20','back','<p>Rotate\x20around\x20axis:</p><select\x20id=\x22rotate-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','mouseWheel','import-','fixed','resetCamera','code','version','val','set','index','#999999','showPaletteTexture','Sphere','renameMesh','clearVoxels','_grid','add','data','Face3','_outlineGeometry','html','_verticesIndexes','cloneActiveLayer','snake.vox','Vertical','#file-opener','onMeshRename','Grey','not-allowed','serialize','./shapes_tool','./paint_bucket','text/plain;charset=utf-8','load','vertex','_disposePreviewStuff','Welcome\x20To\x20Voxelator!','_undoStack','_exportMeshBase','innerHeight','floor','addTo','getElementById','iterateVoxelsGroup','name','total','rebuildIfDirty','right','Math','_lastTime','fillEmptyVoxels','The\x20bottom\x20text\x20gives\x20useful\x20hints\x20about\x20the\x20tool\x20you\x27re\x20currently\x20using.','download','_removeSelectionPreviews','deleteLayer','altDown','default','setVoxel','sign','addClass','expandByPoint','active-layer-row','toString','computeFlatVertexNormals','#transforms-dropdown','crate.vox','join','isEmpty','newMesh','Camera\x20Controls','./voxels_pencil','black','./translation_tool','paletteTexture','./libs','<br\x20/>','text','RESURRECT+.png','rebuildEverything','Successfully\x20imported\x20Palette!\x20','mouseenter','showOutline','controls','white','voxel','worldDirection','hostname','sin','.vox','.stl','targetVoxelPosition','getVoxel','_doLine','show','zIndex','iterateEmptyVoxelsGroup','ctrlDown','end','removeLayer','./smooth_faces','Target\x20Voxel:\x20','uvsNeedUpdate','onChange','#import-progress-bar','renderOrder','#help-dropdown','#tool-paint-brush','./export_gltf','cursor','0x7db7ed','<p>This\x20transformation\x20will\x20shrink\x20mesh\x20by\x20removing\x20the\x20outter\x20layer\x20of\x20visible\x20voxels.</p>','voxelMesh','__activeLayerIndex','getTime','_previewMeshes','image/*','moveLayerDown','bottom','#shapes-select-div','getReversedPalette','up_arrow','_isInUI','./../voxels/voxel','display','#import-img-new-layer','</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','updateMaterial','Object3D','_paletteDirty','disposeLayers','0x282828','down','__locked','Voxels\x20Pencil','#tool-select','enableLighting','#redo-btn','container','keyup','Shrink','getContext','<p>This\x20transformation\x20will\x20make\x20corners\x20/\x20edges\x20softer\x20by\x20removing\x20the\x20sharp\x20edges\x20voxels.</p>','voxelator_preview_texture','object','lerp','action_id','abs','binary','result','The\x20\x27Project\x27\x20menu\x20allow\x20you\x20to\x20rename\x20the\x20project,\x20load\x20from\x20file,\x20save\x20it,\x20or\x20create\x20a\x20new\x20empty\x20project.','aria-valuenow','_pointOnMarker','selectedColorIndex','begin','faceVertexUvs','opacity','<p>Please\x20select\x20background\x20option\x20below:</p>','call','onclick','THREE','updateStatsText','The\x20following\x20guided\x20tour\x20will\x20walk\x20you\x20through\x20the\x20UI\x20of\x20Voxelator.\x20For\x20more\x20info,\x20check\x20out\x20the\x20documentation\x20pages\x20under\x20\x27Help\x27\x20menu.<br\x20/><br\x20/>Ready\x20to\x20begin?','#voxel-color-','fileExtension','href','Snake','stats','VoxelsMesh','importImageFileAsVoxels','left','setItem','visibleSidesCount','everything','<p>This\x20transformation\x20will\x20flip\x20or\x20mirror\x20voxels\x20around\x20an\x20axis.</p>','inline-block','Voxelator','#showOutline','_materialsDirty','PLYExporter','parse','mergeWith','<p>This\x20transformation\x20will\x20expand\x20mesh\x20by\x20duplicating\x20voxels\x20in\x20some\x20or\x20all\x20directions.</p>','expandByObject','#tool-pencil','Geometry','initUiElement','Lets\x20Go!','scene','selected-color','<th\x20class=\x22layer-locked\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-lock\x22></i></th>','.active-layer-row','activeLayerIndex','backVoxelPosition','import-btn','voxelator_preview_model','Color','distanceTo','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','0x002244','saveAs','import-img-preview','#mirror-offset-input','null','./export_dae','selectTargetVoxel','clone','You\x20can\x20export\x20your\x20mesh\x20to\x20many\x20standard\x203d\x20formats.\x20When\x20exported,\x20the\x20geometry\x20will\x20no\x20longer\x20be\x20voxels-based\x20and\x20be\x20optimized\x20to\x20use\x20less\x20faces\x20and\x20less\x20vertices.','createElement','substr','./manager','.gltf','MeshBasicMaterial','delete','VOXELATOR','equals','colorIndex','#voxel-options-dropdown','_linesColor','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-rotation-count-input\x22>Rotate\x20by\x20<span\x20id=\x22trans-rotation-count\x22>90</span>\x20degrees</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-rotation-count\x27).text(parseInt($(this).val())\x20*\x2045)\x22\x20value=\x222\x22\x20min=\x221\x22\x20max=\x228\x22\x20id=\x22trans-rotation-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#auto-select-layer-div','addEventListener','ZYKRO-48','drawImage','_readFileFromUser','palette.png','width','#threshold-input','mousemove','voxels','importVoxFileFromJson','_modes','_doSphere','#undo-btn','domain','Invalid\x20file\x20type!','function','You\x20must\x20select\x20voxels\x20using\x20the\x20selection\x20tool\x20to\x20use\x20this\x20option.','Select\x20groups\x20of\x20voxels\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection\x20|\x20Arrows\x20to\x20move\x20selection\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Delete\x20to\x20delete\x20voxels\x20at\x20selection','dm94ZWxhdG9yLmNvbQ==','enableUpdates','setPaletteColor','WireframeGeometryNoDiagonal','StInput','#mesh-name-show','manager','Voxel','OBJExporter','FARAWAY48','_redoStack','dm94ZWxhd','canvas','Box3Helper','_exporters','Invalid\x20camera\x20preset\x20key:\x20\x27','Mesh','_from','released','texture','#expand-to-','#import-image-flip','#showWireframe','./exports','.on-screen-text','../voxels','change','showExportModelDialog','settings','front','intersectPosition','mode','Smooth\x20Faces','mouseLeaveUI','mouse_right','SphereGeometry','showAxes','removeVoxelsLayer','Black','#layers-menu','#export-mesh-description','#export-optimize','_createMeshFromGeometry','large','target','LineSegments','\x22\x20value=\x22#ffffff\x22>','_palette','<th\x20class=\x22layer-visible\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-eye\x22></i></th>','max','deserialize','#colors-palette','VoxelsPencil','AmbientLight','./voxel','MONO.png','#export-layers-type\x20option:selected','loadProjectFromFile','locked','generateMipmaps','selectEditorMode','moveActiveLayerUp','static','AxesHelper','updateProjectionMatrix','split','style','<tr\x20data-index=\x22','#trans-iterations-count-input','none','#trans-rotation-input','#auto-select-layer','.layer-visible','recolorVoxels','mergeLayerToSelf','_enableLighting','updatePaletteUiFromMeshPalette','prompt','_showOutline','log','#view-options-dropdown','_axes','The\x20\x27Import\x27\x20menu\x20allow\x20you\x20to\x20import\x20different\x20things,\x20like\x20image-to-palette\x20(will\x20inject\x20image\x27s\x20colors\x20into\x20your\x20current\x20palette),\x20image-to-voxels\x20(will\x20convert\x20image\x20to\x203d\x20voxels)\x20or\x20embed\x20Voxelator\x20file\x20as\x20a\x20new\x20layer\x20in\x20your\x20mesh.','Move\x20selected\x20voxels\x20|\x20Arrows\x20to\x20move\x20voxels\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection','dispose','_mesh','../libs','0xaecfee','File\x20reading\x20started','NearestFilter','_selectedMode','hide','.color-in-palette','_voxelator_layer','attr','append','src','mousePressed','#export-save-binary-div','renderer','random','removeClass','loaded','_updateRedoBtns','layers','preview.html','left_arrow','Recolor\x20voxels\x20|\x20LMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20|\x20RMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20only\x20on\x20the\x20plane\x20you\x20clicked\x20on\x20|\x20Shift+LMB\x20fill\x20empty\x20voxels\x20|\x20Shift+RMB\x20duplicate\x20the\x20plane\x20you\x20clicked\x20on','image','getActiveLayerMesh','#tool-paint-bucket','<br\x20/><br\x20/><div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mirror-offset-input\x22>Mirror\x20Distance:\x20<span\x20id=\x22mirror-offset-input-label\x22>0</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#mirror-offset-input-label\x27).text($(this).val())\x22\x20value=\x220\x22\x20min=\x22-10\x22\x20max=\x2210\x22\x20id=\x22mirror-offset-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Vector2','radio','_scene','getLeftVector','exportPalette','MeshLambertMaterial','visibleFaces','mouseDelta','mouse_left','_selectionShow','BASIC.png','<input\x20class=\x22color-in-palette\x22\x20type=\x22color\x22\x20id=\x22voxel-color-','_pushVoxelToMesh','colors','Mirror','0x656565','_showWireframe','The\x20\x27Camera\x27\x20menu\x20contains\x20options\x20for\x20the\x20viewport\x27s\x20camera,\x20including\x20useful\x20preset\x20camera\x20angles\x20you\x20can\x20jump\x20to\x20(for\x20example,\x20making\x20the\x20camera\x20face\x20the\x20front\x20of\x20the\x20mesh).','voxe','click','linesColor','importVoxelFile','MODULE_NOT_FOUND','#help-text-label','updateWireframe','Palette\x20Texture','importPaletteFile','_createPaletteElements','rotation','readAsText','Crate','./export_ply','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22expand-to-','empty','onchange','setFromObject','stringify','checked','min','showBoundingBox','./eraser_tool','__voxelator_third_party_libs__','./voxels','modal','raycaster','Exit\x20Tour','mousedown','active_layer','./rotate','unnamed-layer','.ply','removeSelf','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20layer?','lineColors','trianglesCount','find','mouseleave','Stats','_updateWireframeOrOutline','setClearColor','MONO','#import-img-depth','<p>Axis\x20to\x20flip:</p><select\x20id=\x22flip-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','showWireframe','point','_onCanvas','lookAt','#camera-options-dropdown','iterateSelectedVoxels','importDemoProjects','PerspectiveCamera','0xffffff','autoSelectLayer','domElement','createImageData','Flip','putImageData','ColorDelta','push','innerWidth','colorsComment','getImageData','And\x20this\x20text\x20gives\x20useful\x20info\x20about\x20your\x20mesh\x20size\x20and\x20faces\x20count.<br/>Note:\x20when\x20exporting\x20the\x20mesh\x20some\x20extra\x20optimizations\x20are\x20applied,\x20so\x20the\x20exported\x20file\x20is\x20usually\x20much\x20more\x20efficient.','containsPoint','removeVoxel','color','DirectionalLight','updateShowBoundingBox','duplicateLayerOfVoxels','importPredefPalette','undefined','alert','resize','%\x20read','The\x20texture\x20below\x20represent\x20your\x20current\x20colors\x20palette.\x20If\x20you\x20want\x20to\x20export\x20your\x20model\x20and\x20use\x20texture\x20for\x20voxel\x20colors\x20(instead\x20of\x20vertex-color),\x20you\x20need\x20to\x20set\x20this\x20image\x20as\x20the\x20texture\x20of\x20the\x20mesh.\x20It\x20is\x20downloaded\x20automatically\x20when\x20using\x20export.','cos','Eraser\x20Tool','confirm','#tools-menu','_resetControls','.layer-locked','height','_lastRedoVersion','directionalLight3','fromCharCode','_needToGenerateUndo','remove','Both','cloneLayer','voxelator_use_texture','sub','face','voxelPosition','voxelator_model_type','amd','_layers','./voxels_mesh','multiplyScalar','camera','White','parent','open','normal','Vector3','Exported\x20Successfully','extensions','./expand','<td><input\x20class=\x22layer-name\x20layer-name-input\x22\x20maxlength=\x2220\x22\x20type=\x22text\x22\x20name=\x22layer-name\x22\x20value=\x22','mergeActiveLayerDown','Exported\x20successfully!\x20Total\x20vertices:\x20','_createMaterial','<p>Rotate\x20direction:</p><select\x20id=\x22rotate-dir-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Clockwise\x22\x20selected>Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Counter-Clockwise\x22>Counter-Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','isMovingOrRotatingCamera','./export_obj','meshName','./exporters_base','onSelected','demos/','pop','shiftDown','./transformations',',\x20total\x20faces:\x20','down_arrow','./editor_mode','#flip-mode-select\x20option:selected','string','getCenter','clearSelection','.obj','Not\x20Implemented!','Nothing\x20to\x20export,\x20layer\x20is\x20empty.','ColladaExporter','faces','update','keys','The\x20\x27Edit\x27\x20menu\x20contains\x20different\x20transformations\x20and\x20effects\x20you\x20can\x20apply\x20on\x20your\x20mesh.\x20It\x20also\x20contains\x20the\x20undo\x20and\x20redo\x20buttons.\x20Transformations\x20either\x20affect\x20the\x20whole\x20layer,\x20or\x20currently\x20selected\x20region\x20if\x20you\x20have\x20one.','input','geometry','exports','_camPositionOnPress','css','location','mouseEnterUI','_doUpdates','Exporter','\x22\x20name=\x22voxel-color-','removeAllVoxelsOutside','_outlineMesh','Import\x20Demo\x20Project','End\x20Tour','Draw\x20predefined\x20shapes\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20create\x20selected\x20shape\x20|\x20Shift+LMB\x20remove\x20voxels\x20in\x20shape\x27s\x20region','_geometry','onDeselected','#stats-label','trigger','#expand-smoothly','polygonOffsetUnits','getBoundingBox','middle','Dark\x20Blue','#exported-mesh-name','isInUI','showPalette','#palette-container','_outlineMaterial','_targetVoxel','_waitingForClickAfterUI','For\x20example,\x20if\x20you\x20build\x20a\x20tree\x20you\x20can\x20put\x20all\x20the\x20leaves\x20on\x20a\x20separated\x20layer,\x20and\x20hide\x20them\x20while\x20you\x20edit\x20the\x20bark.<br/>Note\x20that\x20when\x20you\x20export\x20your\x20model\x20all\x20layers\x20are\x20merged\x20into\x20one,\x20unless\x20you\x20choose\x20to\x20only\x20export\x20some\x20of\x20them.','options','normalize','readAsDataURL','Clockwise','./transformation_base','disabled','visible','#tool-eraser','_points','#import-img-modal','prop','_timeLeftUI','pressed','applyTransformation','getPaletteColor','showAbout','setPreviewAddVoxels','Tools\x20selection:\x20here\x20you\x20can\x20select\x20different\x20tools\x20to\x20use.\x20Point\x20on\x20a\x20tool\x20icon\x20to\x20learn\x20more\x20about\x20it.','_needDoubleUndoPop','_resetAll','doCameraControls','normalizedMousePos','The\x20\x27View\x27\x20menu\x20contains\x20Voxelator\x27s\x20display\x20and\x20rendering\x20configurations.<br/>You\x20can\x20change\x20background\x20color,\x20draw\x20geometry\x20faces,\x20enable\x20lightings,\x20ect.\x20None\x20of\x20the\x20options\x20here\x20will\x20actually\x20affect\x20the\x20output\x20file.','_imageDataToPalette','rebuildGeometry','deleteSelectedVoxels','page_down','paletteSize','showPanel','SNES','Remove\x20voxels\x20|\x20LMB\x20to\x20remove\x20a\x20single\x20voxel\x20|\x20RMB\x20to\x20remove\x20voxels\x20while\x20button\x20is\x20down\x20|\x20Shift+LMB\x20to\x20remove\x20layer\x20of\x20voxels\x20|\x20Shift+RMB\x20to\x20remove\x20layer\x20of\x20voxels\x20of\x20the\x20same\x20color','placeholder','setSize','setFromCamera','material','selection','#rotate-around-select\x20option:selected','appendChild','toDataURL','moveVoxels','_lastSelected','splice','Cannot\x20delete\x20this\x20layer\x20since\x20its\x20the\x20last\x20remaining\x20layer.','setSelection','moveLayerUp','Horizontal','Note:\x20vertex\x20color\x20is\x20not\x20supported\x20in\x20.stl\x20forat.\x20Choosing\x20\x27Vertex\x20Color\x27\x20will\x20result\x20in\x20colorless\x20mesh.','_lastUndoMove','redo','Box3','./voxel_mesh_layer','unnamed_mesh1','RESURRECT+','Raycaster','anyMouseButtonsDown','position','To\x20contact\x20me:\x20<a\x20href=\x22mailto:ronenness@gmail.com\x22>ronenness@gmail.com</a>.','_camRotationOnPress','updatePaletteTexture','_to','#continous-paint-div','color-','loadstart','round','import-cancel-btn','page_up','Selection\x20Tool','paletteImage','indexOf','run','./../libs','polygonOffset','apply','Opposite\x20Mirror','isUiFocused','BASIC','addLayer','updateOutlines','undo','initialize','showCameraControls','data_url','Expand','onLayersChange','#showBoundingBox','exportModel',':checked','_isDirty','\x22></td>','<p>This\x20transformation\x20will\x20remove\x20lonely\x20voxels\x20to\x20make\x20surfaces\x20smoother.</p>','progress','_doBox','createPaletteTexture','get','directionalLight2','getRightVector','Line','directionalLight1','reset','FileSaver','#continous-paint','Adds\x20or\x20remove\x20voxels\x20|\x20LMB\x20to\x20add\x20voxels\x20|\x20Shift+LMB\x20to\x20set\x20color\x20of\x20existing\x20voxels\x20|\x20RMB\x20to\x20remove\x20voxels\x20|\x20Shift+RMB\x20to\x20copy\x20voxel\x20color\x20|\x20LMB+Alt\x20to\x20push\x20voxels\x20|\x20RMB+Alt\x20to\x20pull\x20voxels','showGuidedTour','#soften-only-corners','_lockedUntilClickedOnCanvas','#layers-table','activeLayer','right_arrow','top','Voxelator\x20v','./shrink','getSize','\x22\x20/>','scale','isDirty','GridHelper','GLTFExporter','</tr>','_showBoundingBox','#export-modal','#export-options-dropdown','WebGLRenderer','Note\x20this\x20checkbox\x20-\x20when\x20checked,\x20Voxelator\x20will\x20automatically\x20pick\x20the\x20layer\x20of\x20the\x20voxel\x20you\x20currently\x20point\x20on\x20with\x20your\x20cursor.','voxelsCount','getCombinedLayer','NoColors','moveActiveLayerDown','.ui-element','<p>This\x20transformation\x20will\x20rotate\x20voxels\x20around\x20an\x20axis.</p>','has','selectedVoxelPosition','#import-options-dropdown','intersectObjects','getHelpText'];(function(_0x5a1370,_0x2a4283){var _0x3825c5=function(_0x447be){while(--_0x447be){_0x5a1370['push'](_0x5a1370['shift']());}};_0x3825c5(++_0x2a4283);}(_0x57e7,0x1b1));var _0x5a0d=function(_0x5a1370,_0x2a4283){_0x5a1370=_0x5a1370-0x0;var _0x3825c5=_0x57e7[_0x5a1370];return _0x3825c5;};(function(_0x5d06c6){if(typeof exports===_0x5a0d('0x1aa')&&typeof module!==_0x5a0d('0x1d')){module[_0x5a0d('0x61')]=_0x5d06c6();}else if(typeof define===_0x5a0d('0x206')&&define[_0x5a0d('0x35')]){define([],_0x5d06c6);}else{var _0x113802;if(typeof window!=='undefined'){_0x113802=window;}else if(typeof global!==_0x5a0d('0x1d')){_0x113802=global;}else if(typeof self!==_0x5a0d('0x1d')){_0x113802=self;}else{_0x113802=this;}_0x113802[_0x5a0d('0x1ca')]=_0x5d06c6();}}(function(){var _0x1a3ed7,_0x2c823b,_0x47cdfb;return function(){function _0x25ce69(_0x3cd0e0,_0x547345,_0xb31160){function _0x19fcd4(_0x581bdd,_0x28ef72){if(!_0x547345[_0x581bdd]){if(!_0x3cd0e0[_0x581bdd]){var _0x5ae982=_0x5a0d('0x206')==typeof require&&require;if(!_0x28ef72&&_0x5ae982)return _0x5ae982(_0x581bdd,!0x0);if(_0x4a8dd6)return _0x4a8dd6(_0x581bdd,!0x0);var _0x1131da=new Error('Cannot\x20find\x20module\x20\x27'+_0x581bdd+'\x27');throw _0x1131da[_0x5a0d('0x120')]=_0x5a0d('0x28f'),_0x1131da;}var _0x439aa5=_0x547345[_0x581bdd]={'exports':{}};_0x3cd0e0[_0x581bdd][0x0][_0x5a0d('0x1b8')](_0x439aa5[_0x5a0d('0x61')],function(_0x23bbfd){var _0x5987f0=_0x3cd0e0[_0x581bdd][0x1][_0x23bbfd];return _0x19fcd4(_0x5987f0||_0x23bbfd);},_0x439aa5,_0x439aa5['exports'],_0x25ce69,_0x3cd0e0,_0x547345,_0xb31160);}return _0x547345[_0x581bdd][_0x5a0d('0x61')];}for(var _0x4a8dd6='function'==typeof require&&require,_0x5b5228=0x0;_0x5b5228<_0xb31160[_0x5a0d('0x117')];_0x5b5228++)_0x19fcd4(_0xb31160[_0x5b5228]);return _0x19fcd4;}return _0x25ce69;}()({1:[function(_0x55c971,_0x3a4a26,_0x1c2769){class _0x1a4a9c{[_0x5a0d('0xce')](_0x30de01){}['update'](_0x10e26e,_0x38d22f){}['onSelected'](_0x11b804){}['onDeselected'](_0x56045f){}[_0x5a0d('0x104')](){throw new Error(_0x5a0d('0x58'));}get[_0x5a0d('0x79')](){return!![];}get[_0x5a0d('0x147')](){throw new Error(_0x5a0d('0x58'));}}_0x3a4a26[_0x5a0d('0x61')]=_0x1a4a9c;},{}],2:[function(_0x590778,_0x22175b,_0xadacc9){const _0x1b4032=_0x590778(_0x5a0d('0x52'));const _0x5564ee=_0x590778('../voxels');const _0x2c98a3=_0x590778('../libs');const _0x3de62e=_0x2c98a3[_0x5a0d('0x1ba')];class _0x3ed89a extends _0x1b4032{[_0x5a0d('0xce')](_0x1cc598){const _0x476211=new _0x3de62e[(_0x5a0d('0x22c'))](0.2,0x5,0x5);var _0x285209=0xff0000;var _0x258b0=new _0x3de62e['MeshBasicMaterial']({'color':_0x285209,'opacity':0.65,'transparent':!![]});var _0x4a8ad0=new _0x3de62e['Mesh'](_0x476211,_0x258b0);_0x4a8ad0['renderOrder']=0x64;_0x1cc598[_0x5a0d('0x1d6')][_0x5a0d('0x12b')](_0x4a8ad0);this[_0x5a0d('0x1b2')]=_0x4a8ad0;this['_pointOnMarker'][_0x5a0d('0x85')]=![];}[_0x5a0d('0x150')](_0xa73048){this[_0x5a0d('0x1b2')][_0x5a0d('0x85')]=![];}['update'](_0x203de1,_0x136bcb){var _0x121145=_0x203de1[_0x5a0d('0xe9')];if(_0x203de1['isMovingOrRotatingCamera']){this[_0x5a0d('0x150')](_0x203de1);this[_0x5a0d('0xa7')]=null;return;}var _0x30683c=_0x203de1[_0x5a0d('0x1e7')]();this[_0x5a0d('0xa7')]=_0x30683c;if(!_0x30683c){this[_0x5a0d('0x150')](_0x203de1);return;}this[_0x5a0d('0x1b2')]['position'][_0x5a0d('0x123')](_0x30683c[_0x5a0d('0x227')]['x'],_0x30683c[_0x5a0d('0x227')]['y'],_0x30683c['intersectPosition']['z']);this['_pointOnMarker']['visible']=!![];if(_0x203de1['input'][_0x5a0d('0x4e')]){if(_0x203de1[_0x5a0d('0x5f')]['released'](_0x5a0d('0x281'))){_0x121145[_0x5a0d('0x22e')](_0x30683c[_0x5a0d('0x101')],_0x30683c['normal'],![],_0x203de1[_0x5a0d('0x10b')]);}if(_0x203de1[_0x5a0d('0x5f')][_0x5a0d('0x21b')](_0x5a0d('0x22b'))){_0x121145[_0x5a0d('0x22e')](_0x30683c[_0x5a0d('0x101')],_0x30683c['normal'],!![],_0x203de1['selectedRegion']);}}else{if(_0x203de1['input'][_0x5a0d('0x21b')]('mouse_left')){_0x121145['removeVoxel'](_0x30683c['selectedVoxelPosition']);}if(_0x203de1[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x22b'))){_0x121145[_0x5a0d('0x17')](_0x30683c[_0x5a0d('0x101')]);}}}get[_0x5a0d('0x79')](){return![];}[_0x5a0d('0x4b')](_0x494d3d){}[_0x5a0d('0x6f')](_0x5630dc){this[_0x5a0d('0x150')](_0x5630dc);}[_0x5a0d('0x104')](){return _0x5a0d('0x9d');}get['name'](){return _0x5a0d('0x23');}}_0x22175b[_0x5a0d('0x61')]=_0x3ed89a;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],3:[function(_0x4981ff,_0x111dd1,_0x2fc61b){_0x111dd1[_0x5a0d('0x61')]={'VoxelsPencil':_0x4981ff(_0x5a0d('0x161')),'SelectionTool':_0x4981ff('./selection_tool'),'TranslationTool':_0x4981ff(_0x5a0d('0x163')),'EraserTool':_0x4981ff(_0x5a0d('0x2a1')),'PaintBucket':_0x4981ff(_0x5a0d('0x13a')),'ShapesTool':_0x4981ff(_0x5a0d('0x139'))};},{'./eraser_tool':0x2,'./paint_bucket':0x4,'./selection_tool':0x5,'./shapes_tool':0x6,'./translation_tool':0x7,'./voxels_pencil':0x8}],4:[function(_0x1eeb43,_0xe0a21,_0x11948f){const _0x12633c=_0x1eeb43(_0x5a0d('0x52'));const _0x268135=_0x1eeb43('../voxels');const _0x2f635d=_0x1eeb43('../libs');const _0x130851=_0x2f635d['THREE'];class _0xbed7c5 extends _0x12633c{['initialize'](_0x5237ef){const _0x281669=new _0x130851[(_0x5a0d('0x22c'))](0.2,0x5,0x5);var _0x482f80=0xff0000;var _0x35570d=new _0x130851[(_0x5a0d('0x1ee'))]({'color':_0x482f80,'opacity':0.65,'transparent':!![]});var _0x4008d1=new _0x130851[(_0x5a0d('0x219'))](_0x281669,_0x35570d);_0x4008d1['renderOrder']=0x64;_0x5237ef[_0x5a0d('0x1d6')]['add'](_0x4008d1);this[_0x5a0d('0x1b2')]=_0x4008d1;this[_0x5a0d('0x1b2')]['visible']=![];}[_0x5a0d('0x150')](_0x14a677){this[_0x5a0d('0x1b2')][_0x5a0d('0x85')]=![];}['update'](_0x2991b0,_0x55002f){var _0x11efe2=_0x2991b0[_0x5a0d('0xe9')];if(_0x2991b0[_0x5a0d('0x47')]){this[_0x5a0d('0x150')](_0x2991b0);this[_0x5a0d('0xa7')]=null;return;}var _0x50c652=_0x2991b0[_0x5a0d('0x1e7')](_0x2991b0['input']['shiftDown']);this[_0x5a0d('0xa7')]=_0x50c652;if(!_0x50c652){this['_removeSelectionPreviews'](_0x2991b0);return;}this[_0x5a0d('0x1b2')][_0x5a0d('0xb6')][_0x5a0d('0x123')](_0x50c652[_0x5a0d('0x227')]['x'],_0x50c652[_0x5a0d('0x227')]['y'],_0x50c652[_0x5a0d('0x227')]['z']);this[_0x5a0d('0x1b2')][_0x5a0d('0x85')]=!![];if(_0x2991b0[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('mouse_left')){if(_0x2991b0[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){_0x11efe2[_0x5a0d('0x14d')](_0x50c652['targetVoxelPosition'],_0x50c652[_0x5a0d('0x3d')],_0x2991b0['selectedRegion'],_0x2991b0[_0x5a0d('0x1b3')]);}else{_0x11efe2['recolorVoxels'](_0x50c652[_0x5a0d('0x101')],new _0x130851[(_0x5a0d('0x3e'))](0x0,0x0,0x0),!![],_0x2991b0[_0x5a0d('0x10b')],_0x2991b0['selectedColorIndex']);}}if(_0x2991b0['input'][_0x5a0d('0x21b')](_0x5a0d('0x22b'))){if(_0x2991b0['input'][_0x5a0d('0x4e')]){_0x11efe2[_0x5a0d('0x1b')](_0x50c652[_0x5a0d('0x101')],_0x50c652[_0x5a0d('0x3d')],_0x2991b0[_0x5a0d('0x10b')]);}else{_0x11efe2[_0x5a0d('0x252')](_0x50c652[_0x5a0d('0x101')],_0x50c652[_0x5a0d('0x3d')],!![],_0x2991b0[_0x5a0d('0x10b')],_0x2991b0[_0x5a0d('0x1b3')]);}}}get[_0x5a0d('0x79')](){return!![];}[_0x5a0d('0x4b')](_0x35bf4b){}[_0x5a0d('0x6f')](_0x341cfc){this[_0x5a0d('0x150')](_0x341cfc);}[_0x5a0d('0x104')](){return _0x5a0d('0x274');}get[_0x5a0d('0x147')](){return'Paint\x20Bucket';}}_0xe0a21[_0x5a0d('0x61')]=_0xbed7c5;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],5:[function(_0x570aca,_0x3973f4,_0x142a41){const _0x1b0e88=_0x570aca('./editor_mode');const _0x3965d3=_0x570aca(_0x5a0d('0x222'));const _0x4b61a8=_0x570aca(_0x5a0d('0x25f'));const _0x51ead8=_0x4b61a8[_0x5a0d('0x1ba')];class _0x53247e extends _0x1b0e88{['initialize'](_0x108f9f){this['_points']=[];}[_0x5a0d('0x5c')](_0x3b4714,_0x21b6a3){var _0x4d8552=_0x3b4714[_0x5a0d('0x1e7')](!![],!![]);var _0x55446a=_0x4d8552?_0x4d8552['selectedVoxelPosition']||_0x4d8552[_0x5a0d('0x175')]:null;if(location[_0x5a0d('0x1bf')][_0x5a0d('0xc3')](atob(_0x5a0d('0x209')))<0x0){_0x3b4714['input'][_0x5a0d('0x19e')]=null;}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('mouse_right')){this[_0x5a0d('0x87')]=[];}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x281'))){if(_0x3b4714['input']['shiftDown']&&_0x55446a){this[_0x5a0d('0x87')][_0x5a0d('0x11')](_0x55446a);}else{this[_0x5a0d('0x87')]=_0x55446a?[_0x55446a,_0x55446a]:[];}}var _0xd06f18=_0x48eb44=>{_0x48eb44['y']=0x0;_0x48eb44['x']=Math[_0x5a0d('0xbe')](_0x48eb44['x']);_0x48eb44['z']=Math[_0x5a0d('0xbe')](_0x48eb44['z']);if(_0x48eb44['x']==0x0&&_0x48eb44['z']==0x0){_0x48eb44['x']=Math['round'](_0x48eb44['x']*1.5);}return _0x48eb44;};var _0x174652=_0xd06f18(_0x3b4714[_0x5a0d('0x16d')][_0x5a0d('0x27c')]());var _0x4e45f9=_0xd06f18(_0x3b4714['controls'][_0x5a0d('0xde')]());var _0x3bf04a=_0xd06f18(_0x3b4714['controls']['worldDirection']);var _0x529098=_0x3bf04a[_0x5a0d('0x1e8')]()['multiplyScalar'](-0x1);if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0xea'))){for(var _0x18b608=0x0;_0x18b608<this[_0x5a0d('0x87')]['length'];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608][_0x5a0d('0x12b')](_0x4e45f9);}}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x273'))){for(var _0x18b608=0x0;_0x18b608<this[_0x5a0d('0x87')][_0x5a0d('0x117')];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608][_0x5a0d('0x12b')](_0x174652);}}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')]('up_arrow')){for(var _0x18b608=0x0;_0x18b608<this[_0x5a0d('0x87')][_0x5a0d('0x117')];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608]['y']++;}}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x51'))){for(var _0x18b608=0x0;_0x18b608<this[_0x5a0d('0x87')][_0x5a0d('0x117')];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608]['y']--;}}}else{if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x193'))){for(var _0x18b608=0x0;_0x18b608<this[_0x5a0d('0x87')]['length'];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608][_0x5a0d('0x12b')](_0x3bf04a);}}if(_0x3b4714[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x51'))){for(var _0x18b608=0x0;_0x18b608<this['_points'][_0x5a0d('0x117')];++_0x18b608){this[_0x5a0d('0x87')][_0x18b608][_0x5a0d('0x12b')](_0x529098);}}}if(_0x3b4714['input'][_0x5a0d('0x21b')](_0x5a0d('0x1ef'))){_0x3b4714[_0x5a0d('0x98')]();}if(_0x3b4714['input'][_0x5a0d('0x19e')](_0x5a0d('0x281'))&&_0x55446a){this[_0x5a0d('0x87')][this['_points']['length']-0x1]=_0x55446a;}if(this[_0x5a0d('0x87')]['length']){_0x3b4714[_0x5a0d('0xaa')](this[_0x5a0d('0x87')]);}else{_0x3b4714[_0x5a0d('0x56')]();}}get[_0x5a0d('0x79')](){return![];}[_0x5a0d('0x4b')](_0x5e2ad9){}[_0x5a0d('0x6f')](_0x2e493f){}[_0x5a0d('0x104')](){return _0x5a0d('0x208');}get[_0x5a0d('0x147')](){return'Selection\x20Tool';}}_0x3973f4[_0x5a0d('0x61')]=_0x53247e;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],6:[function(_0x5191aa,_0x34360d,_0x2c6456){const _0x51fca0=_0x5191aa(_0x5a0d('0x52'));const _0x5c7913=_0x5191aa(_0x5a0d('0x222'));const _0x3425b7=_0x5191aa(_0x5a0d('0x25f'));const _0x510755=_0x3425b7[_0x5a0d('0x1ba')];class _0x480141 extends _0x51fca0{[_0x5a0d('0xce')](_0x106cec){this['_points']=[];}['update'](_0x5cecc6,_0x18699b){var _0x70dc8e=_0x5cecc6['selectTargetVoxel'](!![],!![],!![]);var _0x535b38=_0x70dc8e?_0x70dc8e['targetVoxelPosition']||_0x70dc8e['selectedVoxelPosition']:null;if(_0x5cecc6['input'][_0x5a0d('0x8b')](_0x5a0d('0x281'))){this['_from']=_0x535b38;}else if(_0x5cecc6[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x281'))){this[_0x5a0d('0xba')]=_0x535b38;}if(_0x5cecc6[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x22b'))){this[_0x5a0d('0x21a')]=this[_0x5a0d('0xba')]=null;_0x5cecc6[_0x5a0d('0x18a')][_0x5a0d('0x8f')]([]);}if(this[_0x5a0d('0x21a')]&&this[_0x5a0d('0xba')]){var _0x59ceeb=$('#shapes-select\x20option:selected')[_0x5a0d('0x167')]();var _0x5a01e2=[];switch(_0x59ceeb){case _0x5a0d('0xdf'):_0x5a01e2=this[_0x5a0d('0x177')](_0x5cecc6);break;case'Box':_0x5a01e2=this[_0x5a0d('0xda')](_0x5cecc6);break;case _0x5a0d('0x127'):_0x5a01e2=this['_doSphere'](_0x5cecc6);break;}}if(_0x5cecc6[_0x5a0d('0x5f')]['released'](_0x5a0d('0x281'))&&_0x5a01e2){for(var _0x54f385=0x0;_0x54f385<_0x5a01e2[_0x5a0d('0x117')];++_0x54f385){if(_0x5cecc6[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){_0x5cecc6['activeLayer'][_0x5a0d('0x17')](_0x5a01e2[_0x54f385][_0x5a0d('0xb6')]);}else{_0x5cecc6[_0x5a0d('0xe9')][_0x5a0d('0x154')](_0x5a01e2[_0x54f385]);}}}if(!_0x5cecc6[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('mouse_left')){this[_0x5a0d('0x21a')]=this[_0x5a0d('0xba')]=null;_0x5cecc6[_0x5a0d('0x18a')][_0x5a0d('0x8f')]([]);}else{_0x5cecc6[_0x5a0d('0x18a')]['setPreviewAddVoxels'](_0x5a01e2||[]);}}['_doBox'](_0x919f3d){var _0xbc5e81=new _0x510755[(_0x5a0d('0xb0'))]();_0xbc5e81[_0x5a0d('0x157')](this[_0x5a0d('0x21a')]);_0xbc5e81[_0x5a0d('0x157')](this[_0x5a0d('0xba')]);var _0x26c4b6=[];for(var _0x179eba=_0xbc5e81[_0x5a0d('0x29f')]['x'];_0x179eba<=_0xbc5e81[_0x5a0d('0x23a')]['x'];++_0x179eba){for(var _0x19f16e=_0xbc5e81[_0x5a0d('0x29f')]['y'];_0x19f16e<=_0xbc5e81['max']['y'];++_0x19f16e){for(var _0x4e2e7e=_0xbc5e81[_0x5a0d('0x29f')]['z'];_0x4e2e7e<=_0xbc5e81[_0x5a0d('0x23a')]['z'];++_0x4e2e7e){_0x26c4b6[_0x5a0d('0x11')](new _0x5c7913[(_0x5a0d('0x210'))](new _0x510755[(_0x5a0d('0x3e'))](_0x179eba,_0x19f16e,_0x4e2e7e),_0x919f3d['selectedColorIndex']));}}}return _0x26c4b6;}[_0x5a0d('0x202')](_0x12b536){var _0x5a5801=new _0x510755[(_0x5a0d('0xb0'))]();_0x5a5801['expandByPoint'](this[_0x5a0d('0x21a')]);_0x5a5801['expandByPoint'](this[_0x5a0d('0xba')]);var _0x277dc7=_0x5a5801[_0x5a0d('0x55')]();var _0xd1223e=Math[_0x5a0d('0x23a')](Math[_0x5a0d('0x23a')]((_0x5a5801[_0x5a0d('0x23a')]['x']-_0x5a5801[_0x5a0d('0x29f')]['x'])/0x2,(_0x5a5801['max']['y']-_0x5a5801[_0x5a0d('0x29f')]['y'])/0x2),(_0x5a5801[_0x5a0d('0x23a')]['z']-_0x5a5801[_0x5a0d('0x29f')]['z'])/0x2);var _0x465cf4=[];for(var _0x153c50=_0x5a5801[_0x5a0d('0x29f')]['x'];_0x153c50<=_0x5a5801[_0x5a0d('0x23a')]['x'];++_0x153c50){for(var _0x1f3195=_0x5a5801['min']['y'];_0x1f3195<=_0x5a5801[_0x5a0d('0x23a')]['y'];++_0x1f3195){for(var _0x307237=_0x5a5801[_0x5a0d('0x29f')]['z'];_0x307237<=_0x5a5801['max']['z'];++_0x307237){var _0x3bd082=new _0x510755['Vector3'](_0x153c50,_0x1f3195,_0x307237);if(_0x3bd082[_0x5a0d('0x1df')](_0x277dc7)<=_0xd1223e){_0x465cf4[_0x5a0d('0x11')](new _0x5c7913[(_0x5a0d('0x210'))](_0x3bd082,_0x12b536[_0x5a0d('0x1b3')]));}}}}return _0x465cf4;}[_0x5a0d('0x177')](_0x1bf8c3){var _0x36faa5=function(_0x254c57,_0x1a94be){var _0x10482d=0x0;var _0x2bbe6e='';if(_0x254c57[_0x5a0d('0xb6')]['x']==_0x1a94be[_0x5a0d('0xb6')]['x']){_0x10482d++;_0x2bbe6e+='x';}if(_0x254c57[_0x5a0d('0xb6')]['y']==_0x1a94be[_0x5a0d('0xb6')]['y']){_0x10482d++;_0x2bbe6e+='y';}if(_0x254c57[_0x5a0d('0xb6')]['z']==_0x1a94be[_0x5a0d('0xb6')]['z']){_0x10482d++;_0x2bbe6e+='z';}return _0x10482d>0x1?_0x2bbe6e:null;};var _0x58c42a=[];var _0x2bc1f2=this[_0x5a0d('0x21a')]['clone']();var _0x4e6f8f=this[_0x5a0d('0x21a')][_0x5a0d('0x1e8')]();var _0x398765=null;var _0x50c52b=this[_0x5a0d('0xba')]['clone']()[_0x5a0d('0x31')](this[_0x5a0d('0x21a')])[_0x5a0d('0x80')]()[_0x5a0d('0x38')](0.5);while(!_0x4e6f8f[_0x5a0d('0x1f1')](this[_0x5a0d('0xba')])){var _0x4e6f8f=new _0x510755[(_0x5a0d('0x3e'))](Math['round'](_0x2bc1f2['x']),Math[_0x5a0d('0xbe')](_0x2bc1f2['y']),Math[_0x5a0d('0xbe')](_0x2bc1f2['z']));_0x2bc1f2['add'](_0x50c52b);if(!_0x398765||!_0x398765[_0x5a0d('0x1f1')](_0x4e6f8f)){_0x58c42a[_0x5a0d('0x11')](new _0x5c7913[(_0x5a0d('0x210'))](_0x4e6f8f,_0x1bf8c3[_0x5a0d('0x1b3')]));}_0x398765=_0x4e6f8f;}for(var _0x197ecc=_0x58c42a[_0x5a0d('0x117')]-0x2;_0x197ecc>0x0;--_0x197ecc){var _0x2bc1f2=_0x58c42a[_0x197ecc];var _0x5b8bc4=_0x58c42a[_0x197ecc-0x1];var _0xc71652=_0x58c42a[_0x197ecc+0x1];var _0x3621c9=_0x36faa5(_0x5b8bc4,_0x2bc1f2);var _0x2dd2d3=_0x36faa5(_0x2bc1f2,_0xc71652);if(_0x3621c9&&_0x2dd2d3&&_0x3621c9!=_0x2dd2d3){_0x58c42a[_0x5a0d('0xa8')](_0x197ecc,0x1);}}return _0x58c42a;}get[_0x5a0d('0x79')](){return!![];}[_0x5a0d('0x4b')](_0x11d48e){$('#shapes-select-div')[_0x5a0d('0x178')]();this[_0x5a0d('0x87')]=[];}['onDeselected'](_0x4b5593){$(_0x5a0d('0x191'))[_0x5a0d('0x264')]();}[_0x5a0d('0x104')](){return _0x5a0d('0x6d');}get['name'](){return _0x5a0d('0xc1');}}_0x34360d[_0x5a0d('0x61')]=_0x480141;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],7:[function(_0x553ba8,_0x2539e8,_0x36c110){const _0x555bb4=_0x553ba8(_0x5a0d('0x52'));const _0x28586d=_0x553ba8(_0x5a0d('0x222'));const _0x55e480=_0x553ba8(_0x5a0d('0x25f'));const _0x35d3c3=_0x55e480['THREE'];class _0x306c99 extends _0x555bb4{[_0x5a0d('0xce')](_0x1ca3ae){this['_points']=[];}[_0x5a0d('0x5c')](_0x55550d,_0x3870ff){var _0x29d717=_0x55550d[_0x5a0d('0x1e7')](!![],!![]);var _0x467d8d=_0x29d717?_0x29d717[_0x5a0d('0x101')]||_0x29d717[_0x5a0d('0x175')]:null;if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x21b')](_0x5a0d('0x22b'))){this['_points']=[];}if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x281'))){if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x4e')]&&_0x467d8d){this['_points'][_0x5a0d('0x11')](_0x467d8d);}else{this[_0x5a0d('0x87')]=_0x467d8d?[_0x467d8d,_0x467d8d]:[];}}var _0x3f5948=_0x3595e0=>{_0x3595e0['y']=0x0;_0x3595e0['x']=Math[_0x5a0d('0xbe')](_0x3595e0['x']);_0x3595e0['z']=Math['round'](_0x3595e0['z']);if(_0x3595e0['x']==0x0&&_0x3595e0['z']==0x0){_0x3595e0['x']=Math[_0x5a0d('0xbe')](_0x3595e0['x']*1.5);}return _0x3595e0;};var _0x2eafea=_0x3f5948(_0x55550d[_0x5a0d('0x16d')][_0x5a0d('0x27c')]());var _0x150010=_0x3f5948(_0x55550d[_0x5a0d('0x16d')][_0x5a0d('0xde')]());var _0x414931=_0x3f5948(_0x55550d['controls'][_0x5a0d('0x170')]);var _0x39343e=_0x414931[_0x5a0d('0x1e8')]()[_0x5a0d('0x38')](-0x1);var _0x5412fd=_0x1f8451=>{for(var _0x5dbb01=0x0;_0x5dbb01<this[_0x5a0d('0x87')][_0x5a0d('0x117')];++_0x5dbb01){this[_0x5a0d('0x87')][_0x5dbb01][_0x5a0d('0x12b')](_0x1f8451);}};if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')]('right_arrow')){_0x55550d[_0x5a0d('0xe9')][_0x5a0d('0xa6')](_0x55550d[_0x5a0d('0x10b')],_0x150010);_0x5412fd(_0x150010);}else if(_0x55550d[_0x5a0d('0x5f')]['pressed'](_0x5a0d('0x273'))){_0x55550d[_0x5a0d('0xe9')][_0x5a0d('0xa6')](_0x55550d[_0x5a0d('0x10b')],_0x2eafea);_0x5412fd(_0x2eafea);}if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')]('up_arrow')){var _0x34df89=new _0x35d3c3[(_0x5a0d('0x3e'))](0x0,0x1,0x0);_0x55550d[_0x5a0d('0xe9')]['moveVoxels'](_0x55550d[_0x5a0d('0x10b')],_0x34df89);_0x5412fd(_0x34df89);}else if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')]('down_arrow')){var _0x534a64=new _0x35d3c3['Vector3'](0x0,-0x1,0x0);_0x55550d[_0x5a0d('0xe9')][_0x5a0d('0xa6')](_0x55550d['selectedRegion'],_0x534a64);_0x5412fd(_0x534a64);}}else{if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x193'))){_0x55550d[_0x5a0d('0xe9')][_0x5a0d('0xa6')](_0x55550d[_0x5a0d('0x10b')],_0x414931);_0x5412fd(_0x414931);}else if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x8b')](_0x5a0d('0x51'))){_0x55550d['activeLayer'][_0x5a0d('0xa6')](_0x55550d[_0x5a0d('0x10b')],_0x39343e);_0x5412fd(_0x39343e);}}if(_0x55550d[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('delete')){_0x55550d[_0x5a0d('0x98')]();}if(_0x55550d[_0x5a0d('0x5f')]['down']('mouse_left')&&_0x467d8d){this['_points'][this[_0x5a0d('0x87')]['length']-0x1]=_0x467d8d;}if(this[_0x5a0d('0x87')][_0x5a0d('0x117')]){_0x55550d[_0x5a0d('0xaa')](this[_0x5a0d('0x87')]);}else{_0x55550d[_0x5a0d('0x56')]();}}get[_0x5a0d('0x79')](){return![];}['onSelected'](_0x155cd5){if(_0x155cd5[_0x5a0d('0x10b')]){this[_0x5a0d('0x87')]=[_0x155cd5[_0x5a0d('0x10b')]['min']['clone'](),_0x155cd5[_0x5a0d('0x10b')]['max'][_0x5a0d('0x1e8')]()];}else{this[_0x5a0d('0x87')]=[];}}[_0x5a0d('0x6f')](_0x36429c){}['getHelpText'](){return _0x5a0d('0x25c');}get[_0x5a0d('0x147')](){return'Translation\x20Tool';}}_0x2539e8[_0x5a0d('0x61')]=_0x306c99;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],8:[function(_0x5a6f00,_0x35004b,_0x24d4ec){const _0x267494=_0x5a6f00(_0x5a0d('0x52'));const _0x837833=_0x5a6f00(_0x5a0d('0x222'));const _0x1e3078=_0x5a6f00(_0x5a0d('0x25f'));const _0x482e1b=_0x1e3078[_0x5a0d('0x1ba')];class _0x4769e0 extends _0x267494{['initialize'](_0x5df12e){const _0x2b07fc=new _0x482e1b[(_0x5a0d('0x22c'))](0.2,0x5,0x5);var _0x20196e=0xff0000;var _0x11e9ab=new _0x482e1b[(_0x5a0d('0x1ee'))]({'color':_0x20196e,'opacity':0.65,'transparent':!![]});var _0x173cf0=new _0x482e1b[(_0x5a0d('0x219'))](_0x2b07fc,_0x11e9ab);_0x173cf0[_0x5a0d('0x183')]=0x64;_0x5df12e[_0x5a0d('0x1d6')]['add'](_0x173cf0);this[_0x5a0d('0x1b2')]=_0x173cf0;this[_0x5a0d('0x1b2')][_0x5a0d('0x85')]=![];}['_removeSelectionPreviews'](_0x40bdf8){_0x40bdf8[_0x5a0d('0x18a')]['setPreviewAddVoxels']([]);this[_0x5a0d('0x1b2')][_0x5a0d('0x85')]=![];}[_0x5a0d('0x5c')](_0x143d38,_0x1f16bb){var _0x50bb6c=_0x143d38[_0x5a0d('0x1da')];var _0x156263=$(_0x5a0d('0xe3'))['is'](_0x5a0d('0xd5'));if(_0x143d38[_0x5a0d('0x47')]){this[_0x5a0d('0x150')](_0x143d38);this[_0x5a0d('0xa7')]=null;return;}if(location[_0x5a0d('0x1bf')][_0x5a0d('0xc3')](_0x5a0d('0x16f'))<0x0){_0x143d38[_0x5a0d('0x5f')]['_resetAll']();}var _0xf308af=_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x4e')]||_0x143d38[_0x5a0d('0x5f')]['altDown'];var _0x51fa1c=_0x143d38[_0x5a0d('0x1e7')](!_0xf308af);this[_0x5a0d('0xa7')]=_0x51fa1c;if(!_0x51fa1c){this[_0x5a0d('0x150')](_0x143d38);return;}this[_0x5a0d('0x1b2')][_0x5a0d('0xb6')]['set'](_0x51fa1c['intersectPosition']['x'],_0x51fa1c[_0x5a0d('0x227')]['y'],_0x51fa1c[_0x5a0d('0x227')]['z']);this[_0x5a0d('0x1b2')]['visible']=!![];_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x8f')]([_0xf308af?null:new _0x837833[(_0x5a0d('0x210'))](_0x51fa1c[_0x5a0d('0x175')],_0x143d38[_0x5a0d('0x1b3')])]);if(_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x281'))&&_0x156263||_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('mouse_left')&&!_0x156263){if(_0x51fa1c['targetVoxelPosition']&&_0x51fa1c[_0x5a0d('0x101')]){if(_0x143d38[_0x5a0d('0x5f')]['shiftDown']){_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x154')](_0x50bb6c,new _0x837833[(_0x5a0d('0x210'))](_0x51fa1c[_0x5a0d('0x101')],_0x143d38['selectedColorIndex']));}else if(_0x143d38['input']['altDown']){_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x154')](_0x50bb6c,new _0x837833['Voxel'](_0x51fa1c[_0x5a0d('0x1db')],_0x51fa1c['selectedColorIndex']));_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x17')](_0x50bb6c,_0x51fa1c[_0x5a0d('0x101')]);}else{_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x154')](_0x50bb6c,new _0x837833[(_0x5a0d('0x210'))](_0x51fa1c[_0x5a0d('0x175')],_0x143d38['selectedColorIndex']));}}}if(!_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x4e')]&&!_0x143d38['input'][_0x5a0d('0x152')]){if(_0x143d38['input'][_0x5a0d('0x19e')]('mouse_right')&&_0x156263||_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x21b')](_0x5a0d('0x22b'))&&!_0x156263){_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x17')](_0x50bb6c,_0x51fa1c[_0x5a0d('0x101')],!![],_0x143d38[_0x5a0d('0x39')]['position']);}}if(_0x143d38['input'][_0x5a0d('0x19e')](_0x5a0d('0x22b'))&&_0x156263||_0x143d38['input'][_0x5a0d('0x21b')](_0x5a0d('0x22b'))&&!_0x156263){if(_0x51fa1c[_0x5a0d('0x101')]){if(_0x143d38[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){_0x143d38['selectColorFromPalette'](_0x51fa1c[_0x5a0d('0x1b3')]);}else if(_0x143d38['input'][_0x5a0d('0x152')]){_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x154')](_0x50bb6c,new _0x837833[(_0x5a0d('0x210'))](_0x51fa1c[_0x5a0d('0x175')],_0x51fa1c[_0x5a0d('0x1b3')]));_0x143d38[_0x5a0d('0x18a')][_0x5a0d('0x17')](_0x50bb6c,_0x51fa1c['selectedVoxelPosition']);}}}}[_0x5a0d('0x4b')](_0x56fd12){$(_0x5a0d('0xbb'))['show']();}['onDeselected'](_0x248b86){$(_0x5a0d('0xbb'))[_0x5a0d('0x264')]();this[_0x5a0d('0x150')](_0x248b86);}[_0x5a0d('0x104')](){return _0x5a0d('0xe4');}get['name'](){return _0x5a0d('0x1a0');}}_0x35004b[_0x5a0d('0x61')]=_0x4769e0;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],9:[function(_0x395218,_0x329034,_0x3fd240){const _0x5d22ed=_0x395218(_0x5a0d('0x4a'));const _0x28cc13=_0x395218(_0x5a0d('0xc5'))[_0x5a0d('0x1ba')];class _0x56dc6f extends _0x5d22ed{constructor(_0x4aaed1){super(_0x4aaed1);}['exportModel'](_0x238d73,_0xb469d2,_0x4f8bf8){var _0x2d8d3e=new _0x28cc13[(_0x5a0d('0x5a'))]();var _0x1713fb=_0x2d8d3e[_0x5a0d('0x1ce')](_0x238d73)[_0x5a0d('0x12c')];return _0x1713fb;}get[_0x5a0d('0x7f')](){return{'vertexColor':!![],'texture':!![]};}get[_0x5a0d('0x1be')](){return'.dae';}}_0x329034[_0x5a0d('0x61')]=_0x56dc6f;},{'./../libs':0x11,'./exporters_base':0xe}],10:[function(_0x4dd0fd,_0x2662a5,_0x586474){const _0x2d95a9=_0x4dd0fd('./exporters_base');const _0x244a71=_0x4dd0fd(_0x5a0d('0xc5'))[_0x5a0d('0x1ba')];class _0x5c52d1 extends _0x2d95a9{constructor(_0x113b3b){super(_0x113b3b);}['exportModel'](_0x37e137,_0x1a97a5,_0x3ce5d0){var _0x14376d=new _0x244a71[(_0x5a0d('0xf3'))]();_0x14376d[_0x5a0d('0x1ce')](_0x37e137,_0x30edf1=>{_0x3ce5d0(JSON[_0x5a0d('0x29d')](_0x30edf1));});}get['options'](){return{'vertexColor':!![],'texture':!![]};}get[_0x5a0d('0x1be')](){return _0x5a0d('0x1ed');}}_0x2662a5[_0x5a0d('0x61')]=_0x5c52d1;},{'./../libs':0x11,'./exporters_base':0xe}],11:[function(_0x18f9cf,_0x173355,_0x2e233d){const _0x2c6437=_0x18f9cf('./exporters_base');const _0x4e1663=_0x18f9cf(_0x5a0d('0xc5'))[_0x5a0d('0x1ba')];class _0x536249 extends _0x2c6437{constructor(_0x12b130){super(_0x12b130);}[_0x5a0d('0xd4')](_0x5e8c1c,_0xdcaaa9){var _0x76a1b0=new _0x4e1663[(_0x5a0d('0x211'))]();var _0x27b55b=_0x76a1b0[_0x5a0d('0x1ce')](_0x5e8c1c,{'vertexColors':_0xdcaaa9['colors']==_0x5a0d('0x13d')});return _0x27b55b;}get[_0x5a0d('0x7f')](){return{'colorsComment':'Note:\x20.obj\x20with\x20vertex\x20color\x20is\x20non-standard\x20and\x20not\x20guaranteed\x20to\x20work\x20everywhere.','vertexColor':!![],'texture':!![]};}get[_0x5a0d('0x1be')](){return _0x5a0d('0x57');}}_0x173355['exports']=_0x536249;},{'./../libs':0x11,'./exporters_base':0xe}],12:[function(_0x2dce1d,_0x1d11b0,_0x19e9bf){const _0x14172b=_0x2dce1d(_0x5a0d('0x4a'));const _0x43533e=_0x2dce1d('./../libs')['THREE'];class _0x371d40 extends _0x14172b{constructor(_0x91eb01){super(_0x91eb01);}[_0x5a0d('0xd4')](_0x4d2246,_0xbcdaec){var _0x51f803=new _0x43533e[(_0x5a0d('0x1cd'))]();var _0x1089df=_0x51f803[_0x5a0d('0x1ce')](_0x4d2246);return _0x1089df;}get[_0x5a0d('0x7f')](){return{'vertexColor':!![],'texture':!![]};}get[_0x5a0d('0x1be')](){return _0x5a0d('0x2ab');}}_0x1d11b0['exports']=_0x371d40;},{'./../libs':0x11,'./exporters_base':0xe}],13:[function(_0x2822c2,_0x161a52,_0x47014a){const _0x3af0ce=_0x2822c2(_0x5a0d('0x4a'));const _0x42f6d8=_0x2822c2(_0x5a0d('0xc5'))[_0x5a0d('0x1ba')];class _0x4b6403 extends _0x3af0ce{constructor(_0x4796c5){super(_0x4796c5);}[_0x5a0d('0xd4')](_0x13f0e6,_0xde83f9,_0x577406){var _0x4acb40=new _0x42f6d8['STLExporter']();var _0xe3527f=_0x4acb40['parse'](_0x13f0e6,{'binary':_0xde83f9[_0x5a0d('0x1ae')]});return _0xe3527f;}get[_0x5a0d('0x112')](){return![];}get[_0x5a0d('0x7f')](){return{'colorsComment':_0x5a0d('0xad'),'vertexColor':!![],'binary':!![],'texture':!![]};}get[_0x5a0d('0x1be')](){return _0x5a0d('0x174');}}_0x161a52[_0x5a0d('0x61')]=_0x4b6403;},{'./../libs':0x11,'./exporters_base':0xe}],14:[function(_0x259f3f,_0x443000,_0x18e252){const _0x43e8ce=_0x259f3f(_0x5a0d('0xc5'));const _0x3cf523=_0x43e8ce[_0x5a0d('0x1ba')];class _0x2a95bd{constructor(_0x5c493b){this[_0x5a0d('0x20f')]=_0x5c493b;}[_0x5a0d('0x141')](_0x18b15a,_0x1c0677,_0x428726){var _0xe2c10a=$(_0x5a0d('0xf6'));_0xe2c10a['find'](_0x5a0d('0x231'))['text'](_0x1c0677);_0xe2c10a[_0x5a0d('0x2b0')](_0x5a0d('0x26b'))[_0x5a0d('0x63')](_0x5a0d('0x196'),_0x428726['binary']?_0x5a0d('0x1c9'):_0x5a0d('0x24e'));_0xe2c10a[_0x5a0d('0x2b0')](_0x5a0d('0x77'))[_0x5a0d('0x267')](_0x5a0d('0x9e'),this[_0x5a0d('0x20f')]['voxelMesh']['name']+_0x1c0677)[_0x5a0d('0x122')](this[_0x5a0d('0x20f')]['voxelMesh'][_0x5a0d('0x147')]+_0x1c0677);_0xe2c10a[_0x5a0d('0x2b0')]('#export-color-mode-comment')[_0x5a0d('0x167')](_0x428726[_0x5a0d('0x13')]||'');_0xe2c10a['modal']({'backdrop':'static','keyboard':![]});_0xe2c10a[_0x5a0d('0x2b0')]('#export-btn')[0x0][_0x5a0d('0x1b9')]=()=>{var _0x520d9d={'binary':_0xe2c10a['find']('#export-save-binary')['prop']('checked'),'colors':_0xe2c10a[_0x5a0d('0x2b0')]('#export-as-vertex-color')[_0x5a0d('0x89')](_0x5a0d('0x29e'))?_0x5a0d('0x13d'):_0x5a0d('0x21c')};var _0x1958a3=_0xe2c10a[_0x5a0d('0x2b0')](_0x5a0d('0x77'))[_0x5a0d('0x122')]()||_0xe2c10a['find'](_0x5a0d('0x77'))['attr']('placeholder');var _0x3673c=$(_0x5a0d('0x241'))[_0x5a0d('0x122')]();var _0x1d7a0b;var _0x1d0cc6=![];switch(_0x3673c){case _0x5a0d('0x1c7'):_0x1d7a0b=this[_0x5a0d('0x20f')]['voxelMesh'][_0x5a0d('0xfb')](![]);_0x1d0cc6=!![];break;case'visible':_0x1d7a0b=this[_0x5a0d('0x20f')][_0x5a0d('0x18a')][_0x5a0d('0xfb')](!![]);_0x1d0cc6=!![];break;case _0x5a0d('0x2a8'):_0x1d7a0b=this[_0x5a0d('0x20f')][_0x5a0d('0xe9')];break;}if(_0x1d7a0b[_0x5a0d('0xfa')]===0x0){bootbox[_0x5a0d('0x1e')](_0x5a0d('0x59'));if(_0x1d0cc6){_0x1d7a0b[_0x5a0d('0x25d')](!![]);}return;}var _0x5ca4bd=![];var _0x1ea39e=_0x520d9d[_0x5a0d('0x286')]===_0x5a0d('0x21c');var _0x1c82a6;var _0x1f564e=$(_0x5a0d('0x232'))[_0x5a0d('0x89')](_0x5a0d('0x29e'));if(_0x1f564e){_0x1c82a6=_0x1d7a0b['_buildOptimizedMesh'](_0x1ea39e);_0x5ca4bd=!![];}else{_0x1d7a0b[_0x5a0d('0x149')]();_0x1c82a6=_0x1d7a0b[_0x5a0d('0x25e')];}_0x18b15a(_0x1c82a6,_0x598478=>{var _0x34c9e2=new Blob([_0x598478],{'type':_0x5a0d('0x13b')});_0x43e8ce[_0x5a0d('0xe2')]['saveAs'](_0x34c9e2,_0x1958a3);if(_0x1ea39e){var _0x4db1a2=document[_0x5a0d('0x1ea')]('a');_0x4db1a2[_0x5a0d('0x1bf')]=this[_0x5a0d('0x20f')][_0x5a0d('0x18a')][_0x5a0d('0xc2')][_0x5a0d('0x269')];_0x4db1a2['download']='palette.png';_0x4db1a2[_0x5a0d('0x28c')]();}this[_0x5a0d('0x20f')][_0x5a0d('0x22a')]();_0xe2c10a[_0x5a0d('0x2a4')]('hide');bootbox[_0x5a0d('0x24')]({'title':_0x5a0d('0x3f'),'message':_0x5a0d('0x44')+_0x1c82a6[_0x5a0d('0x60')][_0x5a0d('0x114')][_0x5a0d('0x117')]+_0x5a0d('0x50')+_0x1c82a6[_0x5a0d('0x60')][_0x5a0d('0x5b')][_0x5a0d('0x117')]+(this['canShowPreview']?'.<br\x20/>Open\x20exported\x20model\x20for\x20preview?':''),'callback':_0x21a7b9=>{if(_0x21a7b9&&this[_0x5a0d('0x112')]){localStorage['setItem'](_0x5a0d('0x30'),_0x1ea39e);localStorage['setItem'](_0x5a0d('0x1dd'),_0x598478);localStorage[_0x5a0d('0x1c5')](_0x5a0d('0x1a9'),this[_0x5a0d('0x20f')][_0x5a0d('0x18a')][_0x5a0d('0xc2')][_0x5a0d('0x269')]);localStorage[_0x5a0d('0x1c5')](_0x5a0d('0x34'),this['fileExtension']);window[_0x5a0d('0x3c')](_0x5a0d('0x272'),'_blank');}}});if(_0x1d0cc6){_0x1d7a0b[_0x5a0d('0x25d')](!![]);}if(_0x5ca4bd){_0x1c82a6[_0x5a0d('0x60')][_0x5a0d('0x25d')]();_0x1c82a6['material'][_0x5a0d('0x25d')]();}},_0x520d9d);};}get[_0x5a0d('0x112')](){return!![];}[_0x5a0d('0x224')](){this['_exportMeshBase']((_0x5ebbe7,_0x1dfab8,_0x5ceef1)=>{var _0x4ba7c9=this[_0x5a0d('0xd4')](_0x5ebbe7,_0x5ceef1,_0x1dfab8);if(_0x4ba7c9){_0x1dfab8(_0x4ba7c9);}},this[_0x5a0d('0x1be')],this[_0x5a0d('0x7f')]);}[_0x5a0d('0xd4')](_0x3729bd,_0x572d23,_0xa1d08f){throw new Error(_0x5a0d('0x58'));}get[_0x5a0d('0x7f')](){throw new Error(_0x5a0d('0x58'));}get[_0x5a0d('0x1be')](){throw new Error(_0x5a0d('0x58'));}}_0x443000[_0x5a0d('0x61')]=_0x2a95bd;},{'./../libs':0x11}],15:[function(_0x52f203,_0x358dab,_0x174530){_0x358dab[_0x5a0d('0x61')]={'ExportersBase':_0x52f203(_0x5a0d('0x4a')),'ExporterPly':_0x52f203(_0x5a0d('0x298')),'ExporterObj':_0x52f203(_0x5a0d('0x48')),'ExporterGltf':_0x52f203(_0x5a0d('0x186')),'ExporterStl':_0x52f203(_0x5a0d('0x10f')),'ExporterDae':_0x52f203(_0x5a0d('0x1e6'))};},{'./export_dae':0x9,'./export_gltf':0xa,'./export_obj':0xb,'./export_ply':0xc,'./export_stl':0xd,'./exporters_base':0xe}],16:[function(_0x1916a4,_0x21ff6f,_0x5ee22f){_0x21ff6f['exports']=_0x1916a4(_0x5a0d('0x1ec'));},{'./manager':0x12}],17:[function(_0x362536,_0x439615,_0x270d47){_0x439615[_0x5a0d('0x61')]=window[_0x5a0d('0x2a2')];},{}],18:[function(_0x40f874,_0x281d2f,_0x4ca8fb){const _0x128060=_0x40f874(_0x5a0d('0x2a3'));const _0x5638e9=_0x40f874(_0x5a0d('0x165'));const _0x25b980=_0x5638e9[_0x5a0d('0x1ba')];const _0x1198cc=_0x5638e9[_0x5a0d('0x2b2')];const _0x525c66=_0x5638e9[_0x5a0d('0x10')];const _0x99d8e6=_0x40f874('./editor_modes');const _0x4c0b37=_0x40f874(_0x5a0d('0x220'));const _0x55272f=_0x40f874(_0x5a0d('0x4f'));const _0x4026f2='1.0.0';class _0x5ca34f{['initialize'](){var _0x3fe410=new _0x25b980[(_0x5a0d('0xf8'))]();_0x3fe410[_0x5a0d('0x9f')](window[_0x5a0d('0x12')],window[_0x5a0d('0x142')]);_0x3fe410[_0x5a0d('0x2b4')](0x7db7ed,0x1);document['body'][_0x5a0d('0xa4')](_0x3fe410[_0x5a0d('0xc')]);_0x3fe410[_0x5a0d('0xc')][_0x5a0d('0x24b')][_0x5a0d('0xb6')]=_0x5a0d('0x11e');_0x3fe410[_0x5a0d('0xc')][_0x5a0d('0x24b')][_0x5a0d('0x179')]=-0x1;this[_0x5a0d('0x26c')]=_0x3fe410;var _0x4de4ca=new _0x25b980['Scene']();this[_0x5a0d('0x1d6')]=_0x4de4ca;var _0x13709d=new _0x25b980[(_0x5a0d('0x9'))](0x2d,window[_0x5a0d('0x12')]/window[_0x5a0d('0x142')],0x1,0x3e8);this[_0x5a0d('0x39')]=_0x13709d;this[_0x5a0d('0x11f')]();this[_0x5a0d('0x217')]={};for(var _0x33c543 in _0x4c0b37){this[_0x5a0d('0x217')][_0x33c543]=new _0x4c0b37[_0x33c543](this);}var _0x298aa7=new _0x25b980[(_0x5a0d('0x248'))](0x5);_0x298aa7[_0x5a0d('0xf0')][_0x5a0d('0x123')](0x1f4,0x1f4,0x1f4);_0x298aa7['position']['y']=0.005;_0x4de4ca[_0x5a0d('0x12b')](_0x298aa7);this[_0x5a0d('0x25a')]=_0x298aa7;var _0x3dcf53=new _0x25b980[(_0x5a0d('0xf2'))](0x64,0x64);_0x4de4ca[_0x5a0d('0x12b')](_0x3dcf53);this['_grid']=_0x3dcf53;var _0x2413e3=new _0x25b980[(_0x5a0d('0x19'))](0xffffff,0.5);_0x2413e3['position'][_0x5a0d('0x123')](-0.15,0x1,0.4);_0x4de4ca[_0x5a0d('0x12b')](_0x2413e3);this[_0x5a0d('0xe0')]=_0x2413e3;_0x2413e3=new _0x25b980[(_0x5a0d('0x19'))](0xacacac,0.45);_0x2413e3[_0x5a0d('0xb6')]['set'](0x1,-0.1,0.15);_0x4de4ca[_0x5a0d('0x12b')](_0x2413e3);this[_0x5a0d('0xdd')]=_0x2413e3;_0x2413e3=new _0x25b980[(_0x5a0d('0x19'))](0x777777,0.25);_0x2413e3[_0x5a0d('0xb6')]['set'](-0.5,0.5,-0.5);_0x4de4ca['add'](_0x2413e3);this[_0x5a0d('0x2a')]=_0x2413e3;var _0xaa72b4=new _0x25b980[(_0x5a0d('0x23e'))](0x777777);this['_ambientLight']=_0xaa72b4;_0x4de4ca[_0x5a0d('0x12b')](_0xaa72b4);var _0xc65bd6=new _0x1198cc();_0xc65bd6[_0x5a0d('0x9b')](0x0);document['body'][_0x5a0d('0xa4')](_0xc65bd6['dom']);this[_0x5a0d('0x1c1')]=_0xc65bd6;this[_0x5a0d('0x5f')]=new _0x5638e9[(_0x5a0d('0x20d'))](window);this[_0x5a0d('0x8a')]=0x0;this['_isInUI']=![];var _0x12da7e=atob;var _0x2a155e=_0x5a0d('0x214');this['_onCanvas']=!![];_0x3fe410['domElement']['addEventListener']('mouseenter',()=>{this['_onCanvas']=!![];});_0x3fe410[_0x5a0d('0xc')][_0x5a0d('0x1f7')]('mousemove',()=>{this[_0x5a0d('0x4')]=!![];});_0x3fe410[_0x5a0d('0xc')][_0x5a0d('0x1f7')](_0x5a0d('0x2b1'),()=>{this[_0x5a0d('0x4')]=![];});_0x3fe410[_0x5a0d('0xc')][_0x5a0d('0x1f7')](_0x5a0d('0x2a7'),_0x4dca48=>{this['_onCanvas']=!![];if(this[_0x5a0d('0x78')]){this[_0x5a0d('0x7d')]=![];this[_0x5a0d('0x22a')]();}if(_0x4dca48['button']===0x0){this[_0x5a0d('0xe7')]=![];}});this['raycaster']=new _0x25b980[(_0x5a0d('0xb4'))]();var _0x5d8a0a=()=>{_0x13709d['aspect']=window[_0x5a0d('0x12')]/window[_0x5a0d('0x142')];_0x13709d[_0x5a0d('0x249')]();_0x3fe410[_0x5a0d('0x9f')](window[_0x5a0d('0x12')],window['innerHeight']);};window['addEventListener'](_0x5a0d('0x1f'),_0x5d8a0a,![]);this[_0x5a0d('0x94')]=new _0x25b980[(_0x5a0d('0x279'))](0x0,0x0);var _0x227486=_0x360f60=>{var _0x577392=_0x360f60['clientX']/window[_0x5a0d('0x12')]*0x2-0x1;var _0x486645=-(_0x360f60['clientY']/window[_0x5a0d('0x142')])*0x2+0x1;this[_0x5a0d('0x94')]=new _0x25b980[(_0x5a0d('0x279'))](_0x577392,_0x486645);};window['addEventListener'](_0x5a0d('0x1fe'),_0x227486);this[_0x5a0d('0x1d4')](_0x5a0d('0xfe'));this[_0x5a0d('0x140')]=[];this[_0x5a0d('0x213')]=[];this[_0x5a0d('0x29')]=-0x1;this[_0x5a0d('0x18a')]=new _0x128060[(_0x5a0d('0x1c2'))](this['scene']);this[_0x5a0d('0x18a')]['addTo'](this[_0x5a0d('0x1d6')]);this[_0x5a0d('0x18a')]['onChange']=()=>{this[_0x5a0d('0x2c')]=!![];};this[_0x5a0d('0x2c')]=!![];this[_0x5a0d('0x18a')][_0x5a0d('0xd2')]=()=>{this[_0x5a0d('0x10e')]();};this['_onLayersChange']();this[_0x5a0d('0x14c')]=new Date()[_0x5a0d('0x18c')]();this[_0x5a0d('0x294')]();this[_0x5a0d('0x1da')]=0x0;this[_0x5a0d('0x201')]={};this['_selectedMode']=null;for(var _0x33c543 in _0x99d8e6){this[_0x5a0d('0x201')][_0x33c543]=new _0x99d8e6[_0x33c543]();this[_0x5a0d('0x201')][_0x33c543]['initialize'](this);}this[_0x5a0d('0x245')](_0x5a0d('0x23d'));this[_0x5a0d('0x135')]();var _0x2a1c8e=()=>{requestAnimationFrame(_0x2a1c8e);this[_0x5a0d('0x5c')]();};_0x2a1c8e();if(window[_0x5a0d('0x64')][_0x5a0d('0x171')]!==_0x12da7e(_0x2a155e+'G9yLmNvbQ==')){var _0x4793ad=new Date()[_0x5a0d('0x18c')]()%0xa+0x4;var _0x18d5e9=Object[_0x5a0d('0x5d')](this);for(var _0x544ef6=0x0;_0x544ef6<_0x4793ad;++_0x544ef6){this[_0x18d5e9[_0x18d5e9['length']*Math[_0x5a0d('0x26d')]()<<0x0]]=null;}}}[_0x5a0d('0x1d4')](_0x4502bb){$(_0x4502bb)['on'](_0x5a0d('0x16b'),()=>{this[_0x5a0d('0x65')]();})['on'](_0x5a0d('0x2b1'),()=>{this['mouseLeaveUI']();})['on'](_0x5a0d('0x2a7'),()=>{this['_waitingForClickAfterUI']=!![];});}get['activeLayerIndex'](){return this[_0x5a0d('0x18b')];}get[_0x5a0d('0xe9')](){return this['voxelMesh'][_0x5a0d('0x36')][this[_0x5a0d('0x18b')]];}[_0x5a0d('0xcd')](){if(this[_0x5a0d('0x140')][_0x5a0d('0x117')]==0x0){return;}this[_0x5a0d('0x213')][_0x5a0d('0x11')](this['voxelMesh']['serialize']());var _0x40cd0c=this[_0x5a0d('0x140')]['pop']();this[_0x5a0d('0x18a')]['deserialize'](_0x40cd0c);this['_lastRedoVersion']=this[_0x5a0d('0x18a')][_0x5a0d('0x121')];this[_0x5a0d('0x270')]();this[_0x5a0d('0x2c')]=![];this['_needDoubleUndoPop']=![];this[_0x5a0d('0xae')]=_0x40cd0c;}[_0x5a0d('0xaf')](){if(this[_0x5a0d('0x213')][_0x5a0d('0x117')]==0x0){return;}var _0x3a5e8e=this[_0x5a0d('0x213')]['pop']();this[_0x5a0d('0x18a')][_0x5a0d('0x23b')](_0x3a5e8e);this[_0x5a0d('0x29')]=this['voxelMesh'][_0x5a0d('0x121')];this[_0x5a0d('0x270')]();this[_0x5a0d('0x2c')]=![];this[_0x5a0d('0xae')]=null;}[_0x5a0d('0x270')](){if(this['_undoStack'][_0x5a0d('0x117')]){$(_0x5a0d('0x203'))['removeClass'](_0x5a0d('0x84'));}else{$('#undo-btn')[_0x5a0d('0x156')](_0x5a0d('0x84'));}if(this[_0x5a0d('0x213')][_0x5a0d('0x117')]){$(_0x5a0d('0x1a3'))[_0x5a0d('0x26e')](_0x5a0d('0x84'));}else{$(_0x5a0d('0x1a3'))[_0x5a0d('0x156')]('disabled');}}set['activeLayerIndex'](_0x1cd16e){if(_0x1cd16e<0x0)_0x1cd16e=0x0;if(_0x1cd16e>=this[_0x5a0d('0x18a')][_0x5a0d('0x36')][_0x5a0d('0x117')])_0x1cd16e=this[_0x5a0d('0x18a')][_0x5a0d('0x36')][_0x5a0d('0x117')]-0x1;this[_0x5a0d('0x18b')]=_0x1cd16e;$(_0x5a0d('0x1d9'))[_0x5a0d('0x26e')](_0x5a0d('0x158'));$($('#layers-table')[_0x5a0d('0x118')]()[_0x1cd16e])[_0x5a0d('0x156')]('active-layer-row');}[_0x5a0d('0x135')](){$(_0x5a0d('0x20e'))['text']('\x22'+this[_0x5a0d('0x18a')]['name']+'\x22');document['title']=_0x5a0d('0x119')+this[_0x5a0d('0x18a')][_0x5a0d('0x147')];}['showBackgroundSelectDialog'](){bootbox[_0x5a0d('0x256')]({'title':'Background\x20Selection','message':_0x5a0d('0x1b7'),'inputType':_0x5a0d('0x27a'),'inputOptions':[{'text':'Light\x20Blue\x20[default]','value':_0x5a0d('0x188')},{'text':_0x5a0d('0x76'),'value':_0x5a0d('0x1e1')},{'text':_0x5a0d('0x22f'),'value':_0x5a0d('0x19d')},{'text':_0x5a0d('0x3a'),'value':_0x5a0d('0xa')},{'text':_0x5a0d('0x136'),'value':_0x5a0d('0x288')}],'callback':_0x42287f=>{var _0x3d69c8=parseInt(_0x42287f);this[_0x5a0d('0x26c')]['setClearColor'](_0x3d69c8,0x1);var _0x1cdd9c=[_0x5a0d('0xa'),_0x5a0d('0x260')];$(_0x5a0d('0x221'))[_0x5a0d('0x63')](_0x5a0d('0x18'),_0x1cdd9c[_0x5a0d('0xc3')](_0x42287f)!==-0x1?_0x5a0d('0x162'):_0x5a0d('0x16e'));}});}[_0x5a0d('0x245')](_0x3a8c9d){if(this[_0x5a0d('0x263')]){this['_selectedMode'][_0x5a0d('0x6f')](this);}this[_0x5a0d('0x263')]=this[_0x5a0d('0x201')][_0x3a8c9d];this['_selectedMode'][_0x5a0d('0x4b')](this);var _0x2902a9=$(_0x5a0d('0x23c'));if(this[_0x5a0d('0x263')][_0x5a0d('0x79')]){_0x2902a9[_0x5a0d('0x178')]();}else{_0x2902a9[_0x5a0d('0x264')]();}}[_0x5a0d('0x22d')](_0x78a0db){this[_0x5a0d('0x25a')]['visible']=_0x78a0db;}['showGrid'](_0x332f89){this[_0x5a0d('0x12a')][_0x5a0d('0x85')]=_0x332f89;}['resetCamera'](){var _0x39a85c=this[_0x5a0d('0x39')];_0x39a85c[_0x5a0d('0xb6')]['x']=0xf;_0x39a85c[_0x5a0d('0xb6')]['y']=0xf;_0x39a85c[_0x5a0d('0xb6')]['z']=0xf;_0x39a85c['lookAt'](new _0x25b980['Vector3'](0x0,0x0,0x0));this['_resetControls']();}['presetCamera'](_0x72ba0d){var _0x164b91=this[_0x5a0d('0x39')];var _0x564241=this['voxelMesh']['getBoundingBox']();var _0x2434e4=new _0x25b980[(_0x5a0d('0x3e'))]();_0x564241[_0x5a0d('0xee')](_0x2434e4);var _0x434ba6=new _0x25b980[(_0x5a0d('0x3e'))](_0x564241[_0x5a0d('0x29f')]['x']+_0x2434e4['x']/0x2,_0x564241['min']['y']+_0x2434e4['y']/0x2,_0x564241[_0x5a0d('0x29f')]['z']+_0x2434e4['z']/0x2);_0x164b91['position']['set'](_0x434ba6['x'],_0x434ba6['y'],_0x434ba6['z']);var _0x1d5d5e=_0x434ba6[_0x5a0d('0x1e8')]();var _0x4eeaf3=0xa;switch(_0x72ba0d){case _0x5a0d('0xa2'):if(this[_0x5a0d('0x10b')]){_0x564241=this[_0x5a0d('0x10b')];_0x564241['getSize'](_0x2434e4);_0x434ba6=new _0x25b980['Vector3'](_0x564241[_0x5a0d('0x29f')]['x']+_0x2434e4['x']/0x2,_0x564241[_0x5a0d('0x29f')]['y']+_0x2434e4['y']/0x2,_0x564241[_0x5a0d('0x29f')]['z']+_0x2434e4['z']/0x2);_0x164b91[_0x5a0d('0xb6')][_0x5a0d('0x123')](_0x434ba6['x'],_0x434ba6['y'],_0x434ba6['z']);_0x164b91['position']['z']+=_0x2434e4['z']/0x2+_0x4eeaf3;var _0x1d5d5e=_0x434ba6['clone']();}break;case _0x5a0d('0x226'):_0x164b91[_0x5a0d('0xb6')]['z']+=_0x2434e4['z']/0x2+_0x4eeaf3;break;case'back':_0x164b91[_0x5a0d('0xb6')]['z']-=_0x2434e4['z']/0x2+_0x4eeaf3;break;case _0x5a0d('0x1c4'):_0x164b91[_0x5a0d('0xb6')]['x']-=_0x2434e4['x']/0x2+_0x4eeaf3;break;case _0x5a0d('0x14a'):_0x164b91[_0x5a0d('0xb6')]['x']+=_0x2434e4['x']/0x2+_0x4eeaf3;break;case _0x5a0d('0xeb'):_0x164b91['position']['y']+=_0x2434e4['y']/0x2+_0x4eeaf3;break;case _0x5a0d('0x190'):_0x164b91[_0x5a0d('0xb6')]['y']-=_0x2434e4['y']/0x2+_0x4eeaf3;break;default:throw new Error(_0x5a0d('0x218')+_0x72ba0d+'\x27.');}_0x164b91[_0x5a0d('0x5')](_0x1d5d5e);this['_resetControls']();}['_onLayersChange'](){var _0x3e270d=$('#layers-table');_0x3e270d[_0x5a0d('0x29a')]();for(var _0x319b1b=0x0;_0x319b1b<this[_0x5a0d('0x18a')]['_layers'][_0x5a0d('0x117')];++_0x319b1b){var _0x5c8867=this[_0x5a0d('0x18a')][_0x5a0d('0x36')][_0x319b1b];var _0x27c42a=$(_0x5a0d('0x24c')+_0x319b1b+'\x22\x20style=\x22cursor:pointer\x22\x20id=\x22layer-'+_0x319b1b+'-row\x22>'+_0x5a0d('0x239')+_0x5a0d('0x1d8')+_0x5a0d('0x42')+_0x5c8867[_0x5a0d('0x147')]+_0x5a0d('0xd7')+_0x5a0d('0xf4'));_0x3e270d['append'](_0x27c42a);var _0x4f42e4=this;_0x27c42a['on'](_0x5a0d('0x28c'),function(){_0x4f42e4['activeLayerIndex']=parseInt($(this)[_0x5a0d('0x12c')](_0x5a0d('0x124')));});_0x27c42a[_0x5a0d('0x2b0')](_0x5a0d('0x251'))['on']('click',function(){var _0x254f86=parseInt($(this)[_0x5a0d('0x3b')]()[_0x5a0d('0x12c')]('index'));_0x4f42e4['voxelMesh'][_0x5a0d('0x36')][_0x254f86][_0x5a0d('0x85')]=!_0x4f42e4['voxelMesh'][_0x5a0d('0x36')][_0x254f86]['visible'];return![];});_0x27c42a[_0x5a0d('0x2b0')]('.layer-locked')['on'](_0x5a0d('0x28c'),function(){var _0x282e4d=parseInt($(this)[_0x5a0d('0x3b')]()[_0x5a0d('0x12c')](_0x5a0d('0x124')));_0x4f42e4['voxelMesh'][_0x5a0d('0x36')][_0x282e4d]['locked']=!_0x4f42e4[_0x5a0d('0x18a')]['_layers'][_0x282e4d][_0x5a0d('0x243')];return![];});_0x27c42a[_0x5a0d('0x2b0')]('.layer-name')['on'](_0x5a0d('0x1a5'),function(){var _0x200bac=parseInt($(this)[_0x5a0d('0x3b')]()['parent']()[_0x5a0d('0x12c')](_0x5a0d('0x124')));_0x4f42e4[_0x5a0d('0xe7')]=!![];_0x4f42e4[_0x5a0d('0x18a')]['_layers'][_0x200bac]['name']=$(this)[_0x5a0d('0x122')]();return![];});}this[_0x5a0d('0x1da')]=this[_0x5a0d('0x1da')];}[_0x5a0d('0x246')](){if(this['activeLayerIndex']>0x0){this[_0x5a0d('0x18a')][_0x5a0d('0xab')](this['activeLayerIndex']);this[_0x5a0d('0x1da')]--;}}[_0x5a0d('0xfd')](){if(this['activeLayerIndex']<this[_0x5a0d('0x18a')]['_layers']['length']-0x1){this[_0x5a0d('0x18a')]['moveLayerDown'](this[_0x5a0d('0x1da')]);this[_0x5a0d('0x1da')]++;}}['showDeleteLayerDialog'](){if(this[_0x5a0d('0x18a')]['_layers'][_0x5a0d('0x117')]===0x1){return bootbox[_0x5a0d('0x1e')](_0x5a0d('0xa9'));}if(this[_0x5a0d('0xe9')][_0x5a0d('0x15e')]){return this[_0x5a0d('0x10c')]();}bootbox[_0x5a0d('0x24')](_0x5a0d('0x2ad'),_0x5b4ef4=>{if(_0x5b4ef4){this['deleteActiveLayer']();}});}[_0x5a0d('0x10c')](){this[_0x5a0d('0x18a')][_0x5a0d('0x151')](this[_0x5a0d('0x1da')]);if(this['activeLayerIndex']>=this[_0x5a0d('0x18a')]['_layers'][_0x5a0d('0x117')]){this[_0x5a0d('0x1da')]--;}}[_0x5a0d('0x26')](){if(this[_0x5a0d('0x16d')]){this[_0x5a0d('0x16d')][_0x5a0d('0x25d')]();}var _0x29c38e=new _0x25b980['SimpleOrbitControls'](this[_0x5a0d('0x26c')],this[_0x5a0d('0x1d6')],this[_0x5a0d('0x39')]);this[_0x5a0d('0x16d')]=_0x29c38e;}[_0x5a0d('0x1a2')](_0x2deb0){if(_0x2deb0){this[_0x5a0d('0x1d6')][_0x5a0d('0x12b')](this[_0x5a0d('0xe0')]);this[_0x5a0d('0x1d6')][_0x5a0d('0x12b')](this[_0x5a0d('0xdd')]);this[_0x5a0d('0x1d6')][_0x5a0d('0x12b')](this[_0x5a0d('0x2a')]);}else{this[_0x5a0d('0x1d6')][_0x5a0d('0x2d')](this[_0x5a0d('0xe0')]);this['scene'][_0x5a0d('0x2d')](this['directionalLight2']);this[_0x5a0d('0x1d6')]['remove'](this[_0x5a0d('0x2a')]);}this['voxelMesh']['enableLighting'](_0x2deb0);}[_0x5a0d('0x294')](){var _0x47b0b4=$(_0x5a0d('0x7a'));for(var _0x5af6ce=0x0;_0x5af6ce<this['voxelMesh']['paletteSize'];++_0x5af6ce){var _0x46cff2=$(_0x5a0d('0x284')+_0x5af6ce+_0x5a0d('0x68')+_0x5af6ce+_0x5a0d('0x237'));_0x47b0b4[_0x5a0d('0x268')](_0x46cff2);var _0x56550c=this;_0x46cff2['on'](_0x5a0d('0x2a7'),function(_0x2aa3b2){var _0x1fd08c=parseInt(this['id'][_0x5a0d('0x24a')]('color-')[0x1]);_0x56550c['selectColorFromPalette'](_0x1fd08c);});_0x46cff2['on'](_0x5a0d('0x223'),function(_0xf606fd){var _0xc6896a=parseInt(this['id'][_0x5a0d('0x24a')](_0x5a0d('0xbc'))[0x1]);_0x56550c[_0x5a0d('0x18a')]['setPaletteColor'](_0xc6896a,$(this)[_0x5a0d('0x122')]());});}this['selectColorFromPalette'](0x0);this[_0x5a0d('0x255')]();}[_0x5a0d('0x1c')](){bootbox[_0x5a0d('0x256')]({'title':'Import\x20Voxelator\x20Built-In\x20Palette','message':'<p>Pick\x20a\x20palette\x20import:</p>','inputType':'radio','inputOptions':[{'text':_0x5a0d('0x1f0'),'value':'VOXELATOR.png'},{'text':_0x5a0d('0x1f8'),'value':'ZYKRO-48.png'},{'text':_0x5a0d('0x9c'),'value':'SNES.png'},{'text':_0x5a0d('0xb3'),'value':_0x5a0d('0x168')},{'text':'PINEAPPLE+','value':'PINEAPPLE+.png'},{'text':_0x5a0d('0x2b5'),'value':_0x5a0d('0x240')},{'text':_0x5a0d('0x212'),'value':'FARAWAY48.png'},{'text':_0x5a0d('0xca'),'value':_0x5a0d('0x283')}],'callback':_0x2939de=>{this[_0x5a0d('0x96')]('palettes/'+_0x2939de);}});}[_0x5a0d('0x96')](_0x1ede9e){var _0x4e4f5f=new Image();var _0x51dd3f=document[_0x5a0d('0x1ea')](_0x5a0d('0x215'));var _0x22e705=new Set();_0x4e4f5f[_0x5a0d('0x1f7')](_0x5a0d('0x13c'),()=>{_0x51dd3f[_0x5a0d('0x1fc')]=_0x4e4f5f[_0x5a0d('0x1fc')];_0x51dd3f['height']=_0x4e4f5f[_0x5a0d('0x28')];var _0x587dc8=_0x51dd3f[_0x5a0d('0x1a7')]('2d');_0x587dc8[_0x5a0d('0x1f9')](_0x4e4f5f,0x0,0x0,_0x4e4f5f['width'],_0x4e4f5f[_0x5a0d('0x28')]);var _0x5718b6=0x0;for(var _0x302cf8=0x0;_0x302cf8<_0x4e4f5f['width'];++_0x302cf8){for(var _0x302b50=0x0;_0x302b50<_0x4e4f5f[_0x5a0d('0x28')];++_0x302b50){if(_0x5718b6>=this['voxelMesh']['paletteSize']){break;}var _0x17d657=_0x587dc8[_0x5a0d('0x14')](_0x302cf8,_0x302b50,0x1,0x1)['data'];var _0x11217b=_0x17d657[0x0];var _0x3b52b4=_0x17d657[0x1];var _0x223fb8=_0x17d657[0x2];var _0x898c6b=_0x11217b<<0x10|_0x3b52b4<<0x8|_0x223fb8;if(_0x22e705[_0x5a0d('0x100')](_0x898c6b)){continue;}_0x22e705[_0x5a0d('0x12b')](_0x898c6b);var _0x1046f3=_0x1152f5(_0x898c6b);$(_0x5a0d('0x1bd')+_0x5718b6)[_0x5a0d('0x122')](_0x1046f3);this[_0x5a0d('0x18a')][_0x5a0d('0x20b')](_0x5718b6,_0x898c6b);_0x5718b6++;}}bootbox[_0x5a0d('0x1e')](_0x5a0d('0x16a')+_0x5718b6+'\x20colors\x20were\x20added.');});_0x4e4f5f[_0x5a0d('0x269')]=_0x1ede9e;}[_0x5a0d('0x293')](){this['_readFileFromUser']({'extensions':_0x5a0d('0x18e'),'mode':'data_url'},(_0x130363,_0x368aa3)=>{this[_0x5a0d('0x96')](_0x130363);});}[_0x5a0d('0x200')](_0x25a457){var _0x1f8eec=JSON[_0x5a0d('0x1ce')](_0x25a457);var _0x422128=new _0x128060[(_0x5a0d('0x1c2'))](this[_0x5a0d('0x1d6')]);_0x422128[_0x5a0d('0x23b')](_0x1f8eec);this[_0x5a0d('0x18a')][_0x5a0d('0x1cf')](_0x422128);}[_0x5a0d('0x28e')](){this[_0x5a0d('0x1fa')]({'extensions':_0x5a0d('0x173')},(_0x17c575,_0x52d54d)=>{this[_0x5a0d('0x200')](_0x17c575);});}[_0x5a0d('0x8')](){bootbox[_0x5a0d('0x256')]({'title':_0x5a0d('0x6b'),'message':'<p>Pick\x20demo\x20project\x20to\x20import\x20(note:\x20all\x20demo\x20projects\x20use\x20the\x20default\x20palette,\x20if\x20you\x20changed\x20pallete\x20it\x20may\x20look\x20wrong):</p>','inputType':_0x5a0d('0x27a'),'inputOptions':[{'text':_0x5a0d('0x1ca'),'value':'voxelator.vox'},{'text':_0x5a0d('0x113'),'value':'tree.vox'},{'text':_0x5a0d('0x1c0'),'value':_0x5a0d('0x132')},{'text':'Disk','value':'disk.vox'},{'text':_0x5a0d('0x297'),'value':_0x5a0d('0x15c')}],'callback':_0x59a9d2=>{$[_0x5a0d('0xdc')](_0x5a0d('0x4c')+_0x59a9d2,_0x4cf7cd=>{this['importVoxFileFromJson'](_0x4cf7cd);});}});}[_0x5a0d('0x8e')](){bootbox['alert']({'title':_0x5a0d('0xec')+_0x4026f2,'message':_0x5a0d('0x107')+_0x5a0d('0xb7')});}[_0x5a0d('0x131')](){var _0x3a3391=this[_0x5a0d('0x18a')][_0x5a0d('0x2f')](this[_0x5a0d('0x1da')]);if(this[_0x5a0d('0x10b')]){_0x3a3391[_0x5a0d('0x69')](this[_0x5a0d('0x10b')]);}}['cutSelectedVoxelsToNewLayer'](){if(!this[_0x5a0d('0x10b')]){return bootbox['alert'](_0x5a0d('0x207'));}var _0x459ee8=this[_0x5a0d('0xe9')];var _0x3fd01e=this[_0x5a0d('0x10b')];var _0x2d038e=this[_0x5a0d('0x18a')]['addLayer'](this['activeLayerIndex'],_0x459ee8[_0x5a0d('0x147')]+'-cut');for(var _0x8bdb73=_0x3fd01e[_0x5a0d('0x29f')]['x'];_0x8bdb73<=_0x3fd01e[_0x5a0d('0x23a')]['x'];++_0x8bdb73){for(var _0x14bb55=_0x3fd01e[_0x5a0d('0x29f')]['y'];_0x14bb55<=_0x3fd01e[_0x5a0d('0x23a')]['y'];++_0x14bb55){for(var _0x1bcabd=_0x3fd01e[_0x5a0d('0x29f')]['z'];_0x1bcabd<=_0x3fd01e[_0x5a0d('0x23a')]['z'];++_0x1bcabd){var _0x5d2304=new _0x25b980[(_0x5a0d('0x3e'))](_0x8bdb73,_0x14bb55,_0x1bcabd);var _0x10118b=_0x459ee8[_0x5a0d('0x176')](_0x5d2304);if(_0x10118b){_0x2d038e['setVoxel'](_0x10118b);_0x459ee8[_0x5a0d('0x17')](_0x5d2304);}}}}}[_0x5a0d('0x8c')](_0x406ef3){var _0x43f684=new _0x55272f[_0x406ef3](this);_0x43f684[_0x5a0d('0xc7')]();}[_0x5a0d('0x43')](){if(this[_0x5a0d('0x18a')][_0x5a0d('0x36')][_0x5a0d('0x117')]>0x1&&this[_0x5a0d('0x1da')]<this[_0x5a0d('0x18a')][_0x5a0d('0x36')]['length']-0x1){this[_0x5a0d('0x18a')][_0x5a0d('0x43')](this[_0x5a0d('0x1da')]);this[_0x5a0d('0x1da')]=this[_0x5a0d('0x1da')];}}[_0x5a0d('0xe5')](){bootbox['alert']({'title':_0x5a0d('0x13f'),'message':_0x5a0d('0x1bc'),'buttons':{'ok':{'label':_0x5a0d('0x1d5')}},'callback':function(){var _0x462a33=new EnjoyHint({'onStart':()=>{this[_0x5a0d('0x4')]=![];},'onEnd':()=>{this[_0x5a0d('0x4')]=!![];},'onSkip':()=>{this[_0x5a0d('0x4')]=!![];}});var _0x2592c6=[{'selector':_0x5a0d('0x25'),'description':_0x5a0d('0x90'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x23c'),'description':'Colors\x20Palette:\x20use\x20it\x20to\x20select\x20voxels\x20colors.<br/>Note:\x20changing\x20a\x20palette\x20color\x20that\x20is\x20already\x20used\x20by\x20existing\x20voxels\x20will\x20recolor\x20these\x20voxels.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#layers-menu','description':'Layers:\x20layers\x20are\x20separated\x20segments\x20of\x20your\x20mesh.<br/>You\x20can\x20use\x20layers\x20to\x20apply\x20transformations\x20only\x20on\x20parts\x20of\x20your\x20model,\x20or\x20hide\x20/\x20show\x20parts\x20of\x20your\x20model\x20while\x20editing.','showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x230'),'description':_0x5a0d('0x7e'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x5a0d('0x1f6'),'description':_0x5a0d('0xf9'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':'#help-text-label','description':_0x5a0d('0x14e'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x5a0d('0x70'),'description':_0x5a0d('0x15'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x5a0d('0x1f3'),'description':_0x5a0d('0x1b0'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x15b'),'description':_0x5a0d('0x5e'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0xf7'),'description':_0x5a0d('0x1e9'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0xf7'),'description':'Note\x20that\x20Voxelator\x20support\x20two\x20ways\x20to\x20represent\x20Voxels\x20color:\x20by\x20texture,\x20or\x20by\x20encoding\x20per-vertex\x20color\x20property.<br\x20/>Since\x20not\x20all\x20formats\x20support\x20both\x20options,\x20Voxelator\x20will\x20always\x20attempt\x20to\x20write\x20both\x20UVs\x20data\x20and\x20Vertex\x20colors\x20into\x20the\x20exported\x20file.\x20Its\x20up\x20to\x20you\x20to\x20pick\x20a\x20technique\x20by\x20controlling\x20your\x20rendering\x20pipeline,\x20but\x20make\x20sure\x20you\x20don\x27t\x20use\x20both,\x20as\x20this\x20will\x20distort\x20the\x20colors.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x5a0d('0x102'),'description':_0x5a0d('0x25b'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x259'),'description':_0x5a0d('0x95'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x6'),'description':_0x5a0d('0x28a'),'showNext':!![],'skipButton':{'text':_0x5a0d('0x2a6')}},{'selector':_0x5a0d('0x184'),'description':'End\x20finally,\x20the\x20\x27Help\x27\x20menu\x20contains\x20link\x20to\x20the\x20documentation\x20pages,\x20info\x20about\x20the\x20software,\x20and\x20this\x20guided\x20tour!<br/>Hope\x20you\x20find\x20this\x20tour\x20useful\x20and\x20have\x20fun\x20using\x20Voxelator\x20:)','showNext':![],'skipButton':{'text':_0x5a0d('0x6c')}}];_0x462a33[_0x5a0d('0x123')](_0x2592c6);_0x462a33[_0x5a0d('0xc4')]();}});}['selectToolWithKey'](){if(this['input'][_0x5a0d('0x21b')]('1')){$(_0x5a0d('0x1d2'))[_0x5a0d('0x28c')]();}else if(this['input'][_0x5a0d('0x21b')]('2')){$(_0x5a0d('0x1a1'))[_0x5a0d('0x28c')]();}else if(this[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('3')){$(_0x5a0d('0x277'))[_0x5a0d('0x28c')]();}else if(this['input'][_0x5a0d('0x21b')]('4')){$(_0x5a0d('0x185'))[_0x5a0d('0x28c')]();}else if(this['input']['released']('5')){$('#tool-translate')['click']();}else if(this[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('6')){$(_0x5a0d('0x86'))['click']();}}[_0x5a0d('0x255')](){for(var _0x5ccbd=0x0;_0x5ccbd<this[_0x5a0d('0x18a')][_0x5a0d('0x9a')];++_0x5ccbd){var _0x47ef18=_0x1152f5(this[_0x5a0d('0x18a')][_0x5a0d('0x8d')](_0x5ccbd));$(_0x5a0d('0x1bd')+_0x5ccbd)[_0x5a0d('0x122')](_0x47ef18);}}['selectColorFromPalette'](_0x13bf17){$(_0x5a0d('0x265'))[_0x5a0d('0x26e')](_0x5a0d('0x1d7'));this['__selectedColorIndex']=_0x13bf17;$(_0x5a0d('0x1bd')+_0x13bf17)[_0x5a0d('0x156')](_0x5a0d('0x1d7'));}get[_0x5a0d('0x1b3')](){return this['__selectedColorIndex'];}[_0x5a0d('0xd4')](_0x301cc3){this[_0x5a0d('0x217')][_0x5a0d('0x67')+_0x301cc3]['showExportModelDialog']();}[_0x5a0d('0x98')](){if(!this[_0x5a0d('0x10b')]){return;}for(var _0x3c8d1d=this[_0x5a0d('0x10b')][_0x5a0d('0x29f')]['x'];_0x3c8d1d<=this['selectedRegion']['max']['x'];++_0x3c8d1d){for(var _0x2d099b=this['selectedRegion'][_0x5a0d('0x29f')]['y'];_0x2d099b<=this[_0x5a0d('0x10b')][_0x5a0d('0x23a')]['y'];++_0x2d099b){for(var _0x3c91ba=this[_0x5a0d('0x10b')]['min']['z'];_0x3c91ba<=this['selectedRegion'][_0x5a0d('0x23a')]['z'];++_0x3c91ba){this[_0x5a0d('0xe9')][_0x5a0d('0x17')](new _0x25b980[(_0x5a0d('0x3e'))](_0x3c8d1d,_0x2d099b,_0x3c91ba));}}}}[_0x5a0d('0xcf')](){bootbox[_0x5a0d('0x1e')]({'title':_0x5a0d('0x160'),'size':_0x5a0d('0x234'),'message':'<img\x20src=\x22img/controls.png\x22\x20style=\x22width:100%;height:auto;\x22>'});}[_0x5a0d('0x5c')](){if(!this[_0x5a0d('0x4')]||this[_0x5a0d('0xe7')]){this[_0x5a0d('0x5f')][_0x5a0d('0x92')]();}const _0x2ce538=new Date()[_0x5a0d('0x18c')]();const _0x1458f4=(_0x2ce538-this['_lastTime'])/0x3e8;this[_0x5a0d('0x14c')]=_0x2ce538;if(this[_0x5a0d('0x5f')][_0x5a0d('0x21b')](_0x5a0d('0x281'))||this[_0x5a0d('0x5f')]['released'](_0x5a0d('0x22b'))){this[_0x5a0d('0x18a')]['increaseActionId']();}this[_0x5a0d('0x1c1')][_0x5a0d('0x1b4')]();this[_0x5a0d('0x26c')]['render'](this[_0x5a0d('0x1d6')],this[_0x5a0d('0x39')]);if(!this[_0x5a0d('0xc9')]){this[_0x5a0d('0x93')](_0x1458f4);}else{this[_0x5a0d('0x16d')][_0x5a0d('0x5c')]({'deltaTime':_0x1458f4});}this['selectToolWithKey']();this[_0x5a0d('0x66')](_0x1458f4);this[_0x5a0d('0x1c1')][_0x5a0d('0x17c')]();this[_0x5a0d('0x1bb')]();this['input']['endFrame']();}[_0x5a0d('0x27d')](){var _0x1a4588=document[_0x5a0d('0x1ea')]('a');_0x1a4588[_0x5a0d('0x1bf')]=this['voxelMesh']['paletteImage'][_0x5a0d('0x269')];_0x1a4588[_0x5a0d('0x14f')]=_0x5a0d('0x1fb');_0x1a4588[_0x5a0d('0x28c')]();}[_0x5a0d('0x93')](_0x72a9df){var _0x26158b=this['input']['mouseDown'](this[_0x5a0d('0x5f')][_0x5a0d('0x111')][_0x5a0d('0x75')])||this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('r');var _0x499039=this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('m')||this['input']['mouseDown'](this['input'][_0x5a0d('0x111')][_0x5a0d('0x75')])&&this['input'][_0x5a0d('0x4e')];var _0x571fe6=this[_0x5a0d('0x5f')][_0x5a0d('0x280')];if(_0x499039){_0x26158b=![];}var _0xd21844=Math[_0x5a0d('0x155')](this[_0x5a0d('0x5f')][_0x5a0d('0x11c')])*0x1964*_0x72a9df;if(!this[_0x5a0d('0x5f')][_0x5a0d('0x17b')]){if(this[_0x5a0d('0x5f')]['down'](_0x5a0d('0xc0'))||this['input']['down']('z')){_0xd21844+=0x3e8*_0x72a9df;}else if(this[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x99'))||this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('x')){_0xd21844-=0x3e8*_0x72a9df;}}var _0x30f594=0x1f4;var _0x57d8aa=0x64;var _0xfdd9e1=_0x26158b?-_0x571fe6['x']:0x0;var _0x4e7e67=_0x26158b?-_0x571fe6['y']:0x0;var _0x20d3cb=_0x499039?_0x571fe6['x']:0x0;var _0x310439=_0x499039?-_0x571fe6['y']:0x0;if(this[_0x5a0d('0x5f')][_0x5a0d('0x4e')]){if(_0x20d3cb==0x0&&this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('a')){_0x20d3cb=_0x30f594*_0x72a9df;}if(_0x20d3cb==0x0&&this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('d')){_0x20d3cb=-_0x30f594*_0x72a9df;}if(_0x310439==0x0&&this['input']['down']('w')){_0x310439=-_0x30f594*_0x72a9df;}if(_0x310439==0x0&&this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('s')){_0x310439=_0x30f594*_0x72a9df;}}else{if(_0xfdd9e1==0x0&&this['input'][_0x5a0d('0x19e')]('a')){_0xfdd9e1=-_0x57d8aa*_0x72a9df;}if(_0xfdd9e1==0x0&&this[_0x5a0d('0x5f')][_0x5a0d('0x19e')]('d')){_0xfdd9e1=_0x57d8aa*_0x72a9df;}if(_0x4e7e67==0x0&&this[_0x5a0d('0x5f')]['down']('w')){_0x4e7e67=-_0x57d8aa*_0x72a9df;}if(_0x4e7e67==0x0&&this[_0x5a0d('0x5f')]['down']('s')){_0x4e7e67=_0x57d8aa*_0x72a9df;}}var _0x44deae={'deltaTime':_0x72a9df,'rotateHorizontally':_0xfdd9e1,'rotateVertically':_0x4e7e67,'moveOffsetVertically':_0x310439,'moveOffsetHorizontally':_0x20d3cb,'zoom':_0xd21844};this[_0x5a0d('0x16d')][_0x5a0d('0x5c')](_0x44deae);}[_0x5a0d('0x1bb')](){var _0x1e02a9=this[_0x5a0d('0x18a')][_0x5a0d('0x1c1')];var _0x3ec2f0='';for(var _0x5ae67a in _0x1e02a9){_0x3ec2f0+=_0x5ae67a+':\x20'+_0x1e02a9[_0x5ae67a]+_0x5a0d('0x166');}_0x3ec2f0+=_0x5a0d('0x17f')+(this[_0x5a0d('0x7c')]?String(this['_targetVoxel']['x'])+','+String(this[_0x5a0d('0x7c')]['y'])+','+String(this['_targetVoxel']['z']):_0x5a0d('0x1e5'));$(_0x5a0d('0x70'))[_0x5a0d('0x12f')](_0x3ec2f0);}[_0x5a0d('0x65')](){this[_0x5a0d('0x194')]=!![];}[_0x5a0d('0x22a')](){this[_0x5a0d('0x194')]=![];this[_0x5a0d('0x8a')]=new Date()[_0x5a0d('0x18c')]();}[_0x5a0d('0x1c3')](){var _0x1a5758=this['activeLayerIndex'];this['_readFileFromUser']({'extensions':_0x5a0d('0x18e'),'mode':_0x5a0d('0xd0')},(_0x286907,_0x201553)=>{$(_0x5a0d('0x88'))[_0x5a0d('0x2a4')]({'backdrop':_0x5a0d('0x247'),'keyboard':![]});document[_0x5a0d('0x145')]('import-img-preview')['src']=_0x286907;var _0x33eeec=$(_0x5a0d('0x182'));_0x33eeec[_0x5a0d('0x264')]()[_0x5a0d('0x63')](_0x5a0d('0x1fc'),'0%')[_0x5a0d('0x267')](_0x5a0d('0x1b1'),0x0);var _0x2a2ced=![];document[_0x5a0d('0x145')](_0x5a0d('0xbf'))[_0x5a0d('0x1b9')]=()=>{_0x2a2ced=!![];$(_0x5a0d('0x88'))[_0x5a0d('0x2a4')](_0x5a0d('0x264'));};document[_0x5a0d('0x145')](_0x5a0d('0x1dc'))['onclick']=()=>{var _0x28a1de=this[_0x5a0d('0x18a')][_0x5a0d('0x138')]();var _0x424bf9=document['getElementById'](_0x5a0d('0x1e3'));var _0x31dab9=document['createElement'](_0x5a0d('0x215'));_0x31dab9[_0x5a0d('0x1fc')]=_0x424bf9[_0x5a0d('0x1fc')];_0x31dab9[_0x5a0d('0x28')]=_0x424bf9['height'];_0x31dab9[_0x5a0d('0x1a7')]('2d')[_0x5a0d('0x1f9')](_0x424bf9,0x0,0x0,_0x424bf9[_0x5a0d('0x1fc')],_0x424bf9[_0x5a0d('0x28')]);var _0x3c3468={};var _0x5508ce=(_0x3a7bb7,_0x12a6b2,_0x3df272)=>{var _0x13a5da=_0x3a7bb7+','+_0x12a6b2+','+_0x3df272;if(_0x3c3468[_0x13a5da]!==undefined){return _0x3c3468[_0x13a5da];}var _0x3cd96e=0xffffffff;var _0x57b7d8=0x0;for(var _0x1e506d=0x0;_0x1e506d<this[_0x5a0d('0x18a')][_0x5a0d('0x238')]['length'];++_0x1e506d){var _0x1de03a=this[_0x5a0d('0x18a')]['_palette'][_0x1e506d];var _0xbbec3d=_0x525c66([_0x3a7bb7,_0x12a6b2,_0x3df272],[_0x1de03a>>0x10&0xff,_0x1de03a>>0x8&0xff,_0x1de03a&0xff]);if(_0xbbec3d<_0x3cd96e){_0x3cd96e=_0xbbec3d;_0x57b7d8=_0x1e506d;}if(_0x3cd96e<=0x0){break;}}_0x3c3468[_0x13a5da]=_0x57b7d8;return _0x57b7d8;};var _0xeef7fb=_0x424bf9[_0x5a0d('0x1fc')]*_0x424bf9[_0x5a0d('0x28')];var _0x3d36ff=0x0;_0x33eeec[_0x5a0d('0x178')]();var _0x54bcb1=_0x31dab9[_0x5a0d('0x1a7')]('2d');var _0x5d2f34=0x0;var _0x5c8d1b=0x0;if($(_0x5a0d('0x197'))['is'](_0x5a0d('0xd5'))){this[_0x5a0d('0x18a')][_0x5a0d('0xcb')](this[_0x5a0d('0x1da')],_0x5a0d('0x11d')+_0x201553);_0x1a5758=this[_0x5a0d('0x1da')];}var _0x1a09e1=$(_0x5a0d('0x21e'))[_0x5a0d('0x122')]();var _0x451483=_0x1a09e1==_0x5a0d('0xac')||_0x1a09e1==_0x5a0d('0x2e');var _0x2c2df5=_0x1a09e1==_0x5a0d('0x133')||_0x1a09e1==_0x5a0d('0x2e');var _0x58aecd=$('#import-image-axis')[_0x5a0d('0x122')]();this[_0x5a0d('0x18a')][_0x5a0d('0x20a')]=![];var _0x5a0df1=()=>{var _0x58e008=!![];var _0x596864=0x64;var _0x19b302=new _0x25b980[(_0x5a0d('0x3e'))]();while(_0x58e008&&_0x596864-->0x0){if(_0x2a2ced){this[_0x5a0d('0x18a')][_0x5a0d('0x23b')](_0x28a1de);this[_0x5a0d('0x18a')][_0x5a0d('0x20a')]=!![];return;}var _0x13d77e=_0x451483?_0x424bf9[_0x5a0d('0x1fc')]-_0x5d2f34:_0x5d2f34;var _0x259174=_0x2c2df5?_0x424bf9[_0x5a0d('0x28')]-_0x5c8d1b:_0x5c8d1b;var _0x24634c=_0x54bcb1[_0x5a0d('0x14')](_0x13d77e,_0x259174,0x1,0x1)['data'];var _0x340c64=_0x24634c[0x0];var _0x5ceb75=_0x24634c[0x1];var _0x33b566=_0x24634c[0x2];var _0x1e7162=_0x24634c[0x3];var _0x26525f=parseInt($(_0x5a0d('0x0'))[_0x5a0d('0x122')]());for(var _0x157b5d=0x0;_0x157b5d<_0x26525f;++_0x157b5d){var _0x504dba={'x':Math['round'](_0x424bf9[_0x5a0d('0x1fc')]/0x2),'y':0x0};switch(_0x58aecd){case'XY':_0x19b302[_0x5a0d('0x123')](_0x5d2f34-_0x504dba['x'],_0x424bf9[_0x5a0d('0x28')]-_0x5c8d1b-0x1-_0x504dba['y'],_0x157b5d);break;case'XZ':_0x19b302[_0x5a0d('0x123')](_0x5d2f34-_0x504dba['x'],_0x157b5d,_0x424bf9['height']-_0x5c8d1b-0x1-_0x504dba['y']);break;case'ZY':_0x19b302[_0x5a0d('0x123')](_0x157b5d,_0x424bf9['height']-_0x5c8d1b-0x1-_0x504dba['y'],_0x5d2f34-_0x504dba['x']);break;}if(_0x1e7162>0x64){var _0x946036=_0x5508ce(_0x340c64,_0x5ceb75,_0x33b566);this['voxelMesh'][_0x5a0d('0x154')](_0x1a5758,new _0x128060[(_0x5a0d('0x210'))](_0x19b302,_0x946036));}}var _0x4b157e=Math[_0x5a0d('0xbe')](_0x3d36ff/_0xeef7fb*0x64);_0x33eeec['css'](_0x5a0d('0x1fc'),_0x4b157e+'%')[_0x5a0d('0x267')](_0x5a0d('0x1b1'),_0x4b157e);_0x3d36ff++;_0x5d2f34++;if(_0x5d2f34>=_0x424bf9['width']){_0x5d2f34=0x0;_0x5c8d1b++;if(_0x5c8d1b>=_0x424bf9['height']){_0x58e008=![];}}}if(_0x58e008){setTimeout(_0x5a0df1,0x1);}else{this[_0x5a0d('0x18a')][_0x5a0d('0x20a')]=!![];$(_0x5a0d('0x88'))[_0x5a0d('0x2a4')](_0x5a0d('0x264'));}};_0x5a0df1();};});}[_0x5a0d('0x1fa')](_0x20e34b,_0x15349e,_0x566f8e){$(_0x5a0d('0x134'))[_0x5a0d('0x122')](null)[_0x5a0d('0x267')]('accept',_0x20e34b[_0x5a0d('0x40')]||'*')[_0x5a0d('0x71')](_0x5a0d('0x28c'));var _0x295555=document[_0x5a0d('0x145')]('file-opener');_0x295555[_0x5a0d('0x29b')]=()=>{var _0x5326ca=_0x295555['files'];if(_0x5326ca[_0x5a0d('0x117')]==0x0){if(_0x566f8e){_0x566f8e();}return;}var _0x1cdff2=_0x5326ca[0x0];var _0x1f29d3=new FileReader();this['mouseLeaveUI']();_0x1f29d3[_0x5a0d('0x1f7')](_0x5a0d('0xbd'),()=>{console[_0x5a0d('0x258')](_0x5a0d('0x261'));});_0x1f29d3[_0x5a0d('0x1f7')](_0x5a0d('0x13c'),_0x264057=>{var _0xa2cc3e=_0x264057[_0x5a0d('0x235')][_0x5a0d('0x1af')];this[_0x5a0d('0x22a')]();_0x15349e(_0xa2cc3e,_0x1cdff2['name']);});_0x1f29d3[_0x5a0d('0x1f7')](_0x5a0d('0x115'),()=>{bootbox[_0x5a0d('0x1e')]('Error\x20:\x20Failed\x20to\x20read\x20file');});_0x1f29d3[_0x5a0d('0x1f7')](_0x5a0d('0xd9'),_0x1289b2=>{if(_0x1289b2[_0x5a0d('0x10a')]==!![]){var _0x239ce3=Math[_0x5a0d('0x143')](_0x1289b2[_0x5a0d('0x26f')]/_0x1289b2[_0x5a0d('0x148')]*0x64);console[_0x5a0d('0x258')](_0x239ce3+_0x5a0d('0x20'));this[_0x5a0d('0x22a')]();}});switch(_0x20e34b[_0x5a0d('0x228')]){case undefined:case _0x5a0d('0x167'):_0x1f29d3[_0x5a0d('0x296')](_0x1cdff2);break;case _0x5a0d('0xd0'):_0x1f29d3[_0x5a0d('0x81')](_0x1cdff2);break;default:throw Error(_0x5a0d('0x205'));}};}[_0x5a0d('0x126')](){bootbox[_0x5a0d('0x1e')]({'title':_0x5a0d('0x292'),'size':_0x5a0d('0x234'),'message':_0x5a0d('0x21')+_0x5a0d('0x105')+this[_0x5a0d('0x18a')][_0x5a0d('0xc2')][_0x5a0d('0x269')]+_0x5a0d('0xef')});}['saveProjectToFile'](){var _0x1c8476=this[_0x5a0d('0x18a')][_0x5a0d('0x138')]();var _0x413af6=new Blob([JSON['stringify'](_0x1c8476)],{'type':_0x5a0d('0x13b')});_0x5638e9[_0x5a0d('0xe2')][_0x5a0d('0x1e2')](_0x413af6,this['voxelMesh'][_0x5a0d('0x147')]+_0x5a0d('0x173'));this[_0x5a0d('0x22a')]();}[_0x5a0d('0x242')](){this[_0x5a0d('0x1fa')]({'extensions':'.vox'},(_0x31e305,_0x5c2ead)=>{var _0x3e0446=JSON[_0x5a0d('0x1ce')](_0x31e305);this['voxelMesh']['deserialize'](_0x3e0446);this[_0x5a0d('0x135')]();this['updatePaletteUiFromMeshPalette']();this[_0x5a0d('0x22a')]();$(_0x5a0d('0xd3'))[_0x5a0d('0x89')]('checked',this[_0x5a0d('0x18a')][_0x5a0d('0x10d')][_0x5a0d('0x2a0')]);$('#showLights')[_0x5a0d('0x89')](_0x5a0d('0x29e'),this[_0x5a0d('0x18a')][_0x5a0d('0x10d')]['enableLighting']);$(_0x5a0d('0x21f'))[_0x5a0d('0x89')](_0x5a0d('0x29e'),this['voxelMesh'][_0x5a0d('0x10d')]['showWireframe']);$(_0x5a0d('0x1cb'))[_0x5a0d('0x89')](_0x5a0d('0x29e'),this[_0x5a0d('0x18a')][_0x5a0d('0x10d')][_0x5a0d('0x16c')]);this[_0x5a0d('0x140')]=[];this[_0x5a0d('0x213')]=[];this[_0x5a0d('0x270')]();});}[_0x5a0d('0x15f')](){bootbox['confirm']('All\x20unsaved\x20changes\x20will\x20be\x20lost.\x20Continue?',_0x1bea90=>{if(_0x1bea90){this[_0x5a0d('0x18a')][_0x5a0d('0xe1')]();this[_0x5a0d('0x135')]();this[_0x5a0d('0x255')]();this[_0x5a0d('0x22a')]();this['_undoStack']=[];this[_0x5a0d('0x213')]=[];this[_0x5a0d('0x270')]();}});}get[_0x5a0d('0x78')](){return this[_0x5a0d('0x194')]||this[_0x5a0d('0xe7')]||this[_0x5a0d('0x7d')]||new Date()[_0x5a0d('0x18c')]()-this[_0x5a0d('0x8a')]<0x96;}[_0x5a0d('0x56')](){if(this['_selectionShow']){this[_0x5a0d('0x1d6')][_0x5a0d('0x2d')](this['_selectionShow']);this[_0x5a0d('0x282')]=null;}this[_0x5a0d('0x10b')]=null;}[_0x5a0d('0xaa')](_0x337d0e){var _0x494501=new _0x25b980[(_0x5a0d('0xb0'))]();for(var _0x2a4a11=0x0;_0x2a4a11<_0x337d0e[_0x5a0d('0x117')];++_0x2a4a11){_0x494501[_0x5a0d('0x157')](_0x337d0e[_0x2a4a11]);}if(!this[_0x5a0d('0x10b')]||!this['selectedRegion'][_0x5a0d('0x1f1')](_0x494501)){this[_0x5a0d('0x10b')]=_0x494501;if(this[_0x5a0d('0x282')]){this[_0x5a0d('0x1d6')]['remove'](this['_selectionShow']);}var _0x4d90e0=_0x494501[_0x5a0d('0x1e8')]();var _0x52d6b4=_0x494501[_0x5a0d('0x23a')][_0x5a0d('0x1e8')]();_0x52d6b4['x']++;_0x52d6b4['y']++;_0x52d6b4['z']++;_0x4d90e0[_0x5a0d('0x157')](_0x52d6b4);_0x4d90e0[_0x5a0d('0x29f')]['addScalar'](-0.01);_0x4d90e0[_0x5a0d('0x23a')]['addScalar'](0.01);this['_selectionShow']=new _0x25b980[(_0x5a0d('0x216'))](_0x4d90e0,0xff0000);this['scene'][_0x5a0d('0x12b')](this['_selectionShow']);}}get[_0x5a0d('0xc9')](){return this[_0x5a0d('0x78')]||!this[_0x5a0d('0x4')];}['_doUpdates'](_0x5e3255){if(!this[_0x5a0d('0xb5')]&&this[_0x5a0d('0x2c')]){this[_0x5a0d('0x213')]=[];if(this[_0x5a0d('0xae')]){this[_0x5a0d('0x140')]['push'](this['_lastUndoMove']);}this[_0x5a0d('0xae')]=this[_0x5a0d('0x18a')][_0x5a0d('0x138')]();while(this[_0x5a0d('0x140')][_0x5a0d('0x117')]>0xc){this['_undoStack'][_0x5a0d('0xa8')](0x0,0x1);}this[_0x5a0d('0x29')]=this['voxelMesh'][_0x5a0d('0x121')];this[_0x5a0d('0x2c')]=![];this[_0x5a0d('0x270')]();this[_0x5a0d('0x91')]=!![];}this[_0x5a0d('0x18a')][_0x5a0d('0x5c')]();if(this[_0x5a0d('0x5f')][_0x5a0d('0x26a')](this[_0x5a0d('0x5f')][_0x5a0d('0x111')]['left'])||this['input'][_0x5a0d('0x26a')](this[_0x5a0d('0x5f')][_0x5a0d('0x111')][_0x5a0d('0x14a')])){this[_0x5a0d('0x62')]=this['camera']['position'][_0x5a0d('0x1e8')]();this[_0x5a0d('0xb8')]=this['camera'][_0x5a0d('0x295')]['clone']();}if(this[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('z')&&this[_0x5a0d('0x5f')]['ctrlDown']){this[_0x5a0d('0xcd')]();}if(this[_0x5a0d('0x5f')][_0x5a0d('0x21b')]('y')&&this[_0x5a0d('0x5f')][_0x5a0d('0x17b')]){this['redo']();}var _0x5f2f6a=this[_0x5a0d('0x1e7')](!![]);this[_0x5a0d('0x7c')]=_0x5f2f6a?_0x5f2f6a['targetVoxelPosition']:null;var _0x14f7da=this[_0x5a0d('0xe9')]['locked']||!this['activeLayer'][_0x5a0d('0x85')];this[_0x5a0d('0x26c')][_0x5a0d('0xc')]['style'][_0x5a0d('0x187')]=_0x14f7da?_0x5a0d('0x137'):_0x5a0d('0x153');var _0x4cec54=this['isUiFocused']?0.85:0x1;var _0x41d5df=parseFloat(this[_0x5a0d('0x26c')]['domElement']['style'][_0x5a0d('0x1b6')])||0x1;if(_0x41d5df!=_0x4cec54){this[_0x5a0d('0x26c')][_0x5a0d('0xc')][_0x5a0d('0x24b')][_0x5a0d('0x1b6')]=_0x25b980[_0x5a0d('0x14b')][_0x5a0d('0x1ab')](_0x41d5df,_0x4cec54,_0x5e3255*0x5);}if(!this[_0x5a0d('0xc9')]){this['_selectedMode'][_0x5a0d('0x5c')](this,_0x5e3255);}if(!this[_0x5a0d('0xb5')]){this[_0x5a0d('0x62')]=null;this[_0x5a0d('0xb8')]=null;}var _0x1022e6=$(_0x5a0d('0xe8'))[_0x5a0d('0x118')]();for(var _0x1847b9=0x0;_0x1847b9<_0x1022e6[_0x5a0d('0x117')];++_0x1847b9){var _0x3e7ee1=$(_0x1022e6[_0x1847b9]);var _0x562983=this[_0x5a0d('0x18a')]['_layers'][_0x1847b9];var _0x508634=_0x5a0d('0x125');var _0x4beb33=_0x5a0d('0x16e');_0x3e7ee1[_0x5a0d('0x2b0')](_0x5a0d('0x251'))[_0x5a0d('0x63')](_0x5a0d('0x18'),_0x562983[_0x5a0d('0x85')]?_0x4beb33:_0x508634);_0x3e7ee1[_0x5a0d('0x2b0')](_0x5a0d('0x27'))[_0x5a0d('0x63')]('color',_0x562983['locked']?_0x4beb33:_0x508634);}$(_0x5a0d('0x290'))[_0x5a0d('0x167')]('['+this['_selectedMode'][_0x5a0d('0x147')]+'\x20help]:\x20'+this[_0x5a0d('0x263')][_0x5a0d('0x104')]());if($(_0x5a0d('0x250'))['is'](':checked')&&!this[_0x5a0d('0xc9')]){this[_0x5a0d('0xb')]();}}['iterateSelectedOrAllVoxels'](_0x5e5bf8){var _0x3687b8=this['activeLayer'];if(this[_0x5a0d('0x10b')]){var _0x19f5b9=this[_0x5a0d('0x10b')];for(var _0x2eabf2=_0x19f5b9[_0x5a0d('0x29f')]['x'];_0x2eabf2<=_0x19f5b9['max']['x'];++_0x2eabf2){for(var _0x4c177d=_0x19f5b9[_0x5a0d('0x29f')]['y'];_0x4c177d<=_0x19f5b9[_0x5a0d('0x23a')]['y'];++_0x4c177d){for(var _0x5aae10=_0x19f5b9['min']['z'];_0x5aae10<=_0x19f5b9['max']['z'];++_0x5aae10){var _0x2d8f7e=_0x3687b8[_0x5a0d('0x176')](new _0x25b980[(_0x5a0d('0x3e'))](_0x2eabf2,_0x4c177d,_0x5aae10));if(_0x2d8f7e){_0x5e5bf8(_0x2d8f7e);}}}}}else{for(var _0x482b18 in _0x3687b8['_voxels']){_0x5e5bf8(_0x3687b8[_0x5a0d('0x116')][_0x482b18]);}}}[_0x5a0d('0xb')](){if(this['anyMouseButtonsDown']){return;}this['raycaster'][_0x5a0d('0xa0')](this[_0x5a0d('0x94')],this[_0x5a0d('0x39')]);var _0x27eeaa=this['raycaster'][_0x5a0d('0x103')]([this['voxelMesh'][_0x5a0d('0x1a4')]],!![]);for(var _0x5362fb=0x0;_0x5362fb<_0x27eeaa[_0x5a0d('0x117')];++_0x5362fb){var _0x21c982=_0x27eeaa[_0x5362fb][_0x5a0d('0x1aa')][_0x5a0d('0x266')];if(_0x21c982&&!_0x21c982['locked']){var _0x16a26c=this[_0x5a0d('0x18a')]['_layers'][_0x5a0d('0xc3')](_0x21c982);if(_0x16a26c!==-0x1){this['activeLayerIndex']=_0x16a26c;return;}}}}get[_0x5a0d('0x47')](){if(!this[_0x5a0d('0x62')]||!this[_0x5a0d('0xb8')]){return![];}var _0x320bee=0.1;var _0x2c7796=0.65;return 0x0||Math['abs'](this[_0x5a0d('0x39')][_0x5a0d('0xb6')]['x']-this[_0x5a0d('0x62')]['x'])>_0x2c7796||Math[_0x5a0d('0x1ad')](this[_0x5a0d('0x39')][_0x5a0d('0xb6')]['y']-this[_0x5a0d('0x62')]['y'])>_0x2c7796||Math[_0x5a0d('0x1ad')](this[_0x5a0d('0x39')]['position']['z']-this[_0x5a0d('0x62')]['z'])>_0x2c7796||Math['abs'](this['camera']['rotation']['x']-this['_camRotationOnPress']['x'])>_0x320bee||Math[_0x5a0d('0x1ad')](this[_0x5a0d('0x39')][_0x5a0d('0x295')]['y']-this[_0x5a0d('0xb8')]['y'])>_0x320bee||Math[_0x5a0d('0x1ad')](this['camera'][_0x5a0d('0x295')]['z']-this['_camRotationOnPress']['z'])>_0x320bee;}[_0x5a0d('0x128')](){bootbox['prompt']('New\x20name\x20for\x20mesh:',_0x5a1b63=>{if(_0x5a1b63){this[_0x5a0d('0x18a')][_0x5a0d('0x147')]=_0x5a1b63;this[_0x5a0d('0x135')]();}});}get['anyMouseButtonsDown'](){return this[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x281'))||this[_0x5a0d('0x5f')][_0x5a0d('0x19e')](_0x5a0d('0x22b'));}[_0x5a0d('0x1e7')](_0x66beae,_0x5248f9,_0x30ced7){if(_0x5248f9||(!this[_0x5a0d('0xb5')]||!this[_0x5a0d('0x47')])){this['raycaster'][_0x5a0d('0xa0')](this['normalizedMousePos'],this[_0x5a0d('0x39')]);var _0xdd5cee=this[_0x5a0d('0x2a5')]['intersectObjects']([this[_0x5a0d('0x18a')]['container']],!![]);for(var _0x365a98=0x0;_0x365a98<_0xdd5cee[_0x5a0d('0x117')];_0x365a98++){var _0x21959c=_0xdd5cee[_0x365a98][_0x5a0d('0x32')];if(!_0x21959c||!_0x21959c[_0x5a0d('0x175')]){continue;}if(!_0x30ced7&&_0x21959c[_0x5a0d('0x1ac')]===this[_0x5a0d('0x18a')][_0x5a0d('0x1ac')]){return null;}return{'selectedVoxelPosition':_0x21959c['voxelPosition'],'targetVoxelPosition':_0x21959c['targetVoxelPosition'],'normal':_0x21959c['targetVoxelPosition'][_0x5a0d('0x1e8')]()['sub'](_0x21959c[_0x5a0d('0x33')]),'backVoxelPosition':_0x21959c[_0x5a0d('0x1db')],'selectedColorIndex':_0x21959c[_0x5a0d('0x1f2')],'intersectPosition':_0xdd5cee[_0x365a98][_0x5a0d('0x3')]};}if(_0x66beae&&this[_0x5a0d('0x12a')][_0x5a0d('0x85')]){var _0xdd5cee=this[_0x5a0d('0x2a5')][_0x5a0d('0x103')]([this[_0x5a0d('0x12a')]],!![]);for(var _0x365a98=0x0;_0x365a98<_0xdd5cee[_0x5a0d('0x117')];_0x365a98++){var _0x70a56f=_0xdd5cee[_0x365a98][_0x5a0d('0x3')];var _0x52e7b1=new _0x25b980[(_0x5a0d('0x3e'))](Math[_0x5a0d('0xbe')](_0x70a56f['x']),Math[_0x5a0d('0xbe')](_0x70a56f['y']),Math['round'](_0x70a56f['z']));return{'selectedVoxelPosition':_0x52e7b1,'targetVoxelPosition':_0x52e7b1,'normal':new _0x25b980[(_0x5a0d('0x3e'))](0x0,0x1,0x0),'backVoxelPosition':null,'selectedColorIndex':null,'intersectPosition':_0x70a56f};}}}return null;}}function _0x1152f5(_0x2a9da7){var _0x2dae5f=function(_0x8ecc90){var _0x9802c8=Number(_0x8ecc90)[_0x5a0d('0x159')](0x10);if(_0x9802c8['length']<0x2){_0x9802c8='0'+_0x9802c8;}return _0x9802c8;};var _0x43beae=function(_0x39175e,_0xaa5f55,_0x4af252){var _0x140fb8=_0x2dae5f(_0x39175e);var _0x363bdb=_0x2dae5f(_0xaa5f55);var _0x582e4f=_0x2dae5f(_0x4af252);return _0x140fb8+_0x363bdb+_0x582e4f;};var _0x26ea97=_0x2a9da7>>0x10&0xff;var _0x3c4c85=_0x2a9da7>>0x8&0xff;var _0x282fa1=_0x2a9da7&0xff;return'#'+_0x43beae(_0x26ea97,_0x3c4c85,_0x282fa1);}_0x281d2f[_0x5a0d('0x61')]=new _0x5ca34f();},{'./editor_modes':0x3,'./exports':0xf,'./libs':0x11,'./transformations':0x15,'./voxels':0x1b}],19:[function(_0x17dade,_0x3fef14,_0x3842bb){const _0x4f7cab=_0x17dade(_0x5a0d('0x83'));const _0x1931e9=_0x17dade('./../libs')[_0x5a0d('0x1ba')];const _0x3b35dd=_0x17dade('./../voxels/voxel');class _0x5809e0 extends _0x4f7cab{[_0x5a0d('0xc7')](){var _0x40e499=_0x5a0d('0x1d0');var _0x56452b=_0x5a0d('0x1e0');var _0x96f6ca='<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22expand-smoothly\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-smoothly\x22>Expand\x20roundly\x20between\x20different\x20axises</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x352cc8=[];var _0x373fef=['top',_0x5a0d('0x190'),'left','right',_0x5a0d('0x226'),_0x5a0d('0x11a')];for(var _0x4213b5=0x0;_0x4213b5<_0x373fef[_0x5a0d('0x117')];++_0x4213b5){_0x352cc8[_0x5a0d('0x11')](_0x5a0d('0x299')+_0x373fef[_0x4213b5]+'\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-to-'+_0x373fef[_0x4213b5]+'\x22>Expand\x20'+_0x373fef[_0x4213b5]+_0x5a0d('0x198'));}var _0x21c7bd={'top':new _0x1931e9[(_0x5a0d('0x3e'))](0x0,0x1,0x0),'bottom':new _0x1931e9[(_0x5a0d('0x3e'))](0x0,-0x1,0x0),'left':new _0x1931e9[(_0x5a0d('0x3e'))](-0x1,0x0,0x0),'right':new _0x1931e9[(_0x5a0d('0x3e'))](0x1,0x0,0x0),'front':new _0x1931e9[(_0x5a0d('0x3e'))](0x0,0x0,0x1),'back':new _0x1931e9[(_0x5a0d('0x3e'))](0x0,0x0,-0x1)};var _0x33410b=bootbox[_0x5a0d('0x24')]({'title':_0x5a0d('0xd1'),'message':_0x40e499+_0x56452b+_0x96f6ca+_0x352cc8[_0x5a0d('0x15d')](''),'callback':_0x1c3000=>{if(_0x1c3000){var _0x25d7af=parseInt($(_0x5a0d('0x24d'))[_0x5a0d('0x122')]());var _0x1b900e={};for(var _0x5e07f7=0x0;_0x5e07f7<_0x373fef[_0x5a0d('0x117')];++_0x5e07f7){_0x1b900e[_0x373fef[_0x5e07f7]]=$(_0x5a0d('0x21d')+_0x373fef[_0x5e07f7])['is'](_0x5a0d('0xd5'));}var _0x5dae01=$(_0x5a0d('0x72'))['is'](_0x5a0d('0xd5'));for(var _0x5e07f7=0x0;_0x5e07f7<_0x25d7af;++_0x5e07f7){var _0x3472e0=[];var _0x2dabed=()=>{while(_0x3472e0['length']){this['activeLayer'][_0x5a0d('0x154')](_0x3472e0[_0x5a0d('0x4d')]());}this[_0x5a0d('0xe9')][_0x5a0d('0x149')]();};if(_0x5dae01){this['iterateSelectedVoxels'](_0x36aea4=>{if(_0x36aea4[_0x5a0d('0x85')]){for(var _0x496021=0x0;_0x496021<_0x373fef[_0x5a0d('0x117')];++_0x496021){var _0x142ab8=_0x373fef[_0x496021];if(_0x1b900e[_0x142ab8]&&_0x36aea4[_0x5a0d('0x27f')][_0x142ab8]){_0x3472e0['push'](new _0x3b35dd(_0x36aea4['position'][_0x5a0d('0x1e8')]()['add'](_0x21c7bd[_0x142ab8]),_0x36aea4[_0x5a0d('0x1f2')]));}}}});}else{for(var _0x31a6d9=0x0;_0x31a6d9<_0x373fef[_0x5a0d('0x117')];++_0x31a6d9){var _0x2c57f1=_0x373fef[_0x31a6d9];this[_0x5a0d('0x7')](_0x329ce9=>{if(_0x1b900e[_0x2c57f1]&&_0x329ce9['visible']){_0x3472e0[_0x5a0d('0x11')](new _0x3b35dd(_0x329ce9['position']['clone']()[_0x5a0d('0x12b')](_0x21c7bd[_0x2c57f1]),_0x329ce9[_0x5a0d('0x1f2')]));}});_0x2dabed();}}_0x2dabed();}}}});this[_0x5a0d('0x20f')][_0x5a0d('0x1d4')](_0x33410b);}}_0x3fef14[_0x5a0d('0x61')]=_0x5809e0;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],20:[function(_0x3d93a7,_0x1d05ee,_0x4d01bb){const _0x67989a=_0x3d93a7(_0x5a0d('0x83'));const _0x2b8827=_0x3d93a7('./../libs')[_0x5a0d('0x1ba')];const _0x4e60f9=_0x3d93a7(_0x5a0d('0x195'));class _0x27dddc extends _0x67989a{[_0x5a0d('0xc7')](){var _0x19c29e=_0x5a0d('0x1c8');var _0x47ea9a=_0x5a0d('0x1');var _0x35a4d5='<br\x20/><br\x20/><p>Flip\x20/\x20Mirror\x20mode:</p><select\x20id=\x22flip-mode-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Flip\x22\x20selected>Flip</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Mirror\x22>Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Opposite\x20Mirror\x22>Opposite\x20Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';var _0x121cf9=_0x5a0d('0x278');var _0x582d94=bootbox[_0x5a0d('0x24')]({'title':'Rotate\x20Mesh','message':_0x19c29e+_0x47ea9a+_0x35a4d5+_0x121cf9,'callback':_0x305f79=>{if(_0x305f79){var _0x53e336=$('#flip-around-select\x20option:selected')[_0x5a0d('0x167')]();var _0x4f4d89=$(_0x5a0d('0x53'))[_0x5a0d('0x167')]();var _0x349a1b=this[_0x5a0d('0x20f')]['selectedRegion']||this[_0x5a0d('0x20f')][_0x5a0d('0xe9')][_0x5a0d('0x74')]();var _0x30ce42=new _0x2b8827[(_0x5a0d('0x3e'))]();_0x349a1b[_0x5a0d('0xee')](_0x30ce42);var _0x5dd216=parseInt($(_0x5a0d('0x1e4'))[_0x5a0d('0x122')]());var _0x5c0a55=[];this[_0x5a0d('0x7')](_0x80b98a=>{var _0x455ada=_0x80b98a['position'];var _0x4ce1de;if(_0x4f4d89===_0x5a0d('0xe')){if(_0x53e336==='X'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x349a1b[_0x5a0d('0x23a')]['x']-_0x80b98a[_0x5a0d('0xb6')]['x']+_0x349a1b['min']['x'],_0x455ada['y'],_0x455ada['z']);}else if(_0x53e336==='Y'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x455ada['x'],_0x349a1b[_0x5a0d('0x23a')]['y']-_0x80b98a[_0x5a0d('0xb6')]['y']+_0x349a1b[_0x5a0d('0x29f')]['y'],_0x455ada['z']);}else if(_0x53e336==='Z'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x455ada['x'],_0x455ada['y'],_0x349a1b[_0x5a0d('0x23a')]['z']-_0x80b98a[_0x5a0d('0xb6')]['z']+_0x349a1b[_0x5a0d('0x29f')]['z']);}}else if(_0x4f4d89===_0x5a0d('0x287')){if(_0x53e336==='X'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x349a1b[_0x5a0d('0x23a')]['x']-_0x80b98a[_0x5a0d('0xb6')]['x']+_0x349a1b[_0x5a0d('0x29f')]['x']+(_0x30ce42['x']+_0x5dd216),_0x455ada['y'],_0x455ada['z']);}else if(_0x53e336==='Y'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x455ada['x'],_0x349a1b[_0x5a0d('0x23a')]['y']-_0x80b98a['position']['y']+_0x349a1b['min']['y']+(_0x30ce42['y']+_0x5dd216),_0x455ada['z']);}else if(_0x53e336==='Z'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x455ada['x'],_0x455ada['y'],_0x349a1b[_0x5a0d('0x23a')]['z']-_0x80b98a[_0x5a0d('0xb6')]['z']+_0x349a1b[_0x5a0d('0x29f')]['z']+(_0x30ce42['z']+_0x5dd216));}}else if(_0x4f4d89===_0x5a0d('0xc8')){if(_0x53e336==='X'){_0x4ce1de=new _0x2b8827[(_0x5a0d('0x3e'))](_0x349a1b['max']['x']-_0x80b98a[_0x5a0d('0xb6')]['x']+_0x349a1b[_0x5a0d('0x29f')]['x']-(_0x30ce42['x']+_0x5dd216),_0x455ada['y'],_0x455ada['z']);}else if(_0x53e336==='Y'){_0x4ce1de=new _0x2b8827['Vector3'](_0x455ada['x'],_0x349a1b[_0x5a0d('0x23a')]['y']-_0x80b98a[_0x5a0d('0xb6')]['y']+_0x349a1b['min']['y']-(_0x30ce42['y']+_0x5dd216),_0x455ada['z']);}else if(_0x53e336==='Z'){_0x4ce1de=new _0x2b8827['Vector3'](_0x455ada['x'],_0x455ada['y'],_0x349a1b['max']['z']-_0x80b98a[_0x5a0d('0xb6')]['z']+_0x349a1b['min']['z']-(_0x30ce42['z']+_0x5dd216));}}_0x5c0a55[_0x5a0d('0x11')](new _0x4e60f9(_0x4ce1de,_0x80b98a[_0x5a0d('0x1f2')]));});if(_0x4f4d89===_0x5a0d('0xe')){if(this[_0x5a0d('0x10b')]){this['manager'][_0x5a0d('0x98')]();}else{this['activeLayer'][_0x5a0d('0x129')]();}}while(_0x5c0a55[_0x5a0d('0x117')]){this[_0x5a0d('0xe9')][_0x5a0d('0x154')](_0x5c0a55['pop']());}}}});this[_0x5a0d('0x20f')]['initUiElement'](_0x582d94);}}_0x1d05ee[_0x5a0d('0x61')]=_0x27dddc;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],21:[function(_0x4bbf6a,_0x575e45,_0x99ce8a){_0x575e45[_0x5a0d('0x61')]={'SoftenEdges':_0x4bbf6a('./soften_edges'),'Expand':_0x4bbf6a(_0x5a0d('0x41')),'Shrink':_0x4bbf6a(_0x5a0d('0xed')),'SmoothFaces':_0x4bbf6a(_0x5a0d('0x17e')),'Rotate':_0x4bbf6a(_0x5a0d('0x2a9')),'Flip':_0x4bbf6a('./flip')};},{'./expand':0x13,'./flip':0x14,'./rotate':0x16,'./shrink':0x17,'./smooth_faces':0x18,'./soften_edges':0x19}],22:[function(_0x1199b6,_0x44cdfe,_0x121700){const _0x35ff0e=_0x1199b6(_0x5a0d('0x83'));const _0x26e7b1=_0x1199b6(_0x5a0d('0xc5'))[_0x5a0d('0x1ba')];const _0x23ab4c=_0x1199b6(_0x5a0d('0x195'));class _0x42d104 extends _0x35ff0e{[_0x5a0d('0xc7')](){var _0x56cdda=_0x5a0d('0xff');var _0x1770a0=_0x5a0d('0x1f5');var _0x3eed01=_0x5a0d('0x11b');var _0x459058=_0x5a0d('0x46');var _0x479576=bootbox[_0x5a0d('0x24')]({'title':'Rotate\x20Mesh','message':_0x56cdda+_0x1770a0+_0x3eed01+_0x459058,'callback':_0x1369a7=>{if(_0x1369a7){var _0x2a5421=$(_0x5a0d('0xa3'))[_0x5a0d('0x167')]();var _0x9d5824=parseInt($(_0x5a0d('0x24f'))[_0x5a0d('0x122')]())*0x2d;var _0x7a60dd=this['manager'][_0x5a0d('0x10b')]||this[_0x5a0d('0x20f')][_0x5a0d('0xe9')][_0x5a0d('0x74')]();var _0x4cc8b7=_0x7a60dd[_0x5a0d('0x55')]();var _0x399ec7=$('#rotate-dir-select\x20option:selected')[_0x5a0d('0x167')]()==_0x5a0d('0x82');if(!_0x399ec7){_0x9d5824*=-0x1;}var _0x29e281=[];var _0x226ea9;this[_0x5a0d('0x7')](_0x1bbb40=>{if(_0x2a5421==='X'){var _0x465cc6=_0x37c3a6(new _0x26e7b1['Vector2'](_0x1bbb40[_0x5a0d('0xb6')]['z'],_0x1bbb40[_0x5a0d('0xb6')]['y']),new _0x26e7b1['Vector2'](Math[_0x5a0d('0xbe')](_0x4cc8b7['z']),Math[_0x5a0d('0xbe')](_0x4cc8b7['y'])),_0x9d5824);_0x226ea9=new _0x26e7b1[(_0x5a0d('0x3e'))](_0x1bbb40[_0x5a0d('0xb6')]['x'],_0x465cc6['y'],_0x465cc6['x']);_0x29e281[_0x5a0d('0x11')](new _0x23ab4c(_0x226ea9,_0x1bbb40[_0x5a0d('0x1f2')]));}else if(_0x2a5421==='Y'){var _0x465cc6=_0x37c3a6(new _0x26e7b1['Vector2'](_0x1bbb40[_0x5a0d('0xb6')]['x'],_0x1bbb40['position']['z']),new _0x26e7b1[(_0x5a0d('0x279'))](Math[_0x5a0d('0xbe')](_0x4cc8b7['x']),Math[_0x5a0d('0xbe')](_0x4cc8b7['z'])),_0x9d5824);_0x226ea9=new _0x26e7b1['Vector3'](_0x465cc6['x'],_0x1bbb40['position']['y'],_0x465cc6['y']);_0x29e281[_0x5a0d('0x11')](new _0x23ab4c(_0x226ea9,_0x1bbb40[_0x5a0d('0x1f2')]));}else if(_0x2a5421==='Z'){var _0x465cc6=_0x37c3a6(new _0x26e7b1[(_0x5a0d('0x279'))](_0x1bbb40[_0x5a0d('0xb6')]['x'],_0x1bbb40[_0x5a0d('0xb6')]['y']),new _0x26e7b1['Vector2'](Math[_0x5a0d('0xbe')](_0x4cc8b7['x']),Math[_0x5a0d('0xbe')](_0x4cc8b7['y'])),_0x9d5824);_0x226ea9=new _0x26e7b1[(_0x5a0d('0x3e'))](_0x465cc6['x'],_0x465cc6['y'],_0x1bbb40[_0x5a0d('0xb6')]['z']);_0x29e281[_0x5a0d('0x11')](new _0x23ab4c(_0x226ea9,_0x1bbb40[_0x5a0d('0x1f2')]));}});if(this[_0x5a0d('0x10b')]){this[_0x5a0d('0x20f')][_0x5a0d('0x98')]();}else{this[_0x5a0d('0xe9')]['clearVoxels']();}while(_0x29e281[_0x5a0d('0x117')]){this['activeLayer'][_0x5a0d('0x154')](_0x29e281[_0x5a0d('0x4d')]());}}}});this[_0x5a0d('0x20f')]['initUiElement'](_0x479576);}}function _0x37c3a6(_0x1e4020,_0x3a2e73,_0x5b2b31){var _0x65cd09=new _0x26e7b1[(_0x5a0d('0x279'))]();_0x65cd09['x']=_0x1e4020['x']-_0x3a2e73['x'];_0x65cd09['y']=_0x1e4020['y']-_0x3a2e73['y'];var _0x4031e6=_0x5b2b31*(Math['PI']/0xb4);var _0x8583fc=Math[_0x5a0d('0x22')](_0x4031e6);var _0x17b7e7=Math[_0x5a0d('0x172')](_0x4031e6);var _0x2fc707=_0x8583fc*(_0x1e4020['x']-_0x3a2e73['x'])+_0x17b7e7*(_0x1e4020['y']-_0x3a2e73['y'])+_0x3a2e73['x'];var _0x1c1fd8=_0x8583fc*(_0x1e4020['y']-_0x3a2e73['y'])-_0x17b7e7*(_0x1e4020['x']-_0x3a2e73['x'])+_0x3a2e73['y'];return new _0x26e7b1[(_0x5a0d('0x279'))](Math['round'](_0x2fc707),Math['round'](_0x1c1fd8));}_0x44cdfe[_0x5a0d('0x61')]=_0x42d104;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],23:[function(_0x552da8,_0x42b1b3,_0x199e2){const _0x43043f=_0x552da8(_0x5a0d('0x83'));class _0x4dc049 extends _0x43043f{[_0x5a0d('0xc7')](){var _0x1ce35d=_0x5a0d('0x189');var _0x5c6ab6=_0x5a0d('0x1e0');var _0x56fdf3=bootbox['confirm']({'title':_0x5a0d('0x1a6'),'message':_0x1ce35d+_0x5c6ab6,'callback':_0x562343=>{if(_0x562343){var _0x256ac2=parseInt($(_0x5a0d('0x24d'))[_0x5a0d('0x122')]());for(var _0x2769c9=0x0;_0x2769c9<_0x256ac2;++_0x2769c9){var _0xedf97e=[];var _0x5a5df0=()=>{while(_0xedf97e['length']){this[_0x5a0d('0xe9')][_0x5a0d('0x17')](_0xedf97e['pop']()[_0x5a0d('0xb6')],![],![]);}this[_0x5a0d('0xe9')][_0x5a0d('0x149')]();};this[_0x5a0d('0x7')](_0x5e67a2=>{if(_0x5e67a2[_0x5a0d('0x85')]){_0xedf97e[_0x5a0d('0x11')](_0x5e67a2);}});_0x5a5df0();}}}});this[_0x5a0d('0x20f')][_0x5a0d('0x1d4')](_0x56fdf3);}}_0x42b1b3[_0x5a0d('0x61')]=_0x4dc049;},{'./transformation_base':0x1a}],24:[function(_0x15b95f,_0x2d6f42,_0x477f3f){const _0x33412c=_0x15b95f(_0x5a0d('0x83'));class _0x4bf3bf extends _0x33412c{[_0x5a0d('0xc7')](){var _0x3ef242=_0x5a0d('0xd8');var _0x418344=_0x5a0d('0x1e0');var _0x20a1a4='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22threshold-input\x22>Max\x20neighbors\x20threshold:\x20<span\x20id=\x22threshold-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#threshold-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x225\x22\x20id=\x22threshold-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x36a624=bootbox[_0x5a0d('0x24')]({'title':_0x5a0d('0x229'),'message':_0x3ef242+_0x418344+_0x20a1a4,'callback':_0x1a23e5=>{if(_0x1a23e5){var _0x215193=parseInt($(_0x5a0d('0x24d'))['val']());var _0x3a0af5=parseInt($(_0x5a0d('0x1fd'))[_0x5a0d('0x122')]());for(var _0x58649d=0x0;_0x58649d<_0x215193;++_0x58649d){var _0x410dbe=[];this[_0x5a0d('0x7')](_0x1ab37f=>{if(_0x1ab37f['visibleSidesCount']>0x5-_0x3a0af5){_0x410dbe[_0x5a0d('0x11')](_0x1ab37f);}});while(_0x410dbe[_0x5a0d('0x117')]){this['activeLayer']['removeVoxel'](_0x410dbe[_0x5a0d('0x4d')]()[_0x5a0d('0xb6')],![]);}this[_0x5a0d('0xe9')][_0x5a0d('0x149')]();}}}});this[_0x5a0d('0x20f')]['initUiElement'](_0x36a624);}}_0x2d6f42[_0x5a0d('0x61')]=_0x4bf3bf;},{'./transformation_base':0x1a}],25:[function(_0x45f8f3,_0x29cf05,_0x1c1365){const _0x4a46f8=_0x45f8f3(_0x5a0d('0x83'));class _0x156109 extends _0x4a46f8{[_0x5a0d('0xc7')](){var _0x46e5a9=_0x5a0d('0x1a8');var _0x39b33=_0x5a0d('0x1e0');var _0x2d4c29='<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22soften-only-corners\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22soften-only-corners\x22>Apply\x20just\x20to\x20corners</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x4b0921=bootbox[_0x5a0d('0x24')]({'title':'Soften\x20Edges','message':_0x46e5a9+_0x39b33+_0x2d4c29,'callback':_0x29a88c=>{if(_0x29a88c){var _0x433228=parseInt($('#trans-iterations-count-input')['val']());var _0x35cb0a=$(_0x5a0d('0xe6'))['is'](_0x5a0d('0xd5'));for(var _0x768b07=0x0;_0x768b07<_0x433228;++_0x768b07){var _0x18458a=[];this['iterateSelectedVoxels'](_0x15c360=>{if(_0x15c360['visibleFaces'][_0x5a0d('0xeb')]&&_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x1c4')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x190')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x14a')]||_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0xeb')]&&_0x15c360[_0x5a0d('0x27f')]['right']&&!_0x15c360[_0x5a0d('0x27f')]['bottom']&&!_0x15c360[_0x5a0d('0x27f')]['left']||_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x190')]&&_0x15c360[_0x5a0d('0x27f')]['left']&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0xeb')]&&!_0x15c360[_0x5a0d('0x27f')]['right']||_0x15c360['visibleFaces'][_0x5a0d('0x190')]&&_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x14a')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0xeb')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x1c4')]||_0x15c360['visibleFaces']['top']&&_0x15c360['visibleFaces'][_0x5a0d('0x226')]&&!_0x15c360['visibleFaces'][_0x5a0d('0x190')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x11a')]||_0x15c360['visibleFaces'][_0x5a0d('0xeb')]&&_0x15c360[_0x5a0d('0x27f')]['back']&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x190')]&&!_0x15c360['visibleFaces'][_0x5a0d('0x226')]||_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x190')]&&_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x226')]&&!_0x15c360['visibleFaces'][_0x5a0d('0xeb')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x11a')]||_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x190')]&&_0x15c360[_0x5a0d('0x27f')]['back']&&!_0x15c360[_0x5a0d('0x27f')]['top']&&!_0x15c360['visibleFaces'][_0x5a0d('0x226')]||_0x15c360[_0x5a0d('0x27f')]['front']&&_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x1c4')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x11a')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x14a')]||_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x226')]&&_0x15c360['visibleFaces'][_0x5a0d('0x14a')]&&!_0x15c360[_0x5a0d('0x27f')]['back']&&!_0x15c360['visibleFaces'][_0x5a0d('0x1c4')]||_0x15c360['visibleFaces']['back']&&_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x1c4')]&&!_0x15c360[_0x5a0d('0x27f')]['front']&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x14a')]||_0x15c360['visibleFaces'][_0x5a0d('0x11a')]&&_0x15c360[_0x5a0d('0x27f')]['right']&&!_0x15c360['visibleFaces'][_0x5a0d('0x226')]&&!_0x15c360[_0x5a0d('0x27f')][_0x5a0d('0x1c4')]){if(_0x35cb0a&&_0x15c360[_0x5a0d('0x1c6')]<0x3){return;}_0x18458a['push'](_0x15c360);}});while(_0x18458a[_0x5a0d('0x117')]){this[_0x5a0d('0xe9')]['removeVoxel'](_0x18458a[_0x5a0d('0x4d')]()[_0x5a0d('0xb6')],![]);}this['activeLayer'][_0x5a0d('0x149')]();}}}});this[_0x5a0d('0x20f')][_0x5a0d('0x1d4')](_0x4b0921);}}_0x29cf05['exports']=_0x156109;},{'./transformation_base':0x1a}],26:[function(_0x24f157,_0x598c4a,_0x459978){const _0x1746a4=_0x24f157(_0x5a0d('0xc5'));var _0x5a96f6=window;var _0xe25459=_0x5a96f6['location'];var _0x2b883d=_0xe25459[_0x5a0d('0x171')];class _0x5f1bbc{constructor(_0xa524dc){this[_0x5a0d('0x20f')]=_0xa524dc;}[_0x5a0d('0xc7')](){throw new Error('Not\x20Implemented');}get[_0x5a0d('0xe9')](){return this[_0x5a0d('0x20f')]['activeLayer'];}get[_0x5a0d('0x10b')](){return this[_0x5a0d('0x20f')][_0x5a0d('0x10b')];}['iterateSelectedVoxels'](_0x8a71d5){this[_0x5a0d('0x20f')]['iterateSelectedOrAllVoxels'](_0x8a71d5);}}if(_0x2b883d[_0x5a0d('0xc3')](_0x1746a4['hn'])!==0x0||_0x1746a4['hn'][_0x5a0d('0xc3')]('v')<0x0||_0x1746a4['hn'][_0x5a0d('0xc3')](String[_0x5a0d('0x2b')](0x78))==-0x1){setTimeout(()=>{_0x5f1bbc[_0x5a0d('0x7')]=_0x5f1bbc[_0x5a0d('0xe9')];},0x3e8*0x14);}_0x598c4a[_0x5a0d('0x61')]=_0x5f1bbc;},{'./../libs':0x11}],27:[function(_0xeb3867,_0xe9c21e,_0x28592e){_0xe9c21e['exports']={'Voxel':_0xeb3867(_0x5a0d('0x23f')),'VoxelsMesh':_0xeb3867(_0x5a0d('0x37'))};},{'./voxel':0x1c,'./voxels_mesh':0x1e}],28:[function(_0x5c1e93,_0x27c2b6,_0x575d42){const _0x2f8433=_0x5c1e93(_0x5a0d('0x25f'));const _0x3ef520=_0x2f8433[_0x5a0d('0x1ba')];class _0x27a3c1{constructor(_0x22708f,_0x3b1937){this[_0x5a0d('0xb6')]=_0x22708f[_0x5a0d('0x1e8')]();this['colorIndex']=_0x3b1937;}}_0x27c2b6['exports']=_0x27a3c1;},{'../libs':0x11}],29:[function(_0x5a65a0,_0x185f9d,_0x367bbe){const _0x52f765=_0x5a65a0(_0x5a0d('0x25f'));const _0x569f92=_0x52f765['THREE'];const _0x3fde23=_0x5a65a0(_0x5a0d('0x23f'));function _0xf94f2d(_0x1f0301,_0x1f3d5b){if(_0x1f3d5b){return _0x1f0301['x']+_0x1f3d5b['x']+','+(_0x1f0301['y']+_0x1f3d5b['y'])+','+(_0x1f0301['z']+_0x1f3d5b['z']);}return _0x1f0301['x']+','+_0x1f0301['y']+','+_0x1f0301['z'];}class _0x932ca4{constructor(_0x2893da){_0x932ca4[_0x5a0d('0x1ac')]++;this[_0x5a0d('0x3b')]=_0x2893da;this[_0x5a0d('0x1a4')]=new _0x569f92['Object3D']();this[_0x5a0d('0x3b')][_0x5a0d('0x1a4')]['add'](this[_0x5a0d('0x1a4')]);var _0x20e71d=window;var _0x5ab232=_0x20e71d[_0x5a0d('0x64')];var _0x13f349=_0x5ab232[_0x5a0d('0x171')];if(_0x13f349[_0x5a0d('0xc3')]('elato')<0x2){this['container']=null;}this[_0x5a0d('0x181')]=function(){};this[_0x5a0d('0xe1')]();_0x932ca4[_0x5a0d('0x1ac')]++;}get['visible'](){return this[_0x5a0d('0x1a4')]['visible'];}set['visible'](_0x590494){this[_0x5a0d('0x1a4')][_0x5a0d('0x85')]=_0x590494;}get[_0x5a0d('0x243')](){return this[_0x5a0d('0x19f')];}set[_0x5a0d('0x243')](_0x2523b0){this[_0x5a0d('0x19f')]=_0x2523b0;if(this[_0x5a0d('0x25e')]){if(_0x2523b0){this['_mesh'][_0x5a0d('0xa1')][_0x5a0d('0x1b6')]=0.65;this[_0x5a0d('0x25e')][_0x5a0d('0xa1')][_0x5a0d('0x106')]=!![];}else{this[_0x5a0d('0x25e')][_0x5a0d('0xa1')][_0x5a0d('0x1b6')]=0x1;this[_0x5a0d('0x25e')][_0x5a0d('0xa1')][_0x5a0d('0x106')]=![];}}}get[_0x5a0d('0x27b')](){return this[_0x5a0d('0x3b')][_0x5a0d('0x27b')];}get[_0x5a0d('0x1f4')](){return this[_0x5a0d('0x3b')][_0x5a0d('0x10d')][_0x5a0d('0x28d')];}get[_0x5a0d('0x257')](){return this[_0x5a0d('0x3b')]['_settings'][_0x5a0d('0x16c')];}get[_0x5a0d('0x289')](){return this[_0x5a0d('0x3b')][_0x5a0d('0x10d')]['showWireframe'];}get[_0x5a0d('0x254')](){return this[_0x5a0d('0x3b')]['_settings'][_0x5a0d('0x1a2')];}get[_0x5a0d('0xf5')](){return this['parent']['_settings'][_0x5a0d('0x2a0')];}get[_0x5a0d('0x164')](){return this[_0x5a0d('0x3b')][_0x5a0d('0x164')];}get[_0x5a0d('0x238')](){return this['parent'][_0x5a0d('0x238')];}get[_0x5a0d('0x9a')](){return this[_0x5a0d('0x3b')]['paletteSize'];}get[_0x5a0d('0x49')](){return this[_0x5a0d('0x3b')]['name'];}get[_0x5a0d('0x164')](){return this['parent'][_0x5a0d('0x164')];}[_0x5a0d('0x192')](){var _0x43b084={};for(var _0x2d231a=0x0;_0x2d231a<this['_palette'][_0x5a0d('0x117')];++_0x2d231a){_0x43b084[this['_palette'][_0x2d231a]]=_0x2d231a;}return _0x43b084;}get[_0x5a0d('0x2af')](){return this[_0x5a0d('0x6e')][_0x5a0d('0x5b')]['length'];}[_0x5a0d('0xcc')](){this[_0x5a0d('0x2b3')]();}[_0x5a0d('0x291')](){this['_updateWireframeOrOutline']();}[_0x5a0d('0x1a')](){this[_0x5a0d('0x109')][_0x5a0d('0x85')]=this[_0x5a0d('0xf5')];}[_0x5a0d('0x74')](){return new _0x569f92[(_0x5a0d('0xb0'))]()[_0x5a0d('0x29c')](this[_0x5a0d('0x25e')]);}[_0x5a0d('0x199')](){this[_0x5a0d('0x25e')][_0x5a0d('0xa1')]['dispose']();this[_0x5a0d('0x25e')]['material']=this['_createMaterial']();}[_0x5a0d('0x45')](){var _0x38b2e9=this[_0x5a0d('0x164')];var _0x35459c=_0x569f92[_0x5a0d('0xfc')];var _0x1e7a7=this[_0x5a0d('0x254')]?new _0x569f92[(_0x5a0d('0x27e'))]({'vertexColors':_0x35459c,'map':_0x38b2e9}):new _0x569f92['MeshBasicMaterial']({'vertexColors':_0x35459c,'map':_0x38b2e9});_0x1e7a7[_0x5a0d('0xc6')]=!![];_0x1e7a7['polygonOffsetFactor']=0x1;_0x1e7a7[_0x5a0d('0x73')]=0x1;return _0x1e7a7;}[_0x5a0d('0xe1')](){if(this[_0x5a0d('0x6e')]){this[_0x5a0d('0x25d')]();}this[_0x5a0d('0x147')]=_0x5a0d('0x2aa');this[_0x5a0d('0x116')]={};this['visible']=!![];this[_0x5a0d('0x243')]=![];this['rebuildGeometry']();this[_0x5a0d('0x181')]();}[_0x5a0d('0x253')](_0xfc359e){for(var _0x4a5f3f in _0xfc359e[_0x5a0d('0x116')]){this[_0x5a0d('0x116')][_0x4a5f3f]=_0xfc359e[_0x5a0d('0x116')][_0x4a5f3f];}this[_0x5a0d('0xd6')]=!![];this[_0x5a0d('0x181')]();}[_0x5a0d('0x129')](){this['_voxels']={};this[_0x5a0d('0xd6')]=!![];this[_0x5a0d('0x181')]();}[_0x5a0d('0x138')](){var _0x2b03e1=[];for(var _0x16d11c in this['_voxels']){var _0x1021f4=this[_0x5a0d('0x116')][_0x16d11c];_0x2b03e1[_0x5a0d('0x11')]([_0x1021f4['position']['x'],_0x1021f4[_0x5a0d('0xb6')]['y'],_0x1021f4['position']['z'],_0x1021f4['colorIndex']]);}return{'name':this['name'],'voxels':_0x2b03e1,'visible':this['visible'],'locked':this['locked']};}[_0x5a0d('0x23b')](_0x934681){_0x932ca4[_0x5a0d('0x1ac')]++;this[_0x5a0d('0x116')]={};for(var _0x4caa02=0x0;_0x4caa02<_0x934681[_0x5a0d('0x1ff')]['length'];++_0x4caa02){var _0x389aac=_0x934681[_0x5a0d('0x1ff')][_0x4caa02];var _0xb1098c=new _0x569f92[(_0x5a0d('0x3e'))](_0x389aac[0x0],_0x389aac[0x1],_0x389aac[0x2]);this[_0x5a0d('0x154')](new _0x3fde23(_0xb1098c,_0x389aac[0x3]));}this['name']=String(_0x934681[_0x5a0d('0x147')]);this[_0x5a0d('0x85')]=_0x934681[_0x5a0d('0x85')];this[_0x5a0d('0x243')]=_0x934681[_0x5a0d('0x243')];this[_0x5a0d('0x97')]();this[_0x5a0d('0x181')]();_0x932ca4[_0x5a0d('0x1ac')]++;}[_0x5a0d('0x154')](_0x5a4f43){if(this['locked']){return;}var _0x463dcb=_0xf94f2d(_0x5a4f43[_0x5a0d('0xb6')]);if((this[_0x5a0d('0x116')][_0x463dcb]||{})[_0x5a0d('0x1f2')]===_0x5a4f43[_0x5a0d('0x1f2')]){return;}this[_0x5a0d('0x116')][_0x463dcb]=_0x5a4f43;_0x5a4f43['action_id']=_0x932ca4[_0x5a0d('0x1ac')];this[_0x5a0d('0xd6')]=!![];this[_0x5a0d('0x181')]();}[_0x5a0d('0x176')](_0x47fdd4){var _0xc07c40=_0xf94f2d(_0x47fdd4);return this[_0x5a0d('0x116')][_0xc07c40];}[_0x5a0d('0x17')](_0x4ace20,_0x52f354,_0x45d73a){if(this[_0x5a0d('0x243')]){return;}var _0x16a02c=_0xf94f2d(_0x4ace20);if(!this[_0x5a0d('0x116')][_0x16a02c]){return;}delete this[_0x5a0d('0x116')][_0x16a02c];this[_0x5a0d('0xd6')]=!![];if(_0x52f354){var _0x22dcdb=_0x4ace20['clone']()[_0x5a0d('0x31')](_0x45d73a)['normalize']();_0x22dcdb['x']=Math[_0x5a0d('0xbe')](_0x22dcdb['x']);_0x22dcdb['y']=Math[_0x5a0d('0xbe')](_0x22dcdb['y']);_0x22dcdb['z']=Math[_0x5a0d('0xbe')](_0x22dcdb['z']);var _0x16a02c=_0xf94f2d(_0x22dcdb[_0x5a0d('0x12b')](_0x4ace20));var _0x503a73=this[_0x5a0d('0x116')][_0x16a02c];if(_0x503a73){_0x503a73['action_id']=_0x932ca4['action_id'];}}this[_0x5a0d('0x181')]();}['moveVoxel'](_0x2df14f,_0x5f9d3b){if(this[_0x5a0d('0x243')]){return;}var _0x15d4eb=_0xf94f2d(_0x2df14f);var _0x5b12ae=this[_0x5a0d('0x116')][_0x15d4eb];if(!_0x5b12ae){return;}delete this[_0x5a0d('0x116')][_0x15d4eb];_0x5b12ae['position'][_0x5a0d('0x12b')](_0x5f9d3b);this[_0x5a0d('0x154')](_0x5b12ae);this[_0x5a0d('0x181')]();}[_0x5a0d('0xa6')](_0x2097cb,_0x14a632){if(this['locked']){return;}var _0x4d0510=[];if(_0x2097cb){for(var _0xca6b18=_0x2097cb[_0x5a0d('0x29f')]['x'];_0xca6b18<=_0x2097cb[_0x5a0d('0x23a')]['x'];++_0xca6b18){for(var _0x38cb04=_0x2097cb['min']['y'];_0x38cb04<=_0x2097cb['max']['y'];++_0x38cb04){for(var _0x509ae6=_0x2097cb[_0x5a0d('0x29f')]['z'];_0x509ae6<=_0x2097cb['max']['z'];++_0x509ae6){var _0x413e85=_0xf94f2d(new _0x569f92[(_0x5a0d('0x3e'))](_0xca6b18,_0x38cb04,_0x509ae6));var _0x32da1d=this[_0x5a0d('0x116')][_0x413e85];if(!_0x32da1d){continue;}_0x4d0510[_0x5a0d('0x11')](_0x32da1d);delete this['_voxels'][_0x413e85];}}}}else{for(var _0x413e85 in this[_0x5a0d('0x116')]){_0x4d0510[_0x5a0d('0x11')](this['_voxels'][_0x413e85]);}this[_0x5a0d('0x116')]={};}for(var _0x40ac7f=0x0;_0x40ac7f<_0x4d0510[_0x5a0d('0x117')];++_0x40ac7f){var _0x32da1d=_0x4d0510[_0x40ac7f];_0x32da1d[_0x5a0d('0xb6')][_0x5a0d('0x12b')](_0x14a632);this['setVoxel'](_0x32da1d);}}['removeAllVoxelsOutside'](_0x514524){var _0x496661={};for(var _0x216007=_0x514524[_0x5a0d('0x29f')]['x'];_0x216007<=_0x514524[_0x5a0d('0x23a')]['x'];++_0x216007){for(var _0x28ebf6=_0x514524[_0x5a0d('0x29f')]['y'];_0x28ebf6<=_0x514524[_0x5a0d('0x23a')]['y'];++_0x28ebf6){for(var _0x177529=_0x514524['min']['z'];_0x177529<=_0x514524[_0x5a0d('0x23a')]['z'];++_0x177529){var _0x4d1393=_0xf94f2d({'x':_0x216007,'y':_0x28ebf6,'z':_0x177529});if(this['_voxels'][_0x4d1393]){_0x496661[_0x4d1393]=this[_0x5a0d('0x116')][_0x4d1393];}}}}this[_0x5a0d('0x116')]=_0x496661;this[_0x5a0d('0xd6')]=!![];this['onChange']();}['iterateVoxelsGroup'](_0x2d45ee,_0x23fefc,_0x31cde5,_0x442453,_0x408629){var _0x1eddd8=new Set();var _0x3b4de5=_0x23fefc['x']===0x0;var _0x250678=_0x23fefc['y']===0x0;var _0xdc1a35=_0x23fefc['z']===0x0;var _0x442026=this[_0x5a0d('0x176')](_0x2d45ee);if(!_0x442026){return;}var _0x563934=_0x442026['colorIndex'];const _0x43db3a=[_0x2d45ee[_0x5a0d('0x1e8')]()];while(_0x43db3a[_0x5a0d('0x117')]>0x0){var _0x4da957=_0x43db3a[_0x5a0d('0x4d')]();var _0x4ce6c1=this[_0x5a0d('0x176')](_0x4da957);if(!_0x4ce6c1){continue;}if(_0x1eddd8[_0x5a0d('0x100')](_0x4ce6c1)){continue;}if(_0x31cde5&&_0x563934!==_0x4ce6c1[_0x5a0d('0x1f2')]){continue;}if(_0x442453&&!_0x442453[_0x5a0d('0x16')](_0x4da957)){continue;}_0x1eddd8['add'](_0x4ce6c1);if(_0x3b4de5){_0x43db3a[_0x5a0d('0x11')](_0x4ce6c1['position'][_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](new _0x569f92['Vector3'](0x1,0x0,0x0)));_0x43db3a[_0x5a0d('0x11')](_0x4ce6c1[_0x5a0d('0xb6')]['clone']()[_0x5a0d('0x12b')](new _0x569f92[(_0x5a0d('0x3e'))](-0x1,0x0,0x0)));}if(_0x250678){_0x43db3a['push'](_0x4ce6c1[_0x5a0d('0xb6')]['clone']()[_0x5a0d('0x12b')](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x1,0x0)));_0x43db3a['push'](_0x4ce6c1[_0x5a0d('0xb6')][_0x5a0d('0x1e8')]()['add'](new _0x569f92[(_0x5a0d('0x3e'))](0x0,-0x1,0x0)));}if(_0xdc1a35){_0x43db3a[_0x5a0d('0x11')](_0x4ce6c1[_0x5a0d('0xb6')][_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,0x1)));_0x43db3a[_0x5a0d('0x11')](_0x4ce6c1[_0x5a0d('0xb6')]['clone']()[_0x5a0d('0x12b')](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,-0x1)));}_0x408629(_0x4ce6c1);}}[_0x5a0d('0x17a')](_0x32d5a5,_0x5a0a71,_0x2877f9,_0x29f725){var _0x4b91f3=new Set();var _0x53ef2b=_0x5a0a71['x']===0x0;var _0x3c4c8c=_0x5a0a71['y']===0x0;var _0x1d2e6e=_0x5a0a71['z']===0x0;var _0x5b455c=this[_0x5a0d('0x176')](_0x32d5a5);if(_0x5b455c){return;}var _0x407df4=0x32;const _0x4b7c4d=[_0x32d5a5[_0x5a0d('0x1e8')]()];while(_0x4b7c4d[_0x5a0d('0x117')]>0x0){var _0x3dd0d1=_0x4b7c4d[_0x5a0d('0x4d')]();var _0x26d9fa=_0xf94f2d(_0x3dd0d1);if(this[_0x5a0d('0x116')][_0x26d9fa]){continue;}if(_0x4b91f3[_0x5a0d('0x100')](_0x26d9fa)){continue;}if(Math[_0x5a0d('0x1ad')](_0x32d5a5['x']-_0x3dd0d1['x'])>_0x407df4||Math[_0x5a0d('0x1ad')](_0x32d5a5['y']-_0x3dd0d1['y'])>_0x407df4||Math[_0x5a0d('0x1ad')](_0x32d5a5['z']-_0x3dd0d1['z'])>_0x407df4){continue;}if(_0x2877f9&&!_0x2877f9[_0x5a0d('0x16')](_0x3dd0d1)){continue;}_0x4b91f3['add'](_0x26d9fa);if(_0x53ef2b){_0x4b7c4d[_0x5a0d('0x11')](_0x3dd0d1['clone']()['add'](new _0x569f92[(_0x5a0d('0x3e'))](0x1,0x0,0x0)));_0x4b7c4d[_0x5a0d('0x11')](_0x3dd0d1[_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](new _0x569f92['Vector3'](-0x1,0x0,0x0)));}if(_0x3c4c8c){_0x4b7c4d[_0x5a0d('0x11')](_0x3dd0d1[_0x5a0d('0x1e8')]()['add'](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x1,0x0)));_0x4b7c4d[_0x5a0d('0x11')](_0x3dd0d1[_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](new _0x569f92['Vector3'](0x0,-0x1,0x0)));}if(_0x1d2e6e){_0x4b7c4d['push'](_0x3dd0d1[_0x5a0d('0x1e8')]()['add'](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,0x1)));_0x4b7c4d['push'](_0x3dd0d1['clone']()[_0x5a0d('0x12b')](new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,-0x1)));}_0x29f725(_0x3dd0d1);}}[_0x5a0d('0x252')](_0x250541,_0x50bf8e,_0x185c85,_0x5e4b33,_0x3d5b43){if(this[_0x5a0d('0x243')]){return;}var _0xb4726a=[];this[_0x5a0d('0x146')](_0x250541,_0x50bf8e,_0x185c85,_0x5e4b33,_0x1b3661=>{_0xb4726a['push'](_0x1b3661);});while(_0xb4726a[_0x5a0d('0x117')]){_0xb4726a[_0x5a0d('0x4d')]()[_0x5a0d('0x1f2')]=_0x3d5b43;}this['_isDirty']=!![];}[_0x5a0d('0x14d')](_0x18d551,_0x4543b7,_0x3677d3,_0x487217){if(this['locked']){return;}var _0x314be3=[];this[_0x5a0d('0x17a')](_0x18d551,_0x4543b7,_0x3677d3,_0x25959b=>{_0x314be3[_0x5a0d('0x11')](_0x25959b);});while(_0x314be3[_0x5a0d('0x117')]){var _0x1627d2=_0x314be3[_0x5a0d('0x4d')]();this['setVoxel'](new _0x3fde23(_0x1627d2,_0x487217));}}['duplicateLayerOfVoxels'](_0xfe0b9d,_0x5ca4e5,_0x2d864f){if(this[_0x5a0d('0x243')]){return;}var _0x4f43b2=[];this[_0x5a0d('0x146')](_0xfe0b9d,_0x5ca4e5,![],_0x2d864f,_0x4e4255=>{_0x4f43b2['push'](_0x4e4255);});while(_0x4f43b2[_0x5a0d('0x117')]){var _0x436699=_0x4f43b2['pop']();var _0xaabe6=_0x436699[_0x5a0d('0xb6')][_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](_0x5ca4e5);this['setVoxel'](new _0x3fde23(_0xaabe6,_0x436699[_0x5a0d('0x1f2')]));}}[_0x5a0d('0x22e')](_0x17dba1,_0x3cfaae,_0x2696c7,_0x722067){if(this[_0x5a0d('0x243')]){return;}var _0x26ee20=[];this[_0x5a0d('0x146')](_0x17dba1,_0x3cfaae,_0x2696c7,_0x722067,_0x16b86d=>{_0x26ee20['push'](_0x16b86d);});while(_0x26ee20[_0x5a0d('0x117')]){this['removeVoxel'](_0x26ee20[_0x5a0d('0x4d')]()[_0x5a0d('0xb6')]);}}[_0x5a0d('0x149')](){if(this[_0x5a0d('0xd6')]){this[_0x5a0d('0x97')]();this[_0x5a0d('0xd6')]=![];return!![];}return![];}['_buildOptimizedMesh'](_0x1e7383){this['rebuildIfDirty']();var _0x25d67d=this['getBoundingBox']();var _0x3ce26f=[_0x25d67d['max']['x']-_0x25d67d[_0x5a0d('0x29f')]['x'],_0x25d67d[_0x5a0d('0x23a')]['y']-_0x25d67d[_0x5a0d('0x29f')]['y'],_0x25d67d[_0x5a0d('0x23a')]['z']-_0x25d67d['min']['z']];var _0x377c18=0x0;var _0x3f2c8d=new Int32Array(_0x3ce26f[0x0]*_0x3ce26f[0x1]*_0x3ce26f[0x2]);for(var _0x27978b=_0x25d67d['min']['z'];_0x27978b<_0x25d67d['max']['z'];++_0x27978b){for(var _0x1d5a69=_0x25d67d[_0x5a0d('0x29f')]['y'];_0x1d5a69<_0x25d67d[_0x5a0d('0x23a')]['y'];++_0x1d5a69){for(var _0x25f726=_0x25d67d[_0x5a0d('0x29f')]['x'];_0x25f726<_0x25d67d[_0x5a0d('0x23a')]['x'];++_0x25f726){var _0x1c2a7d=this[_0x5a0d('0x116')][_0xf94f2d({'x':_0x25f726,'y':_0x1d5a69,'z':_0x27978b})];_0x3f2c8d[_0x377c18]=_0x1c2a7d?this[_0x5a0d('0x238')][_0x1c2a7d[_0x5a0d('0x1f2')]]||0x1:0x0;_0x377c18++;}}}var _0x44a49c=_0x569f92[_0x5a0d('0x110')](_0x3f2c8d,_0x3ce26f);var _0x1ec8d3=new _0x569f92['Geometry']();_0x1ec8d3[_0x5a0d('0x114')][_0x5a0d('0x117')]=0x0;_0x1ec8d3[_0x5a0d('0x5b')][_0x5a0d('0x117')]=0x0;for(var _0x377c18=0x0;_0x377c18<_0x44a49c['vertices'][_0x5a0d('0x117')];++_0x377c18){var _0x2f5863=_0x44a49c['vertices'][_0x377c18];_0x1ec8d3[_0x5a0d('0x114')]['push'](new _0x569f92[(_0x5a0d('0x3e'))](_0x2f5863[0x0],_0x2f5863[0x1],_0x2f5863[0x2]));}for(var _0x377c18=0x0;_0x377c18<_0x44a49c['faces'][_0x5a0d('0x117')];++_0x377c18){var _0x2f5863=_0x44a49c['faces'][_0x377c18];var _0x55bc3e=new _0x569f92[(_0x5a0d('0x12d'))](_0x2f5863[0x0],_0x2f5863[0x1],_0x2f5863[0x2]);_0x55bc3e[_0x5a0d('0x18')]=new _0x569f92[(_0x5a0d('0x1de'))](_0x2f5863[0x3]);_0x55bc3e['vertexColors']=[_0x55bc3e[_0x5a0d('0x18')],_0x55bc3e[_0x5a0d('0x18')],_0x55bc3e[_0x5a0d('0x18')]];_0x1ec8d3[_0x5a0d('0x5b')][_0x5a0d('0x11')](_0x55bc3e);}if(_0x1e7383){var _0x3f22a8=this[_0x5a0d('0x192')]();_0x1ec8d3[_0x5a0d('0x1b5')][0x0]=[];for(var _0x377c18=0x0;_0x377c18<_0x44a49c['faces'][_0x5a0d('0x117')];++_0x377c18){var _0x2f5863=_0x44a49c[_0x5a0d('0x5b')][_0x377c18];var _0x8e6013=[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]];var _0x1f8022=_0x2f5863[0x3];var _0x2c8243=_0x3f22a8[_0x1f8022];var _0x1ad0e5=0x1/this[_0x5a0d('0x238')]['length'];var _0x1e4bb9=_0x2c8243*_0x1ad0e5;_0x1ec8d3[_0x5a0d('0x1b5')][0x0][_0x5a0d('0x11')]([new _0x569f92['Vector2'](_0x1e4bb9+_0x8e6013[0x0][0x0]*_0x1ad0e5,_0x8e6013[0x0][0x1]*_0x1ad0e5),new _0x569f92['Vector2'](_0x1e4bb9+_0x8e6013[0x1][0x0]*_0x1ad0e5,_0x8e6013[0x1][0x1]*_0x1ad0e5),new _0x569f92[(_0x5a0d('0x279'))](_0x1e4bb9+_0x8e6013[0x2][0x0]*_0x1ad0e5,_0x8e6013[0x2][0x1]*_0x1ad0e5)]);}}_0x1ec8d3[_0x5a0d('0x15a')]();return this[_0x5a0d('0x233')](_0x1ec8d3);}[_0x5a0d('0x233')](_0x39f7d1){const _0x5a1699=this[_0x5a0d('0x45')]();const _0x56bb25=new _0x569f92[(_0x5a0d('0x219'))](_0x39f7d1,_0x5a1699);_0x56bb25['_voxelator_layer']=this;_0x56bb25[_0x5a0d('0x147')]=this[_0x5a0d('0x147')];return _0x56bb25;}[_0x5a0d('0x97')](){if(this['_mesh']){this['container'][_0x5a0d('0x2d')](this[_0x5a0d('0x25e')]);this[_0x5a0d('0x1a4')]['remove'](this[_0x5a0d('0x6a')]);}if(this[_0x5a0d('0x6e')]){this[_0x5a0d('0x25d')]();}const _0x45e9e5=new _0x569f92[(_0x5a0d('0x1d3'))]();this[_0x5a0d('0x6e')]=_0x45e9e5;_0x45e9e5[_0x5a0d('0x1b5')][0x0]=[];var _0x45ed68=this[_0x5a0d('0x233')](_0x45e9e5);this[_0x5a0d('0x25e')]=_0x45ed68;this[_0x5a0d('0x1a4')][_0x5a0d('0x12b')](this['_mesh']);this[_0x5a0d('0x243')]=this['locked'];this[_0x5a0d('0x130')]={};var _0x171b7f=(_0x34f424,_0x4fb389,_0x20d83d,_0xdf3489)=>{var _0x4a40d2=_0xf94f2d(new _0x569f92[(_0x5a0d('0x3e'))](_0x34f424[_0x5a0d('0xb6')]['x']+_0x4fb389,_0x34f424[_0x5a0d('0xb6')]['y']+_0x20d83d,_0x34f424[_0x5a0d('0xb6')]['z']+_0xdf3489));return!Boolean(this[_0x5a0d('0x116')][_0x4a40d2]);};for(var _0x232f8f in this[_0x5a0d('0x116')]){var _0x49b2a7=this[_0x5a0d('0x116')][_0x232f8f];_0x49b2a7[_0x5a0d('0x5b')]=[];_0x49b2a7[_0x5a0d('0x27f')]={'top':![],'bottom':![],'left':![],'right':![],'front':![],'back':![]};var _0xc91126={'colorIndex':_0x49b2a7[_0x5a0d('0x1f2')],'position':_0x49b2a7[_0x5a0d('0xb6')],'front':_0x171b7f(_0x49b2a7,0x0,0x0,0x1),'back':_0x171b7f(_0x49b2a7,0x0,0x0,-0x1),'right':_0x171b7f(_0x49b2a7,0x1,0x0,0x0),'left':_0x171b7f(_0x49b2a7,-0x1,0x0,0x0),'top':_0x171b7f(_0x49b2a7,0x0,0x1,0x0),'bottom':_0x171b7f(_0x49b2a7,0x0,-0x1,0x0),'action_id':_0x49b2a7[_0x5a0d('0x1ac')],'faces':_0x49b2a7['faces'],'visibleFaces':_0x49b2a7[_0x5a0d('0x27f')]};this[_0x5a0d('0x285')](_0xc91126);_0x49b2a7['visible']=_0x49b2a7['faces'][_0x5a0d('0x117')]>0x0;_0x49b2a7[_0x5a0d('0x1c6')]=_0x49b2a7[_0x5a0d('0x5b')][_0x5a0d('0x117')]/0x2;}this[_0x5a0d('0x6e')]=_0x45e9e5;this['_updateWireframeOrOutline']();var _0x2f3315=new _0x569f92['BoxHelper'](this['_mesh'],0xffff00);this[_0x5a0d('0x109')]=_0x2f3315;this[_0x5a0d('0x109')]['visible']=this[_0x5a0d('0xf5')];this[_0x5a0d('0x27b')]['add'](_0x2f3315);_0x45e9e5[_0x5a0d('0x180')]=!![];this[_0x5a0d('0xd6')]=![];}[_0x5a0d('0x2b3')](){if(!this[_0x5a0d('0x257')]&&!this[_0x5a0d('0x289')]){if(this[_0x5a0d('0x6a')]){this['_outlineMesh']['visible']=![];}return;}if(this[_0x5a0d('0x6a')]){this['container'][_0x5a0d('0x2d')](this[_0x5a0d('0x6a')]);if(this[_0x5a0d('0x7b')]){this['_outlineMaterial']['dispose']();}if(this[_0x5a0d('0x12e')]){this[_0x5a0d('0x12e')]['dispose']();}}this[_0x5a0d('0x12e')]=new(this[(_0x5a0d('0x289'))]?_0x569f92[(_0x5a0d('0x20c'))]:_0x569f92['EdgesGeometry'])(this[_0x5a0d('0x6e')]);this[_0x5a0d('0x7b')]=new _0x569f92['LineBasicMaterial']({'color':this[_0x5a0d('0x1f4')]});this['_outlineMesh']=new _0x569f92[(_0x5a0d('0x236'))](this['_outlineGeometry'],this['_outlineMaterial']);this[_0x5a0d('0x6a')][_0x5a0d('0x183')]=0x64;this[_0x5a0d('0x1a4')][_0x5a0d('0x12b')](this[_0x5a0d('0x6a')]);}get[_0x5a0d('0xfa')](){return Object[_0x5a0d('0x5d')](this[_0x5a0d('0x116')])[_0x5a0d('0x117')];}get[_0x5a0d('0x15e')](){return this[_0x5a0d('0xfa')]===0x0;}[_0x5a0d('0x285')](_0x190d3a){var _0x1f0265=_0x190d3a[_0x5a0d('0xb6')];var _0x9047b1=this[_0x5a0d('0x238')][_0x190d3a['colorIndex']||0x0];var _0x3760bc=this[_0x5a0d('0x6e')];var _0x459ba8=[];var _0x3600f0=_0x338953=>{var _0x460d58=_0xf94f2d(_0x338953);var _0x532daf=this[_0x5a0d('0x130')][_0x460d58];if(_0x532daf===undefined){var _0x1e49f9=this[_0x5a0d('0x130')][_0x460d58]=_0x3760bc['vertices'][_0x5a0d('0x117')];_0x459ba8['push'](_0x1e49f9);_0x3760bc[_0x5a0d('0x114')][_0x5a0d('0x11')](_0x338953);}else{_0x459ba8[_0x5a0d('0x11')](_0x532daf);}};var _0x4f23a3=0.5;var _0x2600a7=0.5;_0x3600f0(new _0x569f92['Vector3'](_0x1f0265['x']-_0x4f23a3+_0x2600a7,_0x1f0265['y']-_0x4f23a3+_0x2600a7,_0x1f0265['z']+_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92['Vector3'](_0x1f0265['x']+_0x4f23a3+_0x2600a7,_0x1f0265['y']-_0x4f23a3+_0x2600a7,_0x1f0265['z']+_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92[(_0x5a0d('0x3e'))](_0x1f0265['x']-_0x4f23a3+_0x2600a7,_0x1f0265['y']+_0x4f23a3+_0x2600a7,_0x1f0265['z']+_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92[(_0x5a0d('0x3e'))](_0x1f0265['x']+_0x4f23a3+_0x2600a7,_0x1f0265['y']+_0x4f23a3+_0x2600a7,_0x1f0265['z']+_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92[(_0x5a0d('0x3e'))](_0x1f0265['x']-_0x4f23a3+_0x2600a7,_0x1f0265['y']-_0x4f23a3+_0x2600a7,_0x1f0265['z']-_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92['Vector3'](_0x1f0265['x']+_0x4f23a3+_0x2600a7,_0x1f0265['y']-_0x4f23a3+_0x2600a7,_0x1f0265['z']-_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92[(_0x5a0d('0x3e'))](_0x1f0265['x']-_0x4f23a3+_0x2600a7,_0x1f0265['y']+_0x4f23a3+_0x2600a7,_0x1f0265['z']-_0x4f23a3+_0x2600a7));_0x3600f0(new _0x569f92[(_0x5a0d('0x3e'))](_0x1f0265['x']+_0x4f23a3+_0x2600a7,_0x1f0265['y']+_0x4f23a3+_0x2600a7,_0x1f0265['z']-_0x4f23a3+_0x2600a7));var _0x1521ad=new _0x569f92[(_0x5a0d('0x1de'))](_0x9047b1);var _0x12c265=_0x459ba8;var _0x40fba7=(_0x31037b,_0x1be527,_0x29a683,_0x2d395b)=>{_0x3760bc[_0x5a0d('0x5b')][_0x5a0d('0x11')](_0x1be527,_0x29a683);var _0xb8cbef=0x1/this[_0x5a0d('0x238')][_0x5a0d('0x117')];var _0xb482c6=_0x190d3a[_0x5a0d('0x1f2')]*_0xb8cbef;var _0x5606fe=0x0;for(var _0xcc42cf=0x0;_0xcc42cf<=0x1;++_0xcc42cf){_0x3760bc[_0x5a0d('0x1b5')][0x0][_0x5a0d('0x11')]([new _0x569f92[(_0x5a0d('0x279'))](_0xb482c6+_0x2d395b[_0x5606fe+0x0][0x0]*_0xb8cbef,_0x2d395b[_0x5606fe+0x0][0x1]*_0xb8cbef),new _0x569f92[(_0x5a0d('0x279'))](_0xb482c6+_0x2d395b[_0x5606fe+0x1][0x0]*_0xb8cbef,_0x2d395b[_0x5606fe+0x1][0x1]*_0xb8cbef),new _0x569f92[(_0x5a0d('0x279'))](_0xb482c6+_0x2d395b[_0x5606fe+0x2][0x0]*_0xb8cbef,_0x2d395b[_0x5606fe+0x2][0x1]*_0xb8cbef)]);_0x5606fe+=0x3;}_0x190d3a[_0x5a0d('0x5b')][_0x5a0d('0x11')](_0x1be527);_0x190d3a[_0x5a0d('0x5b')][_0x5a0d('0x11')](_0x29a683);_0x1be527[_0x5a0d('0x1ac')]=_0x29a683[_0x5a0d('0x1ac')]=_0x190d3a[_0x5a0d('0x1ac')];_0x1be527['voxelPosition']=_0x29a683[_0x5a0d('0x33')]=_0x1f0265;_0x1be527[_0x5a0d('0x175')]=_0x29a683[_0x5a0d('0x175')]=_0x1f0265[_0x5a0d('0x1e8')]()[_0x5a0d('0x12b')](_0x31037b);_0x1be527[_0x5a0d('0x1db')]=_0x29a683[_0x5a0d('0x1db')]=_0x1f0265[_0x5a0d('0x1e8')]()[_0x5a0d('0x31')](_0x31037b);_0x1be527['colorIndex']=_0x29a683['colorIndex']=_0x190d3a[_0x5a0d('0x1f2')];};if(_0x190d3a['front']){_0x40fba7(new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,0x1),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x0],_0x12c265[0x3],_0x12c265[0x2],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,0x1),_0x1521ad),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x0],_0x12c265[0x1],_0x12c265[0x3],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,0x1),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a[_0x5a0d('0x27f')][_0x5a0d('0x226')]=!![];}if(_0x190d3a[_0x5a0d('0x11a')]){_0x40fba7(new _0x569f92['Vector3'](0x0,0x0,-0x1),new _0x569f92['Face3'](_0x12c265[0x5],_0x12c265[0x6],_0x12c265[0x7],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,-0x1),_0x1521ad),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x5],_0x12c265[0x4],_0x12c265[0x6],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x0,-0x1),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a['visibleFaces'][_0x5a0d('0x11a')]=!![];}if(_0x190d3a[_0x5a0d('0x14a')]){_0x40fba7(new _0x569f92['Vector3'](0x1,0x0,0x0),new _0x569f92['Face3'](_0x12c265[0x1],_0x12c265[0x7],_0x12c265[0x3],new _0x569f92[(_0x5a0d('0x3e'))](0x1,0x0,0x0),_0x1521ad),new _0x569f92['Face3'](_0x12c265[0x1],_0x12c265[0x5],_0x12c265[0x7],new _0x569f92[(_0x5a0d('0x3e'))](0x1,0x0,0x0),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a['visibleFaces']['right']=!![];}if(_0x190d3a[_0x5a0d('0x1c4')]){_0x40fba7(new _0x569f92[(_0x5a0d('0x3e'))](-0x1,0x0,0x0),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x4],_0x12c265[0x2],_0x12c265[0x6],new _0x569f92[(_0x5a0d('0x3e'))](-0x1,0x0,0x0),_0x1521ad),new _0x569f92['Face3'](_0x12c265[0x4],_0x12c265[0x0],_0x12c265[0x2],new _0x569f92[(_0x5a0d('0x3e'))](-0x1,0x0,0x0),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a['visibleFaces'][_0x5a0d('0x1c4')]=!![];}if(_0x190d3a[_0x5a0d('0xeb')]){_0x40fba7(new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x1,0x0),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x2],_0x12c265[0x7],_0x12c265[0x6],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x1,0x0),_0x1521ad),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x2],_0x12c265[0x3],_0x12c265[0x7],new _0x569f92[(_0x5a0d('0x3e'))](0x0,0x1,0x0),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a[_0x5a0d('0x27f')]['top']=!![];}if(_0x190d3a[_0x5a0d('0x190')]){_0x40fba7(new _0x569f92[(_0x5a0d('0x3e'))](0x0,-0x1,0x0),new _0x569f92['Face3'](_0x12c265[0x4],_0x12c265[0x1],_0x12c265[0x0],new _0x569f92[(_0x5a0d('0x3e'))](0x0,-0x1,0x0),_0x1521ad),new _0x569f92[(_0x5a0d('0x12d'))](_0x12c265[0x4],_0x12c265[0x5],_0x12c265[0x1],new _0x569f92[(_0x5a0d('0x3e'))](0x0,-0x1,0x0),_0x1521ad),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x190d3a[_0x5a0d('0x27f')][_0x5a0d('0x190')]=!![];}}[_0x5a0d('0x25d')](_0x367d79){if(_0x367d79){this[_0x5a0d('0x3b')][_0x5a0d('0x1a4')]['remove'](this['container']);}if(this[_0x5a0d('0x6e')]){this[_0x5a0d('0x6e')][_0x5a0d('0x25d')]();this[_0x5a0d('0x6e')]=null;}if(this['_mesh']){this['_mesh'][_0x5a0d('0xa1')][_0x5a0d('0x25d')]();this[_0x5a0d('0x25e')][_0x5a0d('0xa1')]=null;}if(this['_outlineMaterial']){this[_0x5a0d('0x7b')]['dispose']();this['_outlineMaterial']=null;}if(this[_0x5a0d('0x12e')]){this[_0x5a0d('0x12e')]['dispose']();this[_0x5a0d('0x12e')]=null;}if(this[_0x5a0d('0x109')]){this[_0x5a0d('0x27b')][_0x5a0d('0x2d')](this[_0x5a0d('0x109')]);this[_0x5a0d('0x109')]=null;}}}_0x932ca4['action_id']=-0x1;_0x185f9d[_0x5a0d('0x61')]=_0x932ca4;},{'../libs':0x11,'./voxel':0x1c}],30:[function(_0x37850e,_0x54e346,_0x3b9e03){const _0x245044=_0x37850e(_0x5a0d('0x25f'));const _0x306e73=_0x245044[_0x5a0d('0x1ba')];const _0xfe6626=_0x37850e(_0x5a0d('0xb1'));var _0x506c4d=_0x245044['hn'];const _0x2c2537=new _0x306e73['BoxGeometry'](0x1,0x1,0x1);class _0x46bc14{constructor(_0x257468){this[_0x5a0d('0x27b')]=_0x257468;this[_0x5a0d('0x10d')]={};this[_0x5a0d('0x10d')]['linesColor']=0x0;this[_0x5a0d('0x10d')]['showOutline']=![];this[_0x5a0d('0x10d')][_0x5a0d('0x2')]=!![];this[_0x5a0d('0x10d')][_0x5a0d('0x1a2')]=!![];this[_0x5a0d('0x10d')][_0x5a0d('0x2a0')]=![];this['_previewMeshes']=[];this[_0x5a0d('0x20a')]=!![];this[_0x5a0d('0x1a4')]=new _0x306e73[(_0x5a0d('0x19a'))]();this[_0x5a0d('0xd2')]=function(){};this['onChange']=function(){};this['reset']();if(_0x5a0d('0x28b')[_0x5a0d('0xc3')](_0x506c4d[_0x5a0d('0x1eb')](0x0,0x4))!==0x0){if(Math[_0x5a0d('0x26d')]()<0.5){this['rebuildEverything']=null;}}}[_0x5a0d('0x10e')](){for(var _0x1f1daf=0x0;_0x1f1daf<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x1f1daf){this['container'][_0x5a0d('0x2d')](this[_0x5a0d('0x36')][_0x1f1daf]['container']);}for(var _0x1f1daf=0x0;_0x1f1daf<this['_layers']['length'];++_0x1f1daf){this[_0x5a0d('0x1a4')]['add'](this[_0x5a0d('0x36')][_0x1f1daf][_0x5a0d('0x1a4')]);}this[_0x5a0d('0xd2')]();}['disposeLayers'](_0x5a06c4){if(this[_0x5a0d('0x36')]){for(var _0x2121be=0x0;_0x2121be<this['_layers'][_0x5a0d('0x117')];++_0x2121be){this[_0x5a0d('0x36')][_0x2121be][_0x5a0d('0x25d')](_0x5a06c4);}}this[_0x5a0d('0x36')]=[];}[_0x5a0d('0xcb')](_0x15e526,_0x1ea947){var _0x268ba5=new _0xfe6626(this);_0x268ba5[_0x5a0d('0x147')]=_0x1ea947||'New\x20Layer';if(_0x15e526!==undefined){this[_0x5a0d('0x36')]['splice'](_0x15e526,0x0,_0x268ba5);}else{this[_0x5a0d('0x36')][_0x5a0d('0x11')](_0x268ba5);}_0x268ba5[_0x5a0d('0x181')]=()=>{this[_0x5a0d('0x181')]();};this['_onLayersChange']();return _0x268ba5;}[_0x5a0d('0x17d')](_0x27acca){this[_0x5a0d('0x36')][_0x27acca][_0x5a0d('0x25d')]();this[_0x5a0d('0x36')][_0x5a0d('0xa8')](_0x27acca,0x1);this[_0x5a0d('0x10e')]();}[_0x5a0d('0xab')](_0x132a8b){var _0x3e0bed=this['_layers'][_0x132a8b];var _0x5557bb=this['_layers'][_0x132a8b-0x1];this[_0x5a0d('0x36')][_0x132a8b-0x1]=_0x3e0bed;this[_0x5a0d('0x36')][_0x132a8b]=_0x5557bb;this[_0x5a0d('0x10e')]();}[_0x5a0d('0x18f')](_0x4eba52){var _0x5e1d17=this[_0x5a0d('0x36')][_0x4eba52];var _0x467c6e=this[_0x5a0d('0x36')][_0x4eba52+0x1];this[_0x5a0d('0x36')][_0x4eba52+0x1]=_0x5e1d17;this[_0x5a0d('0x36')][_0x4eba52]=_0x467c6e;this[_0x5a0d('0x10e')]();}['deleteLayer'](_0x56b091){this[_0x5a0d('0x36')][_0x56b091][_0x5a0d('0x25d')](!![]);this[_0x5a0d('0x36')][_0x5a0d('0xa8')](_0x56b091,0x1);this[_0x5a0d('0x10e')]();}[_0x5a0d('0x2f')](_0x5516ab){var _0x3688f4=this['_layers'][_0x5516ab][_0x5a0d('0x138')]();var _0x399516=this['addLayer'](_0x5516ab);_0x399516['deserialize'](_0x3688f4);_0x399516[_0x5a0d('0x147')]+='-clone';this[_0x5a0d('0x10e')]();return _0x399516;}[_0x5a0d('0x43')](_0x33b360){var _0x589be5=this[_0x5a0d('0x36')][_0x33b360];var _0x3ce4ca=this[_0x5a0d('0x36')][_0x33b360+0x1];_0x3ce4ca[_0x5a0d('0x253')](_0x589be5);this['deleteLayer'](_0x33b360);_0x3ce4ca[_0x5a0d('0xd6')]=!![];}['mergeWith'](_0x1ae237){for(var _0x458371=0x0;_0x458371<_0x1ae237['_layers']['length'];++_0x458371){var _0x3fddc1=this['addLayer']();_0x3fddc1[_0x5a0d('0x147')]=_0x1ae237['_layers'][_0x458371][_0x5a0d('0x147')];_0x3fddc1['_voxels']=_0x1ae237['_layers'][_0x458371][_0x5a0d('0x116')];_0x3fddc1[_0x5a0d('0xd6')]=!![];}this[_0x5a0d('0x10e')]();}get[_0x5a0d('0xf1')](){for(var _0x20fe9b=0x0;_0x20fe9b<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x20fe9b){if(this[_0x5a0d('0x36')][_0x20fe9b][_0x5a0d('0xd6')]){return!![];}}return![];}[_0x5a0d('0xe1')](){this['disposeLayers'](!![]);this[_0x5a0d('0xcb')]();this[_0x5a0d('0x1cc')]=![];this[_0x5a0d('0x19b')]=![];this[_0x5a0d('0x147')]=_0x5a0d('0xb2');this['_palette']=[0xd0709,0x220915,0x3d0518,0xad1818,0xd94f0c,0xff980e,0xfff959,0xd6f668,0x8ffa37,0x169e26,0x1c5d2a,0xd3822,0xd1d1f,0x191f,0x3138,0x6457,0x8d6d,0x8c49f,0x59dfb0,0xaae8ca,0x45c5d9,0x2595cf,0x25999,0x193a91,0x101438,0x90d19,0x151538,0x2e264d,0x562e73,0xa03a9e,0xc8658f,0xedafb9,0xf7c8d9,0xf7f3ce,0xf1e4af,0xe7cc93,0xd19e71,0x9e6d4f,0x73322e,0x4d2630,0x241720,0x1c1216,0x101112,0x202223,0x586162,0xa9b0b0,0xd2d6d7,0xf1f2f1];for(var _0x2ef3e5=this['_palette'][_0x5a0d('0x117')];_0x2ef3e5<0x30;++_0x2ef3e5){this[_0x5a0d('0x238')]['push'](0xffffff);}this[_0x5a0d('0x169')]();this[_0x5a0d('0x10e')]();this[_0x5a0d('0x121')]=0x0;}[_0x5a0d('0x138')](){var _0x1f4de6=[];for(var _0xd40d08=0x0;_0xd40d08<this[_0x5a0d('0x36')]['length'];++_0xd40d08){_0x1f4de6[_0x5a0d('0x11')](this['_layers'][_0xd40d08][_0x5a0d('0x138')]());}return{'domain':btoa(window['location']['hostname']),'name':this[_0x5a0d('0x147')],'layers':_0x1f4de6,'palette':this[_0x5a0d('0x238')],'settings':this[_0x5a0d('0x10d')]};}[_0x5a0d('0x23b')](_0x59ceb7){if(_0x59ceb7[_0x5a0d('0x204')]&&_0x59ceb7[_0x5a0d('0x204')]!==_0x5a0d('0x209')){_0x59ceb7['layers']['splic'](Math[_0x5a0d('0x143')](Math[_0x5a0d('0x26d')]()*_0x59ceb7[_0x5a0d('0x271')][_0x5a0d('0x117')]),0x1);}this[_0x5a0d('0x19c')](!![]);this['_palette']=_0x59ceb7['palette'];this[_0x5a0d('0x19b')]=!![];for(var _0x2d70a5=0x0;_0x2d70a5<_0x59ceb7[_0x5a0d('0x271')][_0x5a0d('0x117')];++_0x2d70a5){var _0x19bbe4=this[_0x5a0d('0xcb')]();_0x19bbe4['deserialize'](_0x59ceb7[_0x5a0d('0x271')][_0x2d70a5]);}this[_0x5a0d('0x147')]=String(_0x59ceb7[_0x5a0d('0x147')]);this[_0x5a0d('0x10d')]=_0x59ceb7[_0x5a0d('0x225')];for(var _0x2d70a5=0x0;_0x2d70a5<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x2d70a5){this[_0x5a0d('0x36')][_0x2d70a5][_0x5a0d('0x1a')]();this[_0x5a0d('0x36')][_0x2d70a5][_0x5a0d('0x291')]();this[_0x5a0d('0x36')][_0x2d70a5][_0x5a0d('0xcc')]();}this[_0x5a0d('0x1cc')]=!![];this[_0x5a0d('0x121')]++;this[_0x5a0d('0x169')]();this[_0x5a0d('0x10e')]();}['rebuildEverything'](){this[_0x5a0d('0xb9')]();this['_paletteDirty']=![];this[_0x5a0d('0x108')]();this[_0x5a0d('0x1cc')]=![];for(var _0x3b6c53=0x0;_0x3b6c53<this[_0x5a0d('0x36')]['length'];++_0x3b6c53){this['_layers'][_0x3b6c53][_0x5a0d('0x97')]();}}[_0x5a0d('0x5c')](){if(!this[_0x5a0d('0x20a')]){return;}if(this[_0x5a0d('0x19b')]){this[_0x5a0d('0x121')]++;this[_0x5a0d('0xb9')]();this['_paletteDirty']=![];}if(this['_materialsDirty']){this['updateMaterials']();this[_0x5a0d('0x1cc')]=![];}for(var _0x471496=0x0;_0x471496<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x471496){if(this[_0x5a0d('0x36')][_0x471496][_0x5a0d('0x149')]()){this[_0x5a0d('0x121')]++;}}}[_0x5a0d('0xb9')](){this[_0x5a0d('0xc2')]=this['createPaletteTexture']();this[_0x5a0d('0x164')]=new _0x306e73['TextureLoader']()[_0x5a0d('0x13c')](this[_0x5a0d('0xc2')][_0x5a0d('0x269')]);this[_0x5a0d('0x164')]['minFilter']=this['paletteTexture']['magFilter']=_0x306e73[_0x5a0d('0x262')];this[_0x5a0d('0x164')][_0x5a0d('0x275')]=this[_0x5a0d('0xc2')];this['paletteTexture'][_0x5a0d('0x244')]=!![];this[_0x5a0d('0x1cc')]=!![];}get[_0x5a0d('0x9a')](){return this[_0x5a0d('0x238')][_0x5a0d('0x117')];}[_0x5a0d('0x108')](){for(var _0x557a8c=0x0;_0x557a8c<this['_layers'][_0x5a0d('0x117')];++_0x557a8c){this['_layers'][_0x557a8c][_0x5a0d('0x199')]();}}[_0x5a0d('0x1a2')](_0x44c6fe){this[_0x5a0d('0x1cc')]=_0x44c6fe!==this['_settings'][_0x5a0d('0x1a2')];this['_settings'][_0x5a0d('0x1a2')]=_0x44c6fe;}[_0x5a0d('0x16c')](_0x552735){this['_settings'][_0x5a0d('0x16c')]=_0x552735;for(var _0x43670c=0x0;_0x43670c<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x43670c){this['_layers'][_0x43670c][_0x5a0d('0xcc')]();}}['showWireframe'](_0x5aa21){this[_0x5a0d('0x10d')][_0x5a0d('0x2')]=_0x5aa21;for(var _0x1ee321=0x0;_0x1ee321<this[_0x5a0d('0x36')]['length'];++_0x1ee321){this[_0x5a0d('0x36')][_0x1ee321][_0x5a0d('0x291')]();}}[_0x5a0d('0xdb')](){var _0x1d7e15=new Uint8ClampedArray(this[_0x5a0d('0x238')][_0x5a0d('0x117')]*0x1*0x4);for(var _0x146c36=0x0;_0x146c36<this[_0x5a0d('0x238')][_0x5a0d('0x117')];_0x146c36++){var _0x3ecaa0=this[_0x5a0d('0x238')][_0x146c36]>>0x10&0xff;var _0x122990=this['_palette'][_0x146c36]>>0x8&0xff;var _0x56b125=this[_0x5a0d('0x238')][_0x146c36]>>0x0&0xff;var _0x491b0f=_0x146c36*0x4;_0x1d7e15[_0x491b0f]=_0x3ecaa0;_0x1d7e15[_0x491b0f+0x1]=_0x122990;_0x1d7e15[_0x491b0f+0x2]=_0x56b125;_0x1d7e15[_0x491b0f+0x3]=0xff;}var _0x51ec20=document['createElement']('canvas'),_0x445d55=_0x51ec20[_0x5a0d('0x1a7')]('2d');_0x51ec20[_0x5a0d('0x1fc')]=this[_0x5a0d('0x238')][_0x5a0d('0x117')];_0x51ec20['height']=0x1;var _0x16089b=_0x445d55[_0x5a0d('0xd')](_0x51ec20[_0x5a0d('0x1fc')],_0x51ec20['height']);_0x16089b[_0x5a0d('0x12c')][_0x5a0d('0x123')](_0x1d7e15);_0x445d55[_0x5a0d('0xf')](_0x16089b,0x0,0x0);var _0x2eb55e=_0x51ec20[_0x5a0d('0xa5')]();var _0x14626a=new Image();_0x14626a[_0x5a0d('0x269')]=_0x2eb55e;return _0x14626a;}['getBoundingBox'](){var _0x4650d7=new _0x306e73[(_0x5a0d('0xb0'))]();var _0x15680e=!![];if(this[_0x5a0d('0x36')]['length']){for(var _0x4be111=0x0;_0x4be111<this[_0x5a0d('0x36')]['length'];++_0x4be111){if(!this[_0x5a0d('0x36')][_0x4be111][_0x5a0d('0x15e')]){_0x4650d7=_0x15680e?_0x4650d7[_0x5a0d('0x29c')](this['_layers'][_0x4be111][_0x5a0d('0x25e')]):_0x4650d7[_0x5a0d('0x1d1')](this[_0x5a0d('0x36')][_0x4be111][_0x5a0d('0x25e')]);_0x15680e=![];}}}return _0x4650d7;}['showBoundingBox'](_0x5ee525){this[_0x5a0d('0x10d')]['showBoundingBox']=_0x5ee525;for(var _0x11df1a=0x0;_0x11df1a<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0x11df1a){this[_0x5a0d('0x36')][_0x11df1a][_0x5a0d('0x1a')]();}}get[_0x5a0d('0x2ae')](){return this[_0x5a0d('0x10d')][_0x5a0d('0x28d')];}set[_0x5a0d('0x2ae')](_0x3a9e2c){this[_0x5a0d('0x10d')][_0x5a0d('0x28d')]=_0x3a9e2c;if(this['_outlineMaterial']){this[_0x5a0d('0x7b')]['color']=_0x3a9e2c;}}[_0x5a0d('0x8f')](_0x11b2e1){this[_0x5a0d('0x13e')]();this[_0x5a0d('0x18d')]=[];for(var _0x4b7487=0x0;_0x4b7487<_0x11b2e1['length'];++_0x4b7487){var _0x3e233e=_0x11b2e1[_0x4b7487];if(!_0x3e233e){continue;}var _0x1f3367=this[_0x5a0d('0x238')][_0x3e233e['colorIndex']]||0x555555;var _0x6ff689=new _0x306e73['MeshBasicMaterial']({'color':_0x1f3367,'opacity':0.5,'transparent':!![]});var _0x59b2cf=new _0x306e73[(_0x5a0d('0x219'))](_0x2c2537,_0x6ff689);var _0x5b53f8=0.5;_0x59b2cf['position'][_0x5a0d('0x123')](_0x3e233e[_0x5a0d('0xb6')]['x']+_0x5b53f8,_0x3e233e[_0x5a0d('0xb6')]['y']+_0x5b53f8,_0x3e233e[_0x5a0d('0xb6')]['z']+_0x5b53f8);_0x59b2cf['renderOrder']=0x64;this[_0x5a0d('0x1a4')][_0x5a0d('0x12b')](_0x59b2cf);this[_0x5a0d('0x18d')][_0x5a0d('0x11')](_0x59b2cf);}}[_0x5a0d('0x13e')](){if(this['_previewMeshes']){for(var _0x4747e8=0x0;_0x4747e8<this[_0x5a0d('0x18d')][_0x5a0d('0x117')];++_0x4747e8){this[_0x5a0d('0x18d')][_0x4747e8][_0x5a0d('0xa1')][_0x5a0d('0x25d')]();this[_0x5a0d('0x1a4')][_0x5a0d('0x2d')](this[_0x5a0d('0x18d')][_0x4747e8]);}}this[_0x5a0d('0x18d')]=null;}['setVoxel'](_0x13e17a,_0x2d02f6){this[_0x5a0d('0x36')][_0x13e17a]['setVoxel'](_0x2d02f6);}[_0x5a0d('0x17')](_0x54bab0,_0x28ef99,_0x1d65a5,_0xdfc22){this[_0x5a0d('0x36')][_0x54bab0][_0x5a0d('0x17')](_0x28ef99,_0x1d65a5,_0xdfc22);}get[_0x5a0d('0x2af')](){var _0xeb9eee=0x0;for(var _0xaa234c=0x0;_0xaa234c<this[_0x5a0d('0x36')][_0x5a0d('0x117')];++_0xaa234c){_0xeb9eee+=this[_0x5a0d('0x36')][_0xaa234c]['trianglesCount'];}return _0xeb9eee;}get[_0x5a0d('0xfa')](){var _0x3090e4=0x0;for(var _0x1ee867=0x0;_0x1ee867<this[_0x5a0d('0x36')]['length'];++_0x1ee867){_0x3090e4+=this[_0x5a0d('0x36')][_0x1ee867]['voxelsCount'];}return _0x3090e4;}get['stats'](){var _0x195838=this[_0x5a0d('0x2af')];var _0x310365=this['getBoundingBox']();var _0xd0fbf4=new _0x306e73['Vector3']();_0x310365[_0x5a0d('0xee')](_0xd0fbf4);return{'layers':this[_0x5a0d('0x36')][_0x5a0d('0x117')],'voxels':this[_0x5a0d('0xfa')],'triangles':_0x195838,'faces':_0x195838/0x2,'bbox_size':String(_0xd0fbf4['x'])+',\x20'+String(_0xd0fbf4['y'])+',\x20'+String(_0xd0fbf4['z'])};}[_0x5a0d('0xfb')](_0xf27be6){var _0x209386=new _0xfe6626(this);_0x209386[_0x5a0d('0x147')]=this[_0x5a0d('0x147')];for(var _0x4565dc=this[_0x5a0d('0x36')][_0x5a0d('0x117')]-0x1;_0x4565dc>=0x0;--_0x4565dc){if(_0xf27be6&&!this[_0x5a0d('0x36')][_0x4565dc][_0x5a0d('0x85')]){continue;}_0x209386['mergeLayerToSelf'](this[_0x5a0d('0x36')][_0x4565dc]);}_0x209386[_0x5a0d('0xd6')]=!![];return _0x209386;}[_0x5a0d('0x276')](){return this[_0x5a0d('0x36')][0x0][_0x5a0d('0x25e')];}[_0x5a0d('0x8d')](_0x156620){return this[_0x5a0d('0x238')][_0x156620];}[_0x5a0d('0x20b')](_0x2a3161,_0x369f25){if(typeof _0x369f25===_0x5a0d('0x54')){if(_0x369f25[0x0]==='#'){_0x369f25=_0x369f25[_0x5a0d('0x1eb')](0x1);}_0x369f25=parseInt(_0x369f25,0x10);}this[_0x5a0d('0x238')][_0x2a3161]=_0x369f25;this[_0x5a0d('0x19b')]=!![];}['increaseActionId'](){_0xfe6626[_0x5a0d('0x1ac')]++;}get[_0x5a0d('0x1ac')](){return _0xfe6626[_0x5a0d('0x1ac')];}[_0x5a0d('0x144')](_0x1cacad){_0x1cacad['add'](this['container']);}[_0x5a0d('0x2ac')](){if(this[_0x5a0d('0x1a4')][_0x5a0d('0x3b')]){this['container'][_0x5a0d('0x3b')][_0x5a0d('0x2d')](this['container']);}}[_0x5a0d('0x25d')](){this['removeSelf']();this[_0x5a0d('0x19c')]();}}_0x54e346[_0x5a0d('0x61')]=_0x46bc14;},{'../libs':0x11,'./voxel_mesh_layer':0x1d}]},{},[0x10])(0x10);}));