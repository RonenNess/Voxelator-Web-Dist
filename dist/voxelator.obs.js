var _0x3b20=['#showLights','.obj','deleteActiveLayer','serialize','import-cancel-btn','_waitingForClickAfterUI','_removeSelectionPreviews','Import\x20Demo\x20Project','ZYKRO-48','Paint\x20Bucket','generateMipmaps','.vox','settings','_createPaletteElements','selectColorFromPalette','addEventListener','Import\x20Voxelator\x20Built-In\x20Palette','renderer','showAxes','Palette\x20Texture','iterateSelectedOrAllVoxels','updatePaletteTexture','expandByObject','_showBoundingBox','down','addClass','NearestFilter','setVoxel','intersectPosition','rebuildGeometry','vertex','deserialize','updateWireframe','The\x20\x27Import\x27\x20menu\x20allow\x20you\x20to\x20import\x20different\x20things,\x20like\x20image-to-palette\x20(will\x20inject\x20image\x27s\x20colors\x20into\x20your\x20current\x20palette),\x20image-to-voxels\x20(will\x20convert\x20image\x20to\x203d\x20voxels)\x20or\x20embed\x20Voxelator\x20file\x20as\x20a\x20new\x20layer\x20in\x20your\x20mesh.','equals','change','Flip','importDemoProjects','selectToolWithKey','StInput','.color-in-palette','function','split','onchange','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20layer?','exports','Camera\x20Controls','FileSaver','text','./shapes_tool','Stats','append','paletteTexture',':checked','_linesColor','colorIndex','_verticesIndexes','<p>Please\x20select\x20background\x20option\x20below:</p>','./editor_modes','RESURRECT+.png','./transformation_base','<p>Axis\x20to\x20flip:</p><select\x20id=\x22flip-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','EdgesGeometry','iterateEmptyVoxelsGroup','begin','VoxelsMesh','\x22\x20value=\x22#ffffff\x22>','#import-image-axis','load','container','clone','_doBox','unnamed_mesh1','ColladaExporter','./paint_bucket','#trans-rotation-input','iterateSelectedVoxels','pressed','_selectionShow','zIndex','./voxel','files','onSelected','resetCamera','val','importVoxFileFromJson','null','.on-screen-text','Note\x20that\x20Voxelator\x20support\x20two\x20ways\x20to\x20represent\x20Voxels\x20color:\x20by\x20texture,\x20or\x20by\x20encoding\x20per-vertex\x20color\x20property.<br\x20/>Since\x20not\x20all\x20formats\x20support\x20both\x20options,\x20Voxelator\x20will\x20always\x20attempt\x20to\x20write\x20both\x20UVs\x20data\x20and\x20Vertex\x20colors\x20into\x20the\x20exported\x20file.\x20Its\x20up\x20to\x20you\x20to\x20pick\x20a\x20technique\x20by\x20controlling\x20your\x20rendering\x20pipeline,\x20but\x20make\x20sure\x20you\x20don\x27t\x20use\x20both,\x20as\x20this\x20will\x20distort\x20the\x20colors.','clientX','./expand','aria-valuenow','showWireframe','setItem','scene','RESURRECT+','front','mouseenter','backVoxelPosition','#exported-mesh-name','redo','right','__voxelator_third_party_libs__','addLayer','attr','LineSegments','Vertical','updatePaletteUiFromMeshPalette','_boundingBoxMesh','#layers-menu','rotation','onDeselected','showGuidedTour','mousemove','showCameraControls','dm94ZWxhdG9yLmNvbQ==','white','updateStatsText','AmbientLight','<br\x20/><br\x20/><p>Flip\x20/\x20Mirror\x20mode:</p><select\x20id=\x22flip-mode-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Flip\x22\x20selected>Flip</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Mirror\x22>Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Opposite\x20Mirror\x22>Opposite\x20Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','#import-img-modal','moveVoxel','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22soften-only-corners\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22soften-only-corners\x22>Apply\x20just\x20to\x20corners</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_isInUI','error','selectedColorIndex','<p>This\x20transformation\x20will\x20rotate\x20voxels\x20around\x20an\x20axis.</p>','VoxelsPencil','Note\x20this\x20checkbox\x20-\x20when\x20checked,\x20Voxelator\x20will\x20automatically\x20pick\x20the\x20layer\x20of\x20the\x20voxel\x20you\x20currently\x20point\x20on\x20with\x20your\x20cursor.','_exporters','active-layer-row','getRightVector','#rotate-dir-select\x20option:selected','normalize','Soften\x20Edges','ColorDelta','faces','_ambientLight','everything','#view-options-dropdown','./flip','file-opener','createImageData','polygonOffsetUnits','vertices','selectTargetVoxel','disposeLayers','removeVoxel','_settings','voxelPosition','isMovingOrRotatingCamera','aspect','containsPoint','cloneLayer','_lastTime','#expand-smoothly','page_down','back','The\x20bottom\x20text\x20gives\x20useful\x20hints\x20about\x20the\x20tool\x20you\x27re\x20currently\x20using.','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22expand-smoothly\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-smoothly\x22>Expand\x20roundly\x20between\x20different\x20axises</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Grey','download','_doUpdates','PINEAPPLE+.png','__activeLayerIndex','distanceTo','The\x20following\x20guided\x20tour\x20will\x20walk\x20you\x20through\x20the\x20UI\x20of\x20Voxelator.\x20For\x20more\x20info,\x20check\x20out\x20the\x20documentation\x20pages\x20under\x20\x27Help\x27\x20menu.<br\x20/><br\x20/>Ready\x20to\x20begin?','\x22\x20/>','show','importPaletteFile','alert','random','Invalid\x20camera\x20preset\x20key:\x20\x27','stats','onLayersChange','Voxelator\x20-\x20','newMesh','_buildOptimizedMesh','Colors\x20Palette:\x20use\x20it\x20to\x20select\x20voxels\x20colors.<br/>Note:\x20changing\x20a\x20palette\x20color\x20that\x20is\x20already\x20used\x20by\x20existing\x20voxels\x20will\x20recolor\x20these\x20voxels.','getCombinedLayer','toDataURL','binary','clearSelection','DirectionalLight','css','height','fillEmptyVoxels','_createMaterial','fileExtension','faceVertexUvs','All\x20unsaved\x20changes\x20will\x20be\x20lost.\x20Continue?','moveActiveLayerDown','importPredefPalette','expandByPoint','duplicateLayerOfVoxels','.ply','Tree','large','mouseWheel','./editor_mode','mouseDelta','mouse_right','renderOrder','0x282828','mergeLayerToSelf','resize','_axes','#export-layers-type\x20option:selected','image/*','\x20colors\x20were\x20added.','#undo-btn','Black','action_id','locked','fixed','uvsNeedUpdate','min','_lockedUntilClickedOnCanvas','Note:\x20.obj\x20with\x20vertex\x20color\x20is\x20non-standard\x20and\x20not\x20guaranteed\x20to\x20work\x20everywhere.','domain','Box3Helper','./../libs','getTime','pop','#colors-palette','palette.png','parent','dm94ZWxhd','index','mouse_left','result','Vector2','position','_updateRedoBtns','getContext','_camRotationOnPress','width','tree.vox','_redoStack','selectedRegion','loadstart','dom','intersectObjects','The\x20\x27View\x27\x20menu\x20contains\x20Voxelator\x27s\x20display\x20and\x20rendering\x20configurations.<br/>You\x20can\x20change\x20background\x20color,\x20draw\x20geometry\x20faces,\x20enable\x20lightings,\x20ect.\x20None\x20of\x20the\x20options\x20here\x20will\x20actually\x20affect\x20the\x20output\x20file.','version','right_arrow','#mirror-offset-input','normal','removeLayer','<p>Pick\x20a\x20palette\x20import:</p>','-cut','removeClass','opacity','VOXELATOR','appendChild','#import-image-flip','autoSelectLayer','abs','import-btn','_from','Rotate\x20Mesh','./transformations','<img\x20src=\x22img/controls.png\x22\x20style=\x22width:100%;height:auto;\x22>','_onCanvas','PLYExporter','./export_ply','ZYKRO-48.png','#showWireframe','You\x20must\x20select\x20voxels\x20using\x20the\x20selection\x20tool\x20to\x20use\x20this\x20option.','_to','remove','setClearColor','#file-opener','\x22\x20name=\x22voxel-color-','_outlineMaterial','substr','display','linesColor','setPaletteColor','getLeftVector','mouseDown','isDirty','find','getActiveLayerMesh','_doSphere','_camPositionOnPress','setPreviewAddVoxels','<th\x20class=\x22layer-locked\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-lock\x22></i></th>','camera','code','modal','#layers-table','point','Cannot\x20find\x20module\x20\x27','dispose','showOutline','GLTFExporter','#export-mesh-description','To\x20contact\x20me:\x20<a\x20href=\x22mailto:ronenness@gmail.com\x22>ronenness@gmail.com</a>.','#export-options-dropdown','target','../voxels','%\x20read','transparent','prompt','fromCharCode','Box3','./rotate','hostname','MouseButtons','<tr\x20data-index=\x22','_voxelator_layer','Voxelator\x20is\x20a\x20free\x20online\x20voxel\x20editing\x20tool.<br\x20/>Made\x20by\x20<a\x20target=\x22_blank\x22\x20href=\x22http://ronenness.com\x22>Ronen\x20Ness</a>,\x202020.<br\x20/>','_needToGenerateUndo','./export_stl','directionalLight3','magFilter','body','enableUpdates','selectEditorMode','./voxels_pencil','#tool-eraser','manager','#trans-iterations-count-input','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22expand-to-','confirm','sub','indexOf','0xffffff','Shrink','_palette','Both','toString','Select\x20groups\x20of\x20voxels\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection\x20|\x20Arrows\x20to\x20move\x20selection\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Delete\x20to\x20delete\x20voxels\x20at\x20selection','#showBoundingBox','Mesh','SphereGeometry','#import-progress-bar','parse','worldDirection','.active-layer-row','static','src','#tool-translate','_pointOnMarker','updateOutlines','onChange','prop','_outlineMesh','#rotate-around-select\x20option:selected','.layer-visible','_mesh','Lets\x20Go!','data_url','Object3D','setFromCamera','Recolor\x20voxels\x20|\x20LMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20|\x20RMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20only\x20on\x20the\x20plane\x20you\x20clicked\x20on\x20|\x20Shift+LMB\x20fill\x20empty\x20voxels\x20|\x20Shift+RMB\x20duplicate\x20the\x20plane\x20you\x20clicked\x20on','_targetVoxel','getHelpText','removeAllVoxelsOutside','name','0xaecfee','_disposePreviewStuff','./export_gltf','mergeWith','doCameraControls','readAsText','applyTransformation','_lastRedoVersion','updateShowBoundingBox','call','isInUI','#export-color-mode-comment','#flip-around-select\x20option:selected','_modes','removeSelf','children','mode','href','_previewMeshes','Nothing\x20to\x20export,\x20layer\x20is\x20empty.','getBoundingBox','#export-as-vertex-color','keyup','PINEAPPLE+','Eraser\x20Tool','Raycaster','__locked','apply','reset','Vector3','log','showExportModelDialog','default','addScalar','Geometry','_updateWireframeOrOutline','createPaletteTexture','Expand','import-img-preview','putImageData','selectedVoxelPosition','_outlineGeometry','importImageFileAsVoxels','rebuildEverything','<input\x20class=\x22color-in-palette\x22\x20type=\x22color\x22\x20id=\x22voxel-color-','snake.vox','./selection_tool','keys','Scene','constructor','_layers','none','bottom','TextureLoader','Adds\x20or\x20remove\x20voxels\x20|\x20LMB\x20to\x20add\x20voxels\x20|\x20Shift+LMB\x20to\x20set\x20color\x20of\x20existing\x20voxels\x20|\x20RMB\x20to\x20remove\x20voxels\x20|\x20Shift+RMB\x20to\x20copy\x20voxel\x20color\x20|\x20LMB+Alt\x20to\x20push\x20voxels\x20|\x20RMB+Alt\x20to\x20pull\x20voxels','BASIC.png','./exporters_base','#import-img-new-layer','paletteImage','showPalette','_doLine','THREE','anyMouseButtonsDown','inline-block','moveLayerUp','_resetAll','floor','Exporter','update','#transforms-dropdown','0x7db7ed','updateMaterial','texture','_scene','html','geometry','getVoxel','#stats-label','#soften-only-corners','deleteSelectedVoxels','_imageDataToPalette','0x656565','deleteLayer','colors','mergeActiveLayerDown','push','_showOutline','BoxGeometry','text/plain;charset=utf-8','_lastSelected','run','./export_obj','lineColors','released','voxelMesh','mousedown','moveActiveLayerUp','MeshBasicMaterial','placeholder','extensions','hide','trigger','checked','The\x20\x27Camera\x27\x20menu\x20contains\x20options\x20for\x20the\x20viewport\x27s\x20camera,\x20including\x20useful\x20preset\x20camera\x20angles\x20you\x20can\x20jump\x20to\x20(for\x20example,\x20making\x20the\x20camera\x20face\x20the\x20front\x20of\x20the\x20mesh).','Translation\x20Tool','Selection\x20Tool','<br\x20/>','Line','render','object','getElementById','directionalLight1','getSize','amd','top','not-allowed','_exportMeshBase','VOXELATOR.png','createElement','trianglesCount','face','White','color','_isDirty','initUiElement','altDown','./voxel_mesh_layer','Disk','#auto-select-layer-div','\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-to-','_readFileFromUser','moveLayerDown','voxelsCount','updateProjectionMatrix','\x22></td>','WebGLRenderer','drawImage','BoxHelper','exportPalette','enableLighting','WireframeGeometryNoDiagonal','Opposite\x20Mirror','raycaster','endFrame','addTo','Sphere','splic','showPaletteTexture','Color','accept','<p>This\x20transformation\x20will\x20shrink\x20mesh\x20by\x20removing\x20the\x20outter\x20layer\x20of\x20visible\x20voxels.</p>','#showOutline','Smooth\x20Faces','getPaletteColor','computeFlatVertexNormals','_onLayersChange','<td><input\x20class=\x22layer-name\x20layer-name-input\x22\x20maxlength=\x2220\x22\x20type=\x22text\x22\x20name=\x22layer-name\x22\x20value=\x22','FARAWAY48','OBJExporter','stringify','activeLayerIndex','NoColors','disabled','_undoStack','./../voxels/voxel','innerWidth','../libs','removeVoxelsLayer','Invalid\x20file\x20type!','.dae','Cannot\x20delete\x20this\x20layer\x20since\x20its\x20the\x20last\x20remaining\x20layer.','Voxel','The\x20\x27Project\x27\x20menu\x20allow\x20you\x20to\x20rename\x20the\x20project,\x20load\x20from\x20file,\x20save\x20it,\x20or\x20create\x20a\x20new\x20empty\x20project.','left','updateMaterials','voxelator.vox','#help-text-label','up_arrow','innerHeight','#shapes-select-div','moveVoxels','mouseleave','length','canvas','Target\x20Voxel:\x20','_grid','cursor','color-','down_arrow','round','Mirror','colorsComment','add','readAsDataURL','End\x20finally,\x20the\x20\x27Help\x27\x20menu\x20contains\x20link\x20to\x20the\x20documentation\x20pages,\x20info\x20about\x20the\x20software,\x20and\x20this\x20guided\x20tour!<br/>Hope\x20you\x20find\x20this\x20tour\x20useful\x20and\x20have\x20fun\x20using\x20Voxelator\x20:)','minFilter','Not\x20Implemented','paletteSize','input','visible','directionalLight2','_lastUndoMove','preview.html','mouseLeaveUI','shiftDown','voxelator_preview_texture','Voxels\x20Pencil','options','exportModel','#import-options-dropdown','black','setSelection','visibleSidesCount','_voxels','_enableLighting','voxels','setSize','normalizedMousePos','#tools-menu','AxesHelper','_paletteDirty','voxelator_use_texture','isUiFocused','\x22\x20style=\x22cursor:pointer\x22\x20id=\x22layer-','Exit\x20Tour','initialize','New\x20Layer','_points','end','_materialsDirty','active_layer','showBoundingBox','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','controls','string','mousePressed','SNES.png','iterateVoxelsGroup','visibleFaces','data','<p>This\x20transformation\x20will\x20make\x20corners\x20/\x20edges\x20softer\x20by\x20removing\x20the\x20sharp\x20edges\x20voxels.</p>','max','elato','image','For\x20example,\x20if\x20you\x20build\x20a\x20tree\x20you\x20can\x20put\x20all\x20the\x20leaves\x20on\x20a\x20separated\x20layer,\x20and\x20hide\x20them\x20while\x20you\x20edit\x20the\x20bark.<br/>Note\x20that\x20when\x20you\x20export\x20your\x20model\x20all\x20layers\x20are\x20merged\x20into\x20one,\x20unless\x20you\x20choose\x20to\x20only\x20export\x20some\x20of\x20them.','File\x20reading\x20started','BASIC','Not\x20Implemented!','onMeshRename','\x22>Expand\x20','Draw\x20predefined\x20shapes\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20create\x20selected\x20shape\x20|\x20Shift+LMB\x20remove\x20voxels\x20in\x20shape\x27s\x20region','And\x20this\x20text\x20gives\x20useful\x20info\x20about\x20your\x20mesh\x20size\x20and\x20faces\x20count.<br/>Note:\x20when\x20exporting\x20the\x20mesh\x20some\x20extra\x20optimizations\x20are\x20applied,\x20so\x20the\x20exported\x20file\x20is\x20usually\x20much\x20more\x20efficient.','button','onclick','_selectedMode','#redo-btn','title','undefined','undo','.stl','clearVoxels','You\x20can\x20export\x20your\x20mesh\x20to\x20many\x20standard\x203d\x20formats.\x20When\x20exported,\x20the\x20geometry\x20will\x20no\x20longer\x20be\x20voxels-based\x20and\x20be\x20optimized\x20to\x20use\x20less\x20faces\x20and\x20less\x20vertices.','.layer-name','Light\x20Blue\x20[default]','lookAt','targetVoxelPosition','domElement','style','<p>Rotate\x20around\x20axis:</p><select\x20id=\x22rotate-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','./manager','palettes/','_geometry','layers','renameMesh','progress','Voxelator','loadProjectFromFile','saveProjectToFile','demos/','_createMeshFromGeometry','Clockwise','#export-save-binary-div','getImageData','Error\x20:\x20Failed\x20to\x20read\x20file','</tr>','__selectedColorIndex','#expand-to-','delete','<p>This\x20transformation\x20will\x20remove\x20lonely\x20voxels\x20to\x20make\x20surfaces\x20smoother.</p>','./shrink','getCenter','middle','has','activeLayer','Face3','set','.layer-locked','left_arrow','#continous-paint','_timeLeftUI','lerp','material','recolorVoxels','clientY','#continous-paint-div','scale','#voxel-color-','multiplyScalar','#import-img-depth','ctrlDown','radio','click','Horizontal','location','get','_resetControls','setFromObject','_showWireframe','<p>Rotate\x20direction:</p><select\x20id=\x22rotate-dir-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Clockwise\x22\x20selected>Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Counter-Clockwise\x22>Counter-Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','canShowPreview','splice','The\x20\x27Edit\x27\x20menu\x20contains\x20different\x20transformations\x20and\x20effects\x20you\x20can\x20apply\x20on\x20your\x20mesh.\x20It\x20also\x20contains\x20the\x20undo\x20and\x20redo\x20buttons.\x20Transformations\x20either\x20affect\x20the\x20whole\x20layer,\x20or\x20currently\x20selected\x20region\x20if\x20you\x20have\x20one.','presetCamera','rebuildIfDirty','voxelator_model_type','selected-color','_pushVoxelToMesh'];(function(_0x5c74a7,_0x2c606d){var _0x495cec=function(_0x5aed43){while(--_0x5aed43){_0x5c74a7['push'](_0x5c74a7['shift']());}};_0x495cec(++_0x2c606d);}(_0x3b20,0x128));var _0x1122=function(_0x5c74a7,_0x2c606d){_0x5c74a7=_0x5c74a7-0x0;var _0x495cec=_0x3b20[_0x5c74a7];return _0x495cec;};(function(_0x4a517a){if(typeof exports===_0x1122('0xae')&&typeof module!=='undefined'){module[_0x1122('0x1b5')]=_0x4a517a();}else if(typeof define===_0x1122('0x1b1')&&define[_0x1122('0xb2')]){define([],_0x4a517a);}else{var _0x5b99f8;if(typeof window!=='undefined'){_0x5b99f8=window;}else if(typeof global!==_0x1122('0x142')){_0x5b99f8=global;}else if(typeof self!==_0x1122('0x142')){_0x5b99f8=self;}else{_0x5b99f8=this;}_0x5b99f8['Voxelator']=_0x4a517a();}}(function(){var _0x49b2f9,_0x10f5e1,_0x481258;return function(){function _0x468efd(_0x4279ce,_0xe50ac5,_0x66564b){function _0x3520c5(_0x3bc4ba,_0x52d8f0){if(!_0xe50ac5[_0x3bc4ba]){if(!_0x4279ce[_0x3bc4ba]){var _0x54d449=_0x1122('0x1b1')==typeof require&&require;if(!_0x52d8f0&&_0x54d449)return _0x54d449(_0x3bc4ba,!0x0);if(_0x54d555)return _0x54d555(_0x3bc4ba,!0x0);var _0x458479=new Error(_0x1122('0x2ad')+_0x3bc4ba+'\x27');throw _0x458479[_0x1122('0x2a9')]='MODULE_NOT_FOUND',_0x458479;}var _0x421c32=_0xe50ac5[_0x3bc4ba]={'exports':{}};_0x4279ce[_0x3bc4ba][0x0][_0x1122('0x4a')](_0x421c32[_0x1122('0x1b5')],function(_0x4f2e74){var _0x3daef1=_0x4279ce[_0x3bc4ba][0x1][_0x4f2e74];return _0x3520c5(_0x3daef1||_0x4f2e74);},_0x421c32,_0x421c32[_0x1122('0x1b5')],_0x468efd,_0x4279ce,_0xe50ac5,_0x66564b);}return _0xe50ac5[_0x3bc4ba][_0x1122('0x1b5')];}for(var _0x54d555='function'==typeof require&&require,_0x218f58=0x0;_0x218f58<_0x66564b['length'];_0x218f58++)_0x3520c5(_0x66564b[_0x218f58]);return _0x3520c5;}return _0x468efd;}()({1:[function(_0xe60a82,_0x408c26,_0x164cc6){class _0x47ee01{[_0x1122('0x122')](_0x4d10d9){}[_0x1122('0x85')](_0x56feee,_0x55545a){}[_0x1122('0x1da')](_0x52f19a){}['onDeselected'](_0x488af7){}[_0x1122('0x3e')](){throw new Error(_0x1122('0x138'));}get[_0x1122('0x7c')](){return!![];}get[_0x1122('0x40')](){throw new Error(_0x1122('0x138'));}}_0x408c26[_0x1122('0x1b5')]=_0x47ee01;},{}],2:[function(_0x5404cb,_0x240922,_0x507dd2){const _0xdfc09=_0x5404cb(_0x1122('0x24f'));const _0xe6fe7e=_0x5404cb('../voxels');const _0x218412=_0x5404cb(_0x1122('0xe7'));const _0x3e2a0f=_0x218412[_0x1122('0x7e')];class _0x27055d extends _0xdfc09{[_0x1122('0x122')](_0x4acaa9){const _0x2ee228=new _0x3e2a0f['SphereGeometry'](0.2,0x5,0x5);var _0xeb0ee2=0xff0000;var _0x46f928=new _0x3e2a0f['MeshBasicMaterial']({'color':_0xeb0ee2,'opacity':0.65,'transparent':!![]});var _0x3ac213=new _0x3e2a0f[(_0x1122('0x27'))](_0x2ee228,_0x46f928);_0x3ac213[_0x1122('0x252')]=0x64;_0x4acaa9['scene'][_0x1122('0x101')](_0x3ac213);this[_0x1122('0x30')]=_0x3ac213;this[_0x1122('0x30')][_0x1122('0x108')]=![];}[_0x1122('0x18e')](_0x12b9bd){this[_0x1122('0x30')]['visible']=![];}[_0x1122('0x85')](_0xbde51d,_0x1adc26){var _0x448249=_0xbde51d[_0x1122('0x166')];if(_0xbde51d[_0x1122('0x21e')]){this['_removeSelectionPreviews'](_0xbde51d);this[_0x1122('0x9a')]=null;return;}var _0x2646f6=_0xbde51d['selectTargetVoxel']();this[_0x1122('0x9a')]=_0x2646f6;if(!_0x2646f6){this[_0x1122('0x18e')](_0xbde51d);return;}this[_0x1122('0x30')]['position'][_0x1122('0x168')](_0x2646f6[_0x1122('0x1a4')]['x'],_0x2646f6[_0x1122('0x1a4')]['y'],_0x2646f6[_0x1122('0x1a4')]['z']);this[_0x1122('0x30')][_0x1122('0x108')]=!![];if(_0xbde51d[_0x1122('0x107')][_0x1122('0x10d')]){if(_0xbde51d['input'][_0x1122('0x9e')]('mouse_left')){_0x448249[_0x1122('0xe8')](_0x2646f6[_0x1122('0x69')],_0x2646f6[_0x1122('0x27f')],![],_0xbde51d[_0x1122('0x277')]);}if(_0xbde51d[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x251'))){_0x448249[_0x1122('0xe8')](_0x2646f6[_0x1122('0x69')],_0x2646f6[_0x1122('0x27f')],!![],_0xbde51d['selectedRegion']);}}else{if(_0xbde51d[_0x1122('0x107')][_0x1122('0x9e')]('mouse_left')){_0x448249['removeVoxel'](_0x2646f6[_0x1122('0x69')]);}if(_0xbde51d['input']['down']('mouse_right')){_0x448249[_0x1122('0x21b')](_0x2646f6[_0x1122('0x69')]);}}}get[_0x1122('0x7c')](){return![];}[_0x1122('0x1da')](_0xd5735a){}[_0x1122('0x1f7')](_0x1c8d62){this[_0x1122('0x18e')](_0x1c8d62);}[_0x1122('0x3e')](){return'Remove\x20voxels\x20|\x20LMB\x20to\x20remove\x20a\x20single\x20voxel\x20|\x20RMB\x20to\x20remove\x20voxels\x20while\x20button\x20is\x20down\x20|\x20Shift+LMB\x20to\x20remove\x20layer\x20of\x20voxels\x20|\x20Shift+RMB\x20to\x20remove\x20layer\x20of\x20voxels\x20of\x20the\x20same\x20color';}get[_0x1122('0x40')](){return _0x1122('0x59');}}_0x240922[_0x1122('0x1b5')]=_0x27055d;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],3:[function(_0x4bffb1,_0x4925b7,_0x296dbd){_0x4925b7['exports']={'VoxelsPencil':_0x4bffb1(_0x1122('0x18')),'SelectionTool':_0x4bffb1(_0x1122('0x6f')),'TranslationTool':_0x4bffb1('./translation_tool'),'EraserTool':_0x4bffb1('./eraser_tool'),'PaintBucket':_0x4bffb1(_0x1122('0x1d2')),'ShapesTool':_0x4bffb1(_0x1122('0x1b9'))};},{'./eraser_tool':0x2,'./paint_bucket':0x4,'./selection_tool':0x5,'./shapes_tool':0x6,'./translation_tool':0x7,'./voxels_pencil':0x8}],4:[function(_0x463ece,_0x2d891f,_0x399dca){const _0x5c3581=_0x463ece(_0x1122('0x24f'));const _0xed09b8=_0x463ece(_0x1122('0x5'));const _0x2e08a7=_0x463ece(_0x1122('0xe7'));const _0x513877=_0x2e08a7[_0x1122('0x7e')];class _0x38f29a extends _0x5c3581{[_0x1122('0x122')](_0x3c84b0){const _0x1156b2=new _0x513877[(_0x1122('0x28'))](0.2,0x5,0x5);var _0x4bbb4d=0xff0000;var _0x125cfd=new _0x513877['MeshBasicMaterial']({'color':_0x4bbb4d,'opacity':0.65,'transparent':!![]});var _0x29af4b=new _0x513877[(_0x1122('0x27'))](_0x1156b2,_0x125cfd);_0x29af4b[_0x1122('0x252')]=0x64;_0x3c84b0[_0x1122('0x1e6')]['add'](_0x29af4b);this[_0x1122('0x30')]=_0x29af4b;this[_0x1122('0x30')][_0x1122('0x108')]=![];}[_0x1122('0x18e')](_0x5acc2e){this[_0x1122('0x30')][_0x1122('0x108')]=![];}['update'](_0x433b0c,_0x714f2d){var _0x20e60d=_0x433b0c[_0x1122('0x166')];if(_0x433b0c[_0x1122('0x21e')]){this['_removeSelectionPreviews'](_0x433b0c);this[_0x1122('0x9a')]=null;return;}var _0x424efe=_0x433b0c['selectTargetVoxel'](_0x433b0c['input']['shiftDown']);this['_lastSelected']=_0x424efe;if(!_0x424efe){this['_removeSelectionPreviews'](_0x433b0c);return;}this[_0x1122('0x30')][_0x1122('0x270')][_0x1122('0x168')](_0x424efe[_0x1122('0x1a4')]['x'],_0x424efe['intersectPosition']['y'],_0x424efe[_0x1122('0x1a4')]['z']);this[_0x1122('0x30')][_0x1122('0x108')]=!![];if(_0x433b0c['input']['released'](_0x1122('0x26d'))){if(_0x433b0c[_0x1122('0x107')][_0x1122('0x10d')]){_0x20e60d[_0x1122('0x242')](_0x424efe['targetVoxelPosition'],_0x424efe['normal'],_0x433b0c[_0x1122('0x277')],_0x433b0c[_0x1122('0x205')]);}else{_0x20e60d['recolorVoxels'](_0x424efe['selectedVoxelPosition'],new _0x513877[(_0x1122('0x5e'))](0x0,0x0,0x0),!![],_0x433b0c[_0x1122('0x277')],_0x433b0c[_0x1122('0x205')]);}}if(_0x433b0c[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x251'))){if(_0x433b0c[_0x1122('0x107')]['shiftDown']){_0x20e60d[_0x1122('0x24a')](_0x424efe[_0x1122('0x69')],_0x424efe[_0x1122('0x27f')],_0x433b0c['selectedRegion']);}else{_0x20e60d[_0x1122('0x16f')](_0x424efe[_0x1122('0x69')],_0x424efe[_0x1122('0x27f')],!![],_0x433b0c['selectedRegion'],_0x433b0c[_0x1122('0x205')]);}}}get[_0x1122('0x7c')](){return!![];}['onSelected'](_0x51ea2e){}[_0x1122('0x1f7')](_0x2a0067){this[_0x1122('0x18e')](_0x2a0067);}['getHelpText'](){return _0x1122('0x3c');}get['name'](){return _0x1122('0x191');}}_0x2d891f[_0x1122('0x1b5')]=_0x38f29a;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],5:[function(_0x1c303f,_0x1b9f57,_0x2c5931){const _0x31b31e=_0x1c303f(_0x1122('0x24f'));const _0x4439ed=_0x1c303f(_0x1122('0x5'));const _0x458514=_0x1c303f('../libs');const _0x630e2d=_0x458514[_0x1122('0x7e')];class _0x5bbaa0 extends _0x31b31e{[_0x1122('0x122')](_0x21c86b){this[_0x1122('0x124')]=[];}[_0x1122('0x85')](_0x36fb95,_0x926b71){var _0x29b948=_0x36fb95[_0x1122('0x219')](!![],!![]);var _0x571272=_0x29b948?_0x29b948[_0x1122('0x69')]||_0x29b948[_0x1122('0x14a')]:null;if(location[_0x1122('0x52')][_0x1122('0x1f')](atob(_0x1122('0x1fb')))<0x0){_0x36fb95[_0x1122('0x107')]['down']=null;}if(_0x36fb95[_0x1122('0x107')]['released'](_0x1122('0x251'))){this[_0x1122('0x124')]=[];}if(_0x36fb95[_0x1122('0x107')]['pressed'](_0x1122('0x26d'))){if(_0x36fb95[_0x1122('0x107')][_0x1122('0x10d')]&&_0x571272){this[_0x1122('0x124')][_0x1122('0x96')](_0x571272);}else{this[_0x1122('0x124')]=_0x571272?[_0x571272,_0x571272]:[];}}var _0x288270=_0x53acd3=>{_0x53acd3['y']=0x0;_0x53acd3['x']=Math['round'](_0x53acd3['x']);_0x53acd3['z']=Math[_0x1122('0xfe')](_0x53acd3['z']);if(_0x53acd3['x']==0x0&&_0x53acd3['z']==0x0){_0x53acd3['x']=Math[_0x1122('0xfe')](_0x53acd3['x']*1.5);}return _0x53acd3;};var _0x801e35=_0x288270(_0x36fb95['controls'][_0x1122('0x29f')]());var _0x54bff9=_0x288270(_0x36fb95[_0x1122('0x12a')][_0x1122('0x20b')]());var _0x440187=_0x288270(_0x36fb95[_0x1122('0x12a')]['worldDirection']);var _0x5624d8=_0x440187[_0x1122('0x1ce')]()['multiplyScalar'](-0x1);if(_0x36fb95[_0x1122('0x107')][_0x1122('0x1d5')](_0x1122('0x27d'))){for(var _0x206d7d=0x0;_0x206d7d<this[_0x1122('0x124')][_0x1122('0xf7')];++_0x206d7d){this[_0x1122('0x124')][_0x206d7d][_0x1122('0x101')](_0x54bff9);}}if(_0x36fb95[_0x1122('0x107')]['pressed'](_0x1122('0x16a'))){for(var _0x206d7d=0x0;_0x206d7d<this[_0x1122('0x124')]['length'];++_0x206d7d){this[_0x1122('0x124')][_0x206d7d][_0x1122('0x101')](_0x801e35);}}if(_0x36fb95['input'][_0x1122('0x10d')]){if(_0x36fb95['input']['pressed'](_0x1122('0xf2'))){for(var _0x206d7d=0x0;_0x206d7d<this['_points']['length'];++_0x206d7d){this[_0x1122('0x124')][_0x206d7d]['y']++;}}if(_0x36fb95['input'][_0x1122('0x1d5')](_0x1122('0xfd'))){for(var _0x206d7d=0x0;_0x206d7d<this[_0x1122('0x124')][_0x1122('0xf7')];++_0x206d7d){this[_0x1122('0x124')][_0x206d7d]['y']--;}}}else{if(_0x36fb95['input'][_0x1122('0x1d5')](_0x1122('0xf2'))){for(var _0x206d7d=0x0;_0x206d7d<this[_0x1122('0x124')][_0x1122('0xf7')];++_0x206d7d){this['_points'][_0x206d7d][_0x1122('0x101')](_0x440187);}}if(_0x36fb95[_0x1122('0x107')][_0x1122('0x1d5')](_0x1122('0xfd'))){for(var _0x206d7d=0x0;_0x206d7d<this[_0x1122('0x124')][_0x1122('0xf7')];++_0x206d7d){this['_points'][_0x206d7d][_0x1122('0x101')](_0x5624d8);}}}if(_0x36fb95[_0x1122('0x107')]['released'](_0x1122('0x160'))){_0x36fb95[_0x1122('0x90')]();}if(_0x36fb95['input'][_0x1122('0x1a0')]('mouse_left')&&_0x571272){this[_0x1122('0x124')][this[_0x1122('0x124')][_0x1122('0xf7')]-0x1]=_0x571272;}if(this[_0x1122('0x124')][_0x1122('0xf7')]){_0x36fb95[_0x1122('0x114')](this['_points']);}else{_0x36fb95[_0x1122('0x23e')]();}}get[_0x1122('0x7c')](){return![];}[_0x1122('0x1da')](_0x115266){}['onDeselected'](_0x537f51){}[_0x1122('0x3e')](){return _0x1122('0x25');}get[_0x1122('0x40')](){return'Selection\x20Tool';}}_0x1b9f57[_0x1122('0x1b5')]=_0x5bbaa0;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],6:[function(_0x50f076,_0x55bf65,_0x4b4cbb){const _0xe89803=_0x50f076(_0x1122('0x24f'));const _0x358f01=_0x50f076('../voxels');const _0x262b45=_0x50f076('../libs');const _0x5ad1e9=_0x262b45[_0x1122('0x7e')];class _0x23cd08 extends _0xe89803{['initialize'](_0x51c117){this['_points']=[];}['update'](_0x2e4c9b,_0x788246){var _0x5840ac=_0x2e4c9b[_0x1122('0x219')](!![],!![],!![]);var _0x4a1a93=_0x5840ac?_0x5840ac[_0x1122('0x14a')]||_0x5840ac['selectedVoxelPosition']:null;if(_0x2e4c9b[_0x1122('0x107')][_0x1122('0x1d5')]('mouse_left')){this['_from']=_0x4a1a93;}else if(_0x2e4c9b['input']['down'](_0x1122('0x26d'))){this[_0x1122('0x295')]=_0x4a1a93;}if(_0x2e4c9b[_0x1122('0x107')]['down'](_0x1122('0x251'))){this[_0x1122('0x28b')]=this[_0x1122('0x295')]=null;_0x2e4c9b[_0x1122('0x9f')]['setPreviewAddVoxels']([]);}if(this[_0x1122('0x28b')]&&this['_to']){var _0x2376f1=$('#shapes-select\x20option:selected')[_0x1122('0x1b8')]();var _0x51e737=[];switch(_0x2376f1){case _0x1122('0xac'):_0x51e737=this[_0x1122('0x7d')](_0x2e4c9b);break;case'Box':_0x51e737=this[_0x1122('0x1cf')](_0x2e4c9b);break;case _0x1122('0xd2'):_0x51e737=this[_0x1122('0x2a4')](_0x2e4c9b);break;}}if(_0x2e4c9b[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x26d'))&&_0x51e737){for(var _0x1b85cb=0x0;_0x1b85cb<_0x51e737[_0x1122('0xf7')];++_0x1b85cb){if(_0x2e4c9b[_0x1122('0x107')][_0x1122('0x10d')]){_0x2e4c9b[_0x1122('0x166')][_0x1122('0x21b')](_0x51e737[_0x1b85cb][_0x1122('0x270')]);}else{_0x2e4c9b[_0x1122('0x166')]['setVoxel'](_0x51e737[_0x1b85cb]);}}}if(!_0x2e4c9b[_0x1122('0x107')][_0x1122('0x1a0')]('mouse_left')){this[_0x1122('0x28b')]=this['_to']=null;_0x2e4c9b['voxelMesh']['setPreviewAddVoxels']([]);}else{_0x2e4c9b[_0x1122('0x9f')][_0x1122('0x2a6')](_0x51e737||[]);}}[_0x1122('0x1cf')](_0x5aa30f){var _0x7ff921=new _0x5ad1e9[(_0x1122('0xa'))]();_0x7ff921['expandByPoint'](this['_from']);_0x7ff921[_0x1122('0x249')](this[_0x1122('0x295')]);var _0x5af885=[];for(var _0x410686=_0x7ff921[_0x1122('0x260')]['x'];_0x410686<=_0x7ff921[_0x1122('0x132')]['x'];++_0x410686){for(var _0x5d94cd=_0x7ff921[_0x1122('0x260')]['y'];_0x5d94cd<=_0x7ff921[_0x1122('0x132')]['y'];++_0x5d94cd){for(var _0x15cb7a=_0x7ff921[_0x1122('0x260')]['z'];_0x15cb7a<=_0x7ff921['max']['z'];++_0x15cb7a){_0x5af885['push'](new _0x358f01[(_0x1122('0xec'))](new _0x5ad1e9[(_0x1122('0x5e'))](_0x410686,_0x5d94cd,_0x15cb7a),_0x5aa30f['selectedColorIndex']));}}}return _0x5af885;}[_0x1122('0x2a4')](_0x320079){var _0x8f271d=new _0x5ad1e9[(_0x1122('0xa'))]();_0x8f271d[_0x1122('0x249')](this[_0x1122('0x28b')]);_0x8f271d['expandByPoint'](this['_to']);var _0x4d88b2=_0x8f271d['getCenter']();var _0x3e0dff=Math['max'](Math['max']((_0x8f271d[_0x1122('0x132')]['x']-_0x8f271d[_0x1122('0x260')]['x'])/0x2,(_0x8f271d['max']['y']-_0x8f271d[_0x1122('0x260')]['y'])/0x2),(_0x8f271d[_0x1122('0x132')]['z']-_0x8f271d[_0x1122('0x260')]['z'])/0x2);var _0x409087=[];for(var _0x36292d=_0x8f271d[_0x1122('0x260')]['x'];_0x36292d<=_0x8f271d[_0x1122('0x132')]['x'];++_0x36292d){for(var _0xa7d379=_0x8f271d[_0x1122('0x260')]['y'];_0xa7d379<=_0x8f271d['max']['y'];++_0xa7d379){for(var _0xd92f79=_0x8f271d['min']['z'];_0xd92f79<=_0x8f271d['max']['z'];++_0xd92f79){var _0x11ebd4=new _0x5ad1e9['Vector3'](_0x36292d,_0xa7d379,_0xd92f79);if(_0x11ebd4[_0x1122('0x22d')](_0x4d88b2)<=_0x3e0dff){_0x409087['push'](new _0x358f01[(_0x1122('0xec'))](_0x11ebd4,_0x320079[_0x1122('0x205')]));}}}}return _0x409087;}[_0x1122('0x7d')](_0x2c7e66){var _0x8c43c3=function(_0x20f92b,_0x305ca2){var _0xcf38f7=0x0;var _0x35286b='';if(_0x20f92b[_0x1122('0x270')]['x']==_0x305ca2[_0x1122('0x270')]['x']){_0xcf38f7++;_0x35286b+='x';}if(_0x20f92b[_0x1122('0x270')]['y']==_0x305ca2[_0x1122('0x270')]['y']){_0xcf38f7++;_0x35286b+='y';}if(_0x20f92b[_0x1122('0x270')]['z']==_0x305ca2[_0x1122('0x270')]['z']){_0xcf38f7++;_0x35286b+='z';}return _0xcf38f7>0x1?_0x35286b:null;};var _0x38b178=[];var _0x477d35=this['_from'][_0x1122('0x1ce')]();var _0x334559=this[_0x1122('0x28b')]['clone']();var _0x570b76=null;var _0x465e93=this[_0x1122('0x295')][_0x1122('0x1ce')]()['sub'](this[_0x1122('0x28b')])[_0x1122('0x20d')]()[_0x1122('0x174')](0.5);while(!_0x334559[_0x1122('0x1aa')](this['_to'])){var _0x334559=new _0x5ad1e9[(_0x1122('0x5e'))](Math['round'](_0x477d35['x']),Math[_0x1122('0xfe')](_0x477d35['y']),Math[_0x1122('0xfe')](_0x477d35['z']));_0x477d35['add'](_0x465e93);if(!_0x570b76||!_0x570b76[_0x1122('0x1aa')](_0x334559)){_0x38b178[_0x1122('0x96')](new _0x358f01['Voxel'](_0x334559,_0x2c7e66[_0x1122('0x205')]));}_0x570b76=_0x334559;}for(var _0x301b11=_0x38b178[_0x1122('0xf7')]-0x2;_0x301b11>0x0;--_0x301b11){var _0x477d35=_0x38b178[_0x301b11];var _0x4f46a0=_0x38b178[_0x301b11-0x1];var _0x49a526=_0x38b178[_0x301b11+0x1];var _0x4a0e02=_0x8c43c3(_0x4f46a0,_0x477d35);var _0x3dba84=_0x8c43c3(_0x477d35,_0x49a526);if(_0x4a0e02&&_0x3dba84&&_0x4a0e02!=_0x3dba84){_0x38b178['splice'](_0x301b11,0x1);}}return _0x38b178;}get[_0x1122('0x7c')](){return!![];}[_0x1122('0x1da')](_0x89cd43){$(_0x1122('0xf4'))['show']();this['_points']=[];}[_0x1122('0x1f7')](_0x4306e5){$('#shapes-select-div')[_0x1122('0xa5')]();}[_0x1122('0x3e')](){return _0x1122('0x13b');}get[_0x1122('0x40')](){return _0x1122('0xaa');}}_0x55bf65[_0x1122('0x1b5')]=_0x23cd08;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],7:[function(_0x5d586f,_0x7acff2,_0x225342){const _0x1adbe8=_0x5d586f('./editor_mode');const _0x3eeda4=_0x5d586f(_0x1122('0x5'));const _0x213c68=_0x5d586f(_0x1122('0xe7'));const _0x1330ca=_0x213c68[_0x1122('0x7e')];class _0x93999 extends _0x1adbe8{[_0x1122('0x122')](_0x51081a){this[_0x1122('0x124')]=[];}[_0x1122('0x85')](_0x283c2a,_0x1b07b1){var _0x2ed2e9=_0x283c2a[_0x1122('0x219')](!![],!![]);var _0x4f1b72=_0x2ed2e9?_0x2ed2e9[_0x1122('0x69')]||_0x2ed2e9[_0x1122('0x14a')]:null;if(_0x283c2a[_0x1122('0x107')]['released'](_0x1122('0x251'))){this['_points']=[];}if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1d5')]('mouse_left')){if(_0x283c2a['input']['shiftDown']&&_0x4f1b72){this['_points'][_0x1122('0x96')](_0x4f1b72);}else{this[_0x1122('0x124')]=_0x4f1b72?[_0x4f1b72,_0x4f1b72]:[];}}var _0x404360=_0x469ffc=>{_0x469ffc['y']=0x0;_0x469ffc['x']=Math[_0x1122('0xfe')](_0x469ffc['x']);_0x469ffc['z']=Math[_0x1122('0xfe')](_0x469ffc['z']);if(_0x469ffc['x']==0x0&&_0x469ffc['z']==0x0){_0x469ffc['x']=Math[_0x1122('0xfe')](_0x469ffc['x']*1.5);}return _0x469ffc;};var _0x697246=_0x404360(_0x283c2a[_0x1122('0x12a')][_0x1122('0x29f')]());var _0x508825=_0x404360(_0x283c2a[_0x1122('0x12a')]['getRightVector']());var _0x4f86db=_0x404360(_0x283c2a[_0x1122('0x12a')][_0x1122('0x2b')]);var _0x378cf0=_0x4f86db[_0x1122('0x1ce')]()[_0x1122('0x174')](-0x1);var _0x1f6db6=_0x3d1d28=>{for(var _0x3f62ca=0x0;_0x3f62ca<this[_0x1122('0x124')][_0x1122('0xf7')];++_0x3f62ca){this['_points'][_0x3f62ca][_0x1122('0x101')](_0x3d1d28);}};if(_0x283c2a['input']['pressed'](_0x1122('0x27d'))){_0x283c2a[_0x1122('0x166')][_0x1122('0xf5')](_0x283c2a['selectedRegion'],_0x508825);_0x1f6db6(_0x508825);}else if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1d5')](_0x1122('0x16a'))){_0x283c2a[_0x1122('0x166')]['moveVoxels'](_0x283c2a[_0x1122('0x277')],_0x697246);_0x1f6db6(_0x697246);}if(_0x283c2a[_0x1122('0x107')][_0x1122('0x10d')]){if(_0x283c2a[_0x1122('0x107')]['pressed'](_0x1122('0xf2'))){var _0x246492=new _0x1330ca[(_0x1122('0x5e'))](0x0,0x1,0x0);_0x283c2a[_0x1122('0x166')]['moveVoxels'](_0x283c2a['selectedRegion'],_0x246492);_0x1f6db6(_0x246492);}else if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1d5')](_0x1122('0xfd'))){var _0x4b5cd6=new _0x1330ca[(_0x1122('0x5e'))](0x0,-0x1,0x0);_0x283c2a[_0x1122('0x166')][_0x1122('0xf5')](_0x283c2a[_0x1122('0x277')],_0x4b5cd6);_0x1f6db6(_0x4b5cd6);}}else{if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1d5')]('up_arrow')){_0x283c2a[_0x1122('0x166')][_0x1122('0xf5')](_0x283c2a[_0x1122('0x277')],_0x4f86db);_0x1f6db6(_0x4f86db);}else if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1d5')]('down_arrow')){_0x283c2a[_0x1122('0x166')]['moveVoxels'](_0x283c2a['selectedRegion'],_0x378cf0);_0x1f6db6(_0x378cf0);}}if(_0x283c2a[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x160'))){_0x283c2a[_0x1122('0x90')]();}if(_0x283c2a[_0x1122('0x107')][_0x1122('0x1a0')]('mouse_left')&&_0x4f1b72){this[_0x1122('0x124')][this['_points']['length']-0x1]=_0x4f1b72;}if(this[_0x1122('0x124')][_0x1122('0xf7')]){_0x283c2a[_0x1122('0x114')](this[_0x1122('0x124')]);}else{_0x283c2a[_0x1122('0x23e')]();}}get['showPalette'](){return![];}['onSelected'](_0x30f1d9){if(_0x30f1d9[_0x1122('0x277')]){this[_0x1122('0x124')]=[_0x30f1d9[_0x1122('0x277')][_0x1122('0x260')][_0x1122('0x1ce')](),_0x30f1d9['selectedRegion'][_0x1122('0x132')][_0x1122('0x1ce')]()];}else{this[_0x1122('0x124')]=[];}}[_0x1122('0x1f7')](_0x4bae0c){}[_0x1122('0x3e')](){return'Move\x20selected\x20voxels\x20|\x20Arrows\x20to\x20move\x20voxels\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection';}get[_0x1122('0x40')](){return _0x1122('0xa9');}}_0x7acff2['exports']=_0x93999;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],8:[function(_0x1d720,_0x5e6466,_0x99fa52){const _0x333857=_0x1d720(_0x1122('0x24f'));const _0x5de66c=_0x1d720(_0x1122('0x5'));const _0x4d2b95=_0x1d720(_0x1122('0xe7'));const _0x4ed9a5=_0x4d2b95[_0x1122('0x7e')];class _0x76e7ad extends _0x333857{[_0x1122('0x122')](_0x1d8b6f){const _0x8f9767=new _0x4ed9a5[(_0x1122('0x28'))](0.2,0x5,0x5);var _0x49d1fa=0xff0000;var _0x5b97ec=new _0x4ed9a5[(_0x1122('0xa2'))]({'color':_0x49d1fa,'opacity':0.65,'transparent':!![]});var _0x3690bd=new _0x4ed9a5[(_0x1122('0x27'))](_0x8f9767,_0x5b97ec);_0x3690bd['renderOrder']=0x64;_0x1d8b6f[_0x1122('0x1e6')]['add'](_0x3690bd);this['_pointOnMarker']=_0x3690bd;this['_pointOnMarker']['visible']=![];}[_0x1122('0x18e')](_0x244690){_0x244690[_0x1122('0x9f')]['setPreviewAddVoxels']([]);this[_0x1122('0x30')][_0x1122('0x108')]=![];}[_0x1122('0x85')](_0x71876,_0x2e1b42){var _0x5373c3=_0x71876['activeLayerIndex'];var _0x39e465=$(_0x1122('0x16b'))['is'](_0x1122('0x1bd'));if(_0x71876[_0x1122('0x21e')]){this['_removeSelectionPreviews'](_0x71876);this[_0x1122('0x9a')]=null;return;}if(location['href']['indexOf']('voxel')<0x0){_0x71876[_0x1122('0x107')]['_resetAll']();}var _0x3b676f=_0x71876[_0x1122('0x107')][_0x1122('0x10d')]||_0x71876['input'][_0x1122('0xbe')];var _0x4f9661=_0x71876[_0x1122('0x219')](!_0x3b676f);this['_lastSelected']=_0x4f9661;if(!_0x4f9661){this[_0x1122('0x18e')](_0x71876);return;}this[_0x1122('0x30')][_0x1122('0x270')][_0x1122('0x168')](_0x4f9661['intersectPosition']['x'],_0x4f9661[_0x1122('0x1a4')]['y'],_0x4f9661[_0x1122('0x1a4')]['z']);this['_pointOnMarker'][_0x1122('0x108')]=!![];_0x71876[_0x1122('0x9f')][_0x1122('0x2a6')]([_0x3b676f?null:new _0x5de66c['Voxel'](_0x4f9661[_0x1122('0x14a')],_0x71876[_0x1122('0x205')])]);if(_0x71876[_0x1122('0x107')][_0x1122('0x1a0')](_0x1122('0x26d'))&&_0x39e465||_0x71876['input']['released'](_0x1122('0x26d'))&&!_0x39e465){if(_0x4f9661[_0x1122('0x14a')]&&_0x4f9661['selectedVoxelPosition']){if(_0x71876['input'][_0x1122('0x10d')]){_0x71876[_0x1122('0x9f')][_0x1122('0x1a3')](_0x5373c3,new _0x5de66c['Voxel'](_0x4f9661[_0x1122('0x69')],_0x71876['selectedColorIndex']));}else if(_0x71876[_0x1122('0x107')][_0x1122('0xbe')]){_0x71876['voxelMesh'][_0x1122('0x1a3')](_0x5373c3,new _0x5de66c[(_0x1122('0xec'))](_0x4f9661[_0x1122('0x1ea')],_0x4f9661[_0x1122('0x205')]));_0x71876[_0x1122('0x9f')][_0x1122('0x21b')](_0x5373c3,_0x4f9661[_0x1122('0x69')]);}else{_0x71876[_0x1122('0x9f')][_0x1122('0x1a3')](_0x5373c3,new _0x5de66c[(_0x1122('0xec'))](_0x4f9661[_0x1122('0x14a')],_0x71876['selectedColorIndex']));}}}if(!_0x71876[_0x1122('0x107')][_0x1122('0x10d')]&&!_0x71876['input'][_0x1122('0xbe')]){if(_0x71876['input'][_0x1122('0x1a0')]('mouse_right')&&_0x39e465||_0x71876[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x251'))&&!_0x39e465){_0x71876[_0x1122('0x9f')]['removeVoxel'](_0x5373c3,_0x4f9661[_0x1122('0x69')],!![],_0x71876[_0x1122('0x2a8')][_0x1122('0x270')]);}}if(_0x71876[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x251'))){if(_0x4f9661['selectedVoxelPosition']){if(_0x71876[_0x1122('0x107')][_0x1122('0x10d')]){_0x71876[_0x1122('0x196')](_0x4f9661[_0x1122('0x205')]);}else if(_0x71876['input'][_0x1122('0xbe')]){_0x71876[_0x1122('0x9f')][_0x1122('0x1a3')](_0x5373c3,new _0x5de66c[(_0x1122('0xec'))](_0x4f9661[_0x1122('0x14a')],_0x4f9661[_0x1122('0x205')]));_0x71876['voxelMesh'][_0x1122('0x21b')](_0x5373c3,_0x4f9661[_0x1122('0x69')]);}}}}[_0x1122('0x1da')](_0x242e37){$(_0x1122('0x171'))[_0x1122('0x230')]();}[_0x1122('0x1f7')](_0x18f289){$(_0x1122('0x171'))[_0x1122('0xa5')]();this[_0x1122('0x18e')](_0x18f289);}[_0x1122('0x3e')](){return _0x1122('0x77');}get[_0x1122('0x40')](){return _0x1122('0x10f');}}_0x5e6466['exports']=_0x76e7ad;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],9:[function(_0x136f23,_0xb99c83,_0x38edb1){const _0x2728f4=_0x136f23(_0x1122('0x79'));const _0x18dbce=_0x136f23('./../libs')[_0x1122('0x7e')];class _0x20c182 extends _0x2728f4{constructor(_0x4dc7ef){super(_0x4dc7ef);}[_0x1122('0x111')](_0x50dcae,_0x4058a1,_0x2b94a2){var _0x54a7fe=new _0x18dbce[(_0x1122('0x1d1'))]();var _0x541b20=_0x54a7fe[_0x1122('0x2a')](_0x50dcae)[_0x1122('0x130')];return _0x541b20;}get[_0x1122('0x110')](){return{'vertexColor':!![],'texture':!![]};}get[_0x1122('0x244')](){return _0x1122('0xea');}}_0xb99c83[_0x1122('0x1b5')]=_0x20c182;},{'./../libs':0x11,'./exporters_base':0xe}],10:[function(_0x41b1bc,_0x3156f8,_0x38a2e9){const _0x11d2d5=_0x41b1bc('./exporters_base');const _0x1f6e4c=_0x41b1bc(_0x1122('0x265'))['THREE'];class _0x5488e9 extends _0x11d2d5{constructor(_0x3ad685){super(_0x3ad685);}['exportModel'](_0x25f9bc,_0x5e6e50,_0x5a4f55){var _0xfee5cc=new _0x1f6e4c[(_0x1122('0x0'))]();_0xfee5cc[_0x1122('0x2a')](_0x25f9bc,_0x323c00=>{_0x5a4f55(JSON[_0x1122('0xe0')](_0x323c00));});}get['options'](){return{'vertexColor':!![],'texture':!![]};}get[_0x1122('0x244')](){return'.gltf';}}_0x3156f8[_0x1122('0x1b5')]=_0x5488e9;},{'./../libs':0x11,'./exporters_base':0xe}],11:[function(_0x3848f5,_0x5e497c,_0x21083f){const _0x311126=_0x3848f5('./exporters_base');const _0x3c1aff=_0x3848f5(_0x1122('0x265'))[_0x1122('0x7e')];class _0x383ca1 extends _0x311126{constructor(_0x1bbdf2){super(_0x1bbdf2);}[_0x1122('0x111')](_0x3c2d34,_0x55e0a9){var _0x4eb3a9=new _0x3c1aff[(_0x1122('0xdf'))]();var _0x2e6bd3=_0x4eb3a9[_0x1122('0x2a')](_0x3c2d34,{'vertexColors':_0x55e0a9[_0x1122('0x94')]==_0x1122('0x1a6')});return _0x2e6bd3;}get['options'](){return{'colorsComment':_0x1122('0x262'),'vertexColor':!![],'texture':!![]};}get[_0x1122('0x244')](){return _0x1122('0x189');}}_0x5e497c[_0x1122('0x1b5')]=_0x383ca1;},{'./../libs':0x11,'./exporters_base':0xe}],12:[function(_0x38d1d3,_0x26c530,_0x534438){const _0x56b150=_0x38d1d3(_0x1122('0x79'));const _0x37e9fc=_0x38d1d3(_0x1122('0x265'))[_0x1122('0x7e')];class _0x13f4ad extends _0x56b150{constructor(_0x22ffad){super(_0x22ffad);}['exportModel'](_0x517674,_0x413a11){var _0x4c5afb=new _0x37e9fc[(_0x1122('0x290'))]();var _0x551919=_0x4c5afb[_0x1122('0x2a')](_0x517674);return _0x551919;}get[_0x1122('0x110')](){return{'vertexColor':!![],'texture':!![]};}get[_0x1122('0x244')](){return _0x1122('0x24b');}}_0x26c530[_0x1122('0x1b5')]=_0x13f4ad;},{'./../libs':0x11,'./exporters_base':0xe}],13:[function(_0x277fb0,_0x5a29fc,_0x1ce8ef){const _0x37482a=_0x277fb0(_0x1122('0x79'));const _0x1b5d9d=_0x277fb0('./../libs')['THREE'];class _0x4c5662 extends _0x37482a{constructor(_0x5239d1){super(_0x5239d1);}[_0x1122('0x111')](_0x16ddf4,_0x47d3b8,_0x16f23e){var _0x4c658f=new _0x1b5d9d['STLExporter']();var _0x1eb517=_0x4c658f['parse'](_0x16ddf4,{'binary':_0x47d3b8[_0x1122('0x23d')]});return _0x1eb517;}get[_0x1122('0x180')](){return![];}get[_0x1122('0x110')](){return{'colorsComment':'Note:\x20vertex\x20color\x20is\x20not\x20supported\x20in\x20.stl\x20forat.\x20Choosing\x20\x27Vertex\x20Color\x27\x20will\x20result\x20in\x20colorless\x20mesh.','vertexColor':!![],'binary':!![],'texture':!![]};}get['fileExtension'](){return _0x1122('0x144');}}_0x5a29fc[_0x1122('0x1b5')]=_0x4c5662;},{'./../libs':0x11,'./exporters_base':0xe}],14:[function(_0x4b456b,_0x1d55e2,_0x1d0bd5){const _0x2c8020=_0x4b456b('./../libs');const _0x212908=_0x2c8020['THREE'];class _0x1142ab{constructor(_0x400d1b){this[_0x1122('0x1a')]=_0x400d1b;}[_0x1122('0xb5')](_0x42a116,_0x4bae33,_0x13231a){var _0x2a53f6=$('#export-modal');_0x2a53f6[_0x1122('0x2a2')](_0x1122('0x1'))[_0x1122('0x1b8')](_0x4bae33);_0x2a53f6['find'](_0x1122('0x15a'))['css'](_0x1122('0x29c'),_0x13231a[_0x1122('0x23d')]?_0x1122('0x80'):_0x1122('0x74'));_0x2a53f6[_0x1122('0x2a2')](_0x1122('0x1eb'))[_0x1122('0x1f0')](_0x1122('0xa3'),this[_0x1122('0x1a')][_0x1122('0x9f')][_0x1122('0x40')]+_0x4bae33)[_0x1122('0x1dc')](this[_0x1122('0x1a')]['voxelMesh'][_0x1122('0x40')]+_0x4bae33);_0x2a53f6[_0x1122('0x2a2')](_0x1122('0x4c'))['text'](_0x13231a[_0x1122('0x100')]||'');_0x2a53f6[_0x1122('0x2aa')]({'backdrop':_0x1122('0x2d'),'keyboard':![]});_0x2a53f6[_0x1122('0x2a2')]('#export-btn')[0x0]['onclick']=()=>{var _0x5dca50={'binary':_0x2a53f6[_0x1122('0x2a2')]('#export-save-binary')[_0x1122('0x33')](_0x1122('0xa7')),'colors':_0x2a53f6[_0x1122('0x2a2')](_0x1122('0x56'))[_0x1122('0x33')](_0x1122('0xa7'))?_0x1122('0x1a6'):_0x1122('0x89')};var _0x134e24=_0x2a53f6[_0x1122('0x2a2')](_0x1122('0x1eb'))['val']()||_0x2a53f6[_0x1122('0x2a2')]('#exported-mesh-name')[_0x1122('0x1f0')](_0x1122('0xa3'));var _0x5f0b0a=$(_0x1122('0x257'))[_0x1122('0x1dc')]();var _0x2f324c;var _0x3e9e9c=![];switch(_0x5f0b0a){case _0x1122('0x212'):_0x2f324c=this[_0x1122('0x1a')][_0x1122('0x9f')][_0x1122('0x23b')](![]);_0x3e9e9c=!![];break;case _0x1122('0x108'):_0x2f324c=this[_0x1122('0x1a')][_0x1122('0x9f')][_0x1122('0x23b')](!![]);_0x3e9e9c=!![];break;case _0x1122('0x127'):_0x2f324c=this[_0x1122('0x1a')][_0x1122('0x166')];break;}if(_0x2f324c[_0x1122('0xc5')]===0x0){bootbox['alert'](_0x1122('0x54'));if(_0x3e9e9c){_0x2f324c[_0x1122('0x2ae')](!![]);}return;}var _0x2b2ba8=![];var _0x2ce135=_0x5dca50[_0x1122('0x94')]===_0x1122('0x89');var _0x1635e2;var _0x341999=$('#export-optimize')[_0x1122('0x33')](_0x1122('0xa7'));if(_0x341999){_0x1635e2=_0x2f324c[_0x1122('0x239')](_0x2ce135);_0x2b2ba8=!![];}else{_0x2f324c[_0x1122('0x184')]();_0x1635e2=_0x2f324c[_0x1122('0x37')];}_0x42a116(_0x1635e2,_0xb13b5b=>{var _0x2d44ee=new Blob([_0xb13b5b],{'type':_0x1122('0x99')});_0x2c8020[_0x1122('0x1b7')]['saveAs'](_0x2d44ee,_0x134e24);if(_0x2ce135){var _0x395d68=document[_0x1122('0xb7')]('a');_0x395d68['href']=this[_0x1122('0x1a')][_0x1122('0x9f')][_0x1122('0x7b')][_0x1122('0x2e')];_0x395d68['download']=_0x1122('0x269');_0x395d68['click']();}this['manager'][_0x1122('0x10c')]();_0x2a53f6[_0x1122('0x2aa')](_0x1122('0xa5'));bootbox['confirm']({'title':'Exported\x20Successfully','message':'Exported\x20successfully!\x20Total\x20vertices:\x20'+_0x1635e2['geometry']['vertices']['length']+',\x20total\x20faces:\x20'+_0x1635e2[_0x1122('0x8c')]['faces'][_0x1122('0xf7')]+(this['canShowPreview']?'.<br\x20/>Open\x20exported\x20model\x20for\x20preview?':''),'callback':_0x2dadcf=>{if(_0x2dadcf&&this[_0x1122('0x180')]){localStorage[_0x1122('0x1e5')](_0x1122('0x11e'),_0x2ce135);localStorage['setItem']('voxelator_preview_model',_0xb13b5b);localStorage[_0x1122('0x1e5')](_0x1122('0x10e'),this[_0x1122('0x1a')]['voxelMesh'][_0x1122('0x7b')][_0x1122('0x2e')]);localStorage['setItem'](_0x1122('0x185'),this['fileExtension']);window['open'](_0x1122('0x10b'),'_blank');}}});if(_0x3e9e9c){_0x2f324c[_0x1122('0x2ae')](!![]);}if(_0x2b2ba8){_0x1635e2['geometry'][_0x1122('0x2ae')]();_0x1635e2[_0x1122('0x16e')][_0x1122('0x2ae')]();}},_0x5dca50);};}get['canShowPreview'](){return!![];}[_0x1122('0x60')](){this[_0x1122('0xb5')]((_0x820ed6,_0x5005f8,_0x198c45)=>{var _0x176480=this[_0x1122('0x111')](_0x820ed6,_0x198c45,_0x5005f8);if(_0x176480){_0x5005f8(_0x176480);}},this['fileExtension'],this['options']);}[_0x1122('0x111')](_0x46ab6e,_0x1e80d1,_0x28dfa1){throw new Error(_0x1122('0x138'));}get[_0x1122('0x110')](){throw new Error(_0x1122('0x138'));}get[_0x1122('0x244')](){throw new Error(_0x1122('0x138'));}}_0x1d55e2[_0x1122('0x1b5')]=_0x1142ab;},{'./../libs':0x11}],15:[function(_0x31439a,_0x9e9a88,_0x59ffa9){_0x9e9a88[_0x1122('0x1b5')]={'ExportersBase':_0x31439a(_0x1122('0x79')),'ExporterPly':_0x31439a(_0x1122('0x291')),'ExporterObj':_0x31439a(_0x1122('0x9c')),'ExporterGltf':_0x31439a(_0x1122('0x43')),'ExporterStl':_0x31439a(_0x1122('0x12')),'ExporterDae':_0x31439a('./export_dae')};},{'./export_dae':0x9,'./export_gltf':0xa,'./export_obj':0xb,'./export_ply':0xc,'./export_stl':0xd,'./exporters_base':0xe}],16:[function(_0x65cbe6,_0x483bc5,_0x28cdfe){_0x483bc5[_0x1122('0x1b5')]=_0x65cbe6(_0x1122('0x14e'));},{'./manager':0x12}],17:[function(_0x3c6441,_0x12c4b6,_0x52ba8d){_0x12c4b6[_0x1122('0x1b5')]=window[_0x1122('0x1ee')];},{}],18:[function(_0x2ff7d4,_0x392a31,_0x2a96be){const _0x127c9f=_0x2ff7d4('./voxels');const _0x171f89=_0x2ff7d4('./libs');const _0x4474e9=_0x171f89[_0x1122('0x7e')];const _0x1d5776=_0x171f89[_0x1122('0x1ba')];const _0x26ceda=_0x171f89[_0x1122('0x20f')];const _0x966ede=_0x2ff7d4(_0x1122('0x1c2'));const _0x383b6b=_0x2ff7d4('./exports');const _0x5599f3=_0x2ff7d4(_0x1122('0x28d'));const _0x175196='1.0.0';class _0xbebdc6{[_0x1122('0x122')](){var _0x47a55e=new _0x4474e9[(_0x1122('0xc8'))]();_0x47a55e[_0x1122('0x119')](window['innerWidth'],window[_0x1122('0xf3')]);_0x47a55e[_0x1122('0x297')](0x7db7ed,0x1);document[_0x1122('0x15')][_0x1122('0x286')](_0x47a55e[_0x1122('0x14b')]);_0x47a55e[_0x1122('0x14b')][_0x1122('0x14c')]['position']=_0x1122('0x25e');_0x47a55e[_0x1122('0x14b')][_0x1122('0x14c')][_0x1122('0x1d7')]=-0x1;this[_0x1122('0x199')]=_0x47a55e;var _0x449ee7=new _0x4474e9[(_0x1122('0x71'))]();this['scene']=_0x449ee7;var _0x3ff798=new _0x4474e9['PerspectiveCamera'](0x2d,window[_0x1122('0xe6')]/window[_0x1122('0xf3')],0x1,0x3e8);this[_0x1122('0x2a8')]=_0x3ff798;this['resetCamera']();this[_0x1122('0x209')]={};for(var _0x1abff3 in _0x383b6b){this[_0x1122('0x209')][_0x1abff3]=new _0x383b6b[_0x1abff3](this);}var _0x2aa026=new _0x4474e9[(_0x1122('0x11c'))](0x5);_0x2aa026[_0x1122('0x172')]['set'](0x1f4,0x1f4,0x1f4);_0x2aa026[_0x1122('0x270')]['y']=0.005;_0x449ee7[_0x1122('0x101')](_0x2aa026);this[_0x1122('0x256')]=_0x2aa026;var _0x13068a=new _0x4474e9['GridHelper'](0x64,0x64);_0x449ee7['add'](_0x13068a);this[_0x1122('0xfa')]=_0x13068a;var _0x16d99d=new _0x4474e9['DirectionalLight'](0xffffff,0.5);_0x16d99d[_0x1122('0x270')][_0x1122('0x168')](-0.15,0x1,0.4);_0x449ee7[_0x1122('0x101')](_0x16d99d);this['directionalLight1']=_0x16d99d;_0x16d99d=new _0x4474e9['DirectionalLight'](0xacacac,0.45);_0x16d99d['position'][_0x1122('0x168')](0x1,-0.1,0.15);_0x449ee7[_0x1122('0x101')](_0x16d99d);this[_0x1122('0x109')]=_0x16d99d;_0x16d99d=new _0x4474e9[(_0x1122('0x23f'))](0x777777,0.25);_0x16d99d[_0x1122('0x270')][_0x1122('0x168')](-0.5,0.5,-0.5);_0x449ee7['add'](_0x16d99d);this[_0x1122('0x13')]=_0x16d99d;var _0x2b64a0=new _0x4474e9[(_0x1122('0x1fe'))](0x777777);this[_0x1122('0x211')]=_0x2b64a0;_0x449ee7[_0x1122('0x101')](_0x2b64a0);var _0x1a051=new _0x1d5776();_0x1a051['showPanel'](0x0);document[_0x1122('0x15')][_0x1122('0x286')](_0x1a051[_0x1122('0x279')]);this[_0x1122('0x235')]=_0x1a051;this['input']=new _0x171f89[(_0x1122('0x1af'))](window);this[_0x1122('0x16c')]=0x0;this[_0x1122('0x203')]=![];var _0x5b09aa=atob;var _0xd4e090=_0x1122('0x26b');this[_0x1122('0x28f')]=!![];_0x47a55e['domElement'][_0x1122('0x197')]('mouseenter',()=>{this[_0x1122('0x28f')]=!![];});_0x47a55e['domElement'][_0x1122('0x197')](_0x1122('0x1f9'),()=>{this[_0x1122('0x28f')]=!![];});_0x47a55e[_0x1122('0x14b')][_0x1122('0x197')](_0x1122('0xf6'),()=>{this[_0x1122('0x28f')]=![];});_0x47a55e[_0x1122('0x14b')][_0x1122('0x197')](_0x1122('0xa0'),_0x11d7d0=>{this[_0x1122('0x28f')]=!![];if(this[_0x1122('0x4b')]){this[_0x1122('0x18d')]=![];this[_0x1122('0x10c')]();}if(_0x11d7d0[_0x1122('0x13d')]===0x0){this[_0x1122('0x261')]=![];}});this[_0x1122('0xcf')]=new _0x4474e9[(_0x1122('0x5a'))]();var _0x5839b5=()=>{_0x3ff798[_0x1122('0x21f')]=window['innerWidth']/window[_0x1122('0xf3')];_0x3ff798[_0x1122('0xc6')]();_0x47a55e[_0x1122('0x119')](window[_0x1122('0xe6')],window['innerHeight']);};window['addEventListener'](_0x1122('0x255'),_0x5839b5,![]);this['normalizedMousePos']=new _0x4474e9[(_0x1122('0x26f'))](0x0,0x0);var _0x3bb913=_0x4e5e6b=>{var _0x1b9232=_0x4e5e6b[_0x1122('0x1e1')]/window['innerWidth']*0x2-0x1;var _0x1d17d0=-(_0x4e5e6b[_0x1122('0x170')]/window[_0x1122('0xf3')])*0x2+0x1;this[_0x1122('0x11a')]=new _0x4474e9[(_0x1122('0x26f'))](_0x1b9232,_0x1d17d0);};window['addEventListener'](_0x1122('0x1f9'),_0x3bb913);this[_0x1122('0xbd')]('.ui-element');this[_0x1122('0xe4')]=[];this[_0x1122('0x276')]=[];this[_0x1122('0x48')]=-0x1;this[_0x1122('0x9f')]=new _0x127c9f[(_0x1122('0x1c9'))](this['scene']);this[_0x1122('0x9f')]['addTo'](this[_0x1122('0x1e6')]);this[_0x1122('0x9f')][_0x1122('0x32')]=()=>{this[_0x1122('0x11')]=!![];};this[_0x1122('0x11')]=!![];this['voxelMesh']['onLayersChange']=()=>{this[_0x1122('0xdc')]();};this[_0x1122('0xdc')]();this[_0x1122('0x222')]=new Date()[_0x1122('0x266')]();this[_0x1122('0x195')]();this[_0x1122('0xe1')]=0x0;this[_0x1122('0x4e')]={};this[_0x1122('0x13f')]=null;for(var _0x1abff3 in _0x966ede){this[_0x1122('0x4e')][_0x1abff3]=new _0x966ede[_0x1abff3]();this[_0x1122('0x4e')][_0x1abff3][_0x1122('0x122')](this);}this[_0x1122('0x17')](_0x1122('0x207'));this['onMeshRename']();var _0xc6886e=()=>{requestAnimationFrame(_0xc6886e);this[_0x1122('0x85')]();};_0xc6886e();if(window[_0x1122('0x17a')][_0x1122('0xc')]!==_0x5b09aa(_0xd4e090+'G9yLmNvbQ==')){var _0x3269b5=new Date()[_0x1122('0x266')]()%0xa+0x4;var _0x1fb8e9=Object[_0x1122('0x70')](this);for(var _0x5e9eb2=0x0;_0x5e9eb2<_0x3269b5;++_0x5e9eb2){this[_0x1fb8e9[_0x1fb8e9['length']*Math[_0x1122('0x233')]()<<0x0]]=null;}}}[_0x1122('0xbd')](_0x3e2fd5){$(_0x3e2fd5)['on'](_0x1122('0x1e9'),()=>{this['mouseEnterUI']();})['on']('mouseleave',()=>{this[_0x1122('0x10c')]();})['on'](_0x1122('0xa0'),()=>{this[_0x1122('0x18d')]=!![];});}get[_0x1122('0xe1')](){return this['__activeLayerIndex'];}get[_0x1122('0x166')](){return this['voxelMesh'][_0x1122('0x73')][this['__activeLayerIndex']];}[_0x1122('0x143')](){if(this[_0x1122('0xe4')][_0x1122('0xf7')]==0x0){return;}this[_0x1122('0x276')][_0x1122('0x96')](this[_0x1122('0x9f')][_0x1122('0x18b')]());var _0x1538e1=this[_0x1122('0xe4')]['pop']();this['voxelMesh']['deserialize'](_0x1538e1);this[_0x1122('0x48')]=this[_0x1122('0x9f')][_0x1122('0x27c')];this[_0x1122('0x271')]();this[_0x1122('0x11')]=![];this['_needDoubleUndoPop']=![];this[_0x1122('0x10a')]=_0x1538e1;}[_0x1122('0x1ec')](){if(this[_0x1122('0x276')]['length']==0x0){return;}var _0x44b7a5=this[_0x1122('0x276')][_0x1122('0x267')]();this['voxelMesh'][_0x1122('0x1a7')](_0x44b7a5);this['_lastRedoVersion']=this[_0x1122('0x9f')][_0x1122('0x27c')];this['_updateRedoBtns']();this[_0x1122('0x11')]=![];this[_0x1122('0x10a')]=null;}[_0x1122('0x271')](){if(this[_0x1122('0xe4')][_0x1122('0xf7')]){$(_0x1122('0x25a'))[_0x1122('0x283')](_0x1122('0xe3'));}else{$('#undo-btn')[_0x1122('0x1a1')](_0x1122('0xe3'));}if(this[_0x1122('0x276')]['length']){$(_0x1122('0x140'))[_0x1122('0x283')](_0x1122('0xe3'));}else{$(_0x1122('0x140'))[_0x1122('0x1a1')]('disabled');}}set[_0x1122('0xe1')](_0x2cd12a){if(_0x2cd12a<0x0)_0x2cd12a=0x0;if(_0x2cd12a>=this[_0x1122('0x9f')][_0x1122('0x73')]['length'])_0x2cd12a=this[_0x1122('0x9f')][_0x1122('0x73')][_0x1122('0xf7')]-0x1;this[_0x1122('0x22c')]=_0x2cd12a;$(_0x1122('0x2c'))[_0x1122('0x283')](_0x1122('0x20a'));$($(_0x1122('0x2ab'))[_0x1122('0x50')]()[_0x2cd12a])[_0x1122('0x1a1')](_0x1122('0x20a'));}[_0x1122('0x139')](){$('#mesh-name-show')['text']('\x22'+this['voxelMesh']['name']+'\x22');document[_0x1122('0x141')]=_0x1122('0x237')+this[_0x1122('0x9f')][_0x1122('0x40')];}['showBackgroundSelectDialog'](){bootbox[_0x1122('0x8')]({'title':'Background\x20Selection','message':_0x1122('0x1c1'),'inputType':_0x1122('0x177'),'inputOptions':[{'text':_0x1122('0x148'),'value':_0x1122('0x87')},{'text':'Dark\x20Blue','value':'0x002244'},{'text':_0x1122('0x25b'),'value':_0x1122('0x253')},{'text':_0x1122('0xba'),'value':'0xffffff'},{'text':_0x1122('0x228'),'value':_0x1122('0x92')}],'callback':_0x4b4ea=>{var _0x5cdc57=parseInt(_0x4b4ea);this[_0x1122('0x199')][_0x1122('0x297')](_0x5cdc57,0x1);var _0x4baaf1=[_0x1122('0x20'),_0x1122('0x41')];$(_0x1122('0x1df'))[_0x1122('0x240')](_0x1122('0xbb'),_0x4baaf1[_0x1122('0x1f')](_0x4b4ea)!==-0x1?_0x1122('0x113'):_0x1122('0x1fc'));}});}[_0x1122('0x17')](_0x2534a4){if(this['_selectedMode']){this['_selectedMode'][_0x1122('0x1f7')](this);}this['_selectedMode']=this['_modes'][_0x2534a4];this[_0x1122('0x13f')][_0x1122('0x1da')](this);var _0x4cff10=$(_0x1122('0x268'));if(this['_selectedMode']['showPalette']){_0x4cff10[_0x1122('0x230')]();}else{_0x4cff10[_0x1122('0xa5')]();}}[_0x1122('0x19a')](_0x1caaa4){this[_0x1122('0x256')][_0x1122('0x108')]=_0x1caaa4;}['showGrid'](_0x2f3219){this[_0x1122('0xfa')][_0x1122('0x108')]=_0x2f3219;}[_0x1122('0x1db')](){var _0x2e9537=this[_0x1122('0x2a8')];_0x2e9537[_0x1122('0x270')]['x']=0xf;_0x2e9537[_0x1122('0x270')]['y']=0xf;_0x2e9537[_0x1122('0x270')]['z']=0xf;_0x2e9537[_0x1122('0x149')](new _0x4474e9[(_0x1122('0x5e'))](0x0,0x0,0x0));this[_0x1122('0x17c')]();}[_0x1122('0x183')](_0x61c42b){var _0x31a349=this[_0x1122('0x2a8')];var _0x6604d1=this[_0x1122('0x9f')][_0x1122('0x55')]();var _0x3981a5=new _0x4474e9[(_0x1122('0x5e'))]();_0x6604d1[_0x1122('0xb1')](_0x3981a5);var _0x29f79f=new _0x4474e9[(_0x1122('0x5e'))](_0x6604d1['min']['x']+_0x3981a5['x']/0x2,_0x6604d1['min']['y']+_0x3981a5['y']/0x2,_0x6604d1[_0x1122('0x260')]['z']+_0x3981a5['z']/0x2);_0x31a349['position'][_0x1122('0x168')](_0x29f79f['x'],_0x29f79f['y'],_0x29f79f['z']);var _0x267766=_0x29f79f[_0x1122('0x1ce')]();var _0x4baa0f=0xa;switch(_0x61c42b){case'selection':if(this['selectedRegion']){_0x6604d1=this[_0x1122('0x277')];_0x6604d1[_0x1122('0xb1')](_0x3981a5);_0x29f79f=new _0x4474e9[(_0x1122('0x5e'))](_0x6604d1[_0x1122('0x260')]['x']+_0x3981a5['x']/0x2,_0x6604d1[_0x1122('0x260')]['y']+_0x3981a5['y']/0x2,_0x6604d1[_0x1122('0x260')]['z']+_0x3981a5['z']/0x2);_0x31a349[_0x1122('0x270')][_0x1122('0x168')](_0x29f79f['x'],_0x29f79f['y'],_0x29f79f['z']);_0x31a349[_0x1122('0x270')]['z']+=_0x3981a5['z']/0x2+_0x4baa0f;var _0x267766=_0x29f79f[_0x1122('0x1ce')]();}break;case'front':_0x31a349[_0x1122('0x270')]['z']+=_0x3981a5['z']/0x2+_0x4baa0f;break;case _0x1122('0x225'):_0x31a349[_0x1122('0x270')]['z']-=_0x3981a5['z']/0x2+_0x4baa0f;break;case _0x1122('0xee'):_0x31a349[_0x1122('0x270')]['x']-=_0x3981a5['x']/0x2+_0x4baa0f;break;case _0x1122('0x1ed'):_0x31a349[_0x1122('0x270')]['x']+=_0x3981a5['x']/0x2+_0x4baa0f;break;case'top':_0x31a349['position']['y']+=_0x3981a5['y']/0x2+_0x4baa0f;break;case'bottom':_0x31a349[_0x1122('0x270')]['y']-=_0x3981a5['y']/0x2+_0x4baa0f;break;default:throw new Error(_0x1122('0x234')+_0x61c42b+'\x27.');}_0x31a349[_0x1122('0x149')](_0x267766);this[_0x1122('0x17c')]();}['_onLayersChange'](){var _0x347cef=$('#layers-table');_0x347cef['empty']();for(var _0x20b9e6=0x0;_0x20b9e6<this['voxelMesh']['_layers']['length'];++_0x20b9e6){var _0x4da75a=this['voxelMesh']['_layers'][_0x20b9e6];var _0xf1a976=$(_0x1122('0xe')+_0x20b9e6+_0x1122('0x120')+_0x20b9e6+'-row\x22>'+'<th\x20class=\x22layer-visible\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-eye\x22></i></th>'+_0x1122('0x2a7')+_0x1122('0xdd')+_0x4da75a[_0x1122('0x40')]+_0x1122('0xc7')+_0x1122('0x15d'));_0x347cef[_0x1122('0x1bb')](_0xf1a976);var _0x503a2b=this;_0xf1a976['on'](_0x1122('0x178'),function(){_0x503a2b['activeLayerIndex']=parseInt($(this)[_0x1122('0x130')](_0x1122('0x26c')));});_0xf1a976['find'](_0x1122('0x36'))['on'](_0x1122('0x178'),function(){var _0x1888e3=parseInt($(this)['parent']()[_0x1122('0x130')]('index'));_0x503a2b['voxelMesh'][_0x1122('0x73')][_0x1888e3][_0x1122('0x108')]=!_0x503a2b[_0x1122('0x9f')][_0x1122('0x73')][_0x1888e3][_0x1122('0x108')];return![];});_0xf1a976[_0x1122('0x2a2')](_0x1122('0x169'))['on'](_0x1122('0x178'),function(){var _0x18fe03=parseInt($(this)['parent']()['data'](_0x1122('0x26c')));_0x503a2b[_0x1122('0x9f')][_0x1122('0x73')][_0x18fe03][_0x1122('0x25d')]=!_0x503a2b[_0x1122('0x9f')][_0x1122('0x73')][_0x18fe03][_0x1122('0x25d')];return![];});_0xf1a976[_0x1122('0x2a2')](_0x1122('0x147'))['on'](_0x1122('0x57'),function(){var _0x5c2b99=parseInt($(this)[_0x1122('0x26a')]()[_0x1122('0x26a')]()['data'](_0x1122('0x26c')));_0x503a2b['_lockedUntilClickedOnCanvas']=!![];_0x503a2b[_0x1122('0x9f')][_0x1122('0x73')][_0x5c2b99]['name']=$(this)[_0x1122('0x1dc')]();return![];});}this[_0x1122('0xe1')]=this[_0x1122('0xe1')];}[_0x1122('0xa1')](){if(this[_0x1122('0xe1')]>0x0){this[_0x1122('0x9f')]['moveLayerUp'](this[_0x1122('0xe1')]);this[_0x1122('0xe1')]--;}}[_0x1122('0x247')](){if(this[_0x1122('0xe1')]<this[_0x1122('0x9f')][_0x1122('0x73')][_0x1122('0xf7')]-0x1){this[_0x1122('0x9f')][_0x1122('0xc4')](this['activeLayerIndex']);this[_0x1122('0xe1')]++;}}['showDeleteLayerDialog'](){if(this['voxelMesh'][_0x1122('0x73')][_0x1122('0xf7')]===0x1){return bootbox[_0x1122('0x232')](_0x1122('0xeb'));}if(this[_0x1122('0x166')]['isEmpty']){return this[_0x1122('0x18a')]();}bootbox[_0x1122('0x1d')](_0x1122('0x1b4'),_0x173d94=>{if(_0x173d94){this['deleteActiveLayer']();}});}[_0x1122('0x18a')](){this[_0x1122('0x9f')][_0x1122('0x93')](this[_0x1122('0xe1')]);if(this[_0x1122('0xe1')]>=this[_0x1122('0x9f')]['_layers']['length']){this['activeLayerIndex']--;}}[_0x1122('0x17c')](){if(this[_0x1122('0x12a')]){this['controls'][_0x1122('0x2ae')]();}var _0x4c592f=new _0x4474e9['SimpleOrbitControls'](this[_0x1122('0x199')],this['scene'],this[_0x1122('0x2a8')]);this[_0x1122('0x12a')]=_0x4c592f;}[_0x1122('0xcc')](_0x2516e1){if(_0x2516e1){this['scene']['add'](this[_0x1122('0xb0')]);this[_0x1122('0x1e6')][_0x1122('0x101')](this['directionalLight2']);this[_0x1122('0x1e6')]['add'](this[_0x1122('0x13')]);}else{this[_0x1122('0x1e6')][_0x1122('0x296')](this[_0x1122('0xb0')]);this[_0x1122('0x1e6')][_0x1122('0x296')](this[_0x1122('0x109')]);this[_0x1122('0x1e6')]['remove'](this[_0x1122('0x13')]);}this[_0x1122('0x9f')][_0x1122('0xcc')](_0x2516e1);}['_createPaletteElements'](){var _0x5b7f52=$('#palette-container');for(var _0x4865c2=0x0;_0x4865c2<this[_0x1122('0x9f')]['paletteSize'];++_0x4865c2){var _0xffab3a=$(_0x1122('0x6d')+_0x4865c2+_0x1122('0x299')+_0x4865c2+_0x1122('0x1ca'));_0x5b7f52[_0x1122('0x1bb')](_0xffab3a);var _0x1e6eb5=this;_0xffab3a['on'](_0x1122('0xa0'),function(_0x543dda){var _0x20ae64=parseInt(this['id'][_0x1122('0x1b2')](_0x1122('0xfc'))[0x1]);_0x1e6eb5[_0x1122('0x196')](_0x20ae64);});_0xffab3a['on'](_0x1122('0x1ab'),function(_0x2d36ce){var _0x54460e=parseInt(this['id'][_0x1122('0x1b2')]('color-')[0x1]);_0x1e6eb5['voxelMesh'][_0x1122('0x29e')](_0x54460e,$(this)[_0x1122('0x1dc')]());});}this[_0x1122('0x196')](0x0);this[_0x1122('0x1f3')]();}[_0x1122('0x248')](){bootbox[_0x1122('0x8')]({'title':_0x1122('0x198'),'message':_0x1122('0x281'),'inputType':'radio','inputOptions':[{'text':_0x1122('0x285'),'value':_0x1122('0xb6')},{'text':_0x1122('0x190'),'value':_0x1122('0x292')},{'text':'SNES','value':_0x1122('0x12d')},{'text':_0x1122('0x1e7'),'value':_0x1122('0x1c3')},{'text':_0x1122('0x58'),'value':_0x1122('0x22b')},{'text':'MONO','value':'MONO.png'},{'text':_0x1122('0xde'),'value':'FARAWAY48.png'},{'text':_0x1122('0x137'),'value':_0x1122('0x78')}],'callback':_0x5e9bdb=>{this['_imageDataToPalette'](_0x1122('0x14f')+_0x5e9bdb);}});}[_0x1122('0x91')](_0x356b2d){var _0x23b5dd=new Image();var _0x4cccc6=document[_0x1122('0xb7')](_0x1122('0xf8'));var _0x54b2d5=new Set();_0x23b5dd['addEventListener'](_0x1122('0x1cc'),()=>{_0x4cccc6[_0x1122('0x274')]=_0x23b5dd['width'];_0x4cccc6[_0x1122('0x241')]=_0x23b5dd[_0x1122('0x241')];var _0x4ccdf8=_0x4cccc6[_0x1122('0x272')]('2d');_0x4ccdf8[_0x1122('0xc9')](_0x23b5dd,0x0,0x0,_0x23b5dd[_0x1122('0x274')],_0x23b5dd[_0x1122('0x241')]);var _0x598064=0x0;for(var _0x146ce1=0x0;_0x146ce1<_0x23b5dd['width'];++_0x146ce1){for(var _0x1f63f6=0x0;_0x1f63f6<_0x23b5dd[_0x1122('0x241')];++_0x1f63f6){if(_0x598064>=this[_0x1122('0x9f')][_0x1122('0x106')]){break;}var _0x1c3ee7=_0x4ccdf8[_0x1122('0x15b')](_0x146ce1,_0x1f63f6,0x1,0x1)[_0x1122('0x130')];var _0x1ca49d=_0x1c3ee7[0x0];var _0x39ff0b=_0x1c3ee7[0x1];var _0x475642=_0x1c3ee7[0x2];var _0x380d0a=_0x1ca49d<<0x10|_0x39ff0b<<0x8|_0x475642;if(_0x54b2d5[_0x1122('0x165')](_0x380d0a)){continue;}_0x54b2d5[_0x1122('0x101')](_0x380d0a);var _0x49c507=_0x6d763d(_0x380d0a);$(_0x1122('0x173')+_0x598064)[_0x1122('0x1dc')](_0x49c507);this[_0x1122('0x9f')]['setPaletteColor'](_0x598064,_0x380d0a);_0x598064++;}}bootbox[_0x1122('0x232')]('Successfully\x20imported\x20Palette!\x20'+_0x598064+_0x1122('0x259'));});_0x23b5dd[_0x1122('0x2e')]=_0x356b2d;}[_0x1122('0x231')](){this[_0x1122('0xc3')]({'extensions':_0x1122('0x258'),'mode':'data_url'},(_0x1a8d56,_0x50f654)=>{this['_imageDataToPalette'](_0x1a8d56);});}[_0x1122('0x1dd')](_0x8d080e){var _0x34dfa1=JSON[_0x1122('0x2a')](_0x8d080e);var _0x1ba7d9=new _0x127c9f[(_0x1122('0x1c9'))](this[_0x1122('0x1e6')]);_0x1ba7d9[_0x1122('0x1a7')](_0x34dfa1);this['voxelMesh'][_0x1122('0x44')](_0x1ba7d9);}['importVoxelFile'](){this[_0x1122('0xc3')]({'extensions':'.vox'},(_0x45b359,_0x472285)=>{this[_0x1122('0x1dd')](_0x45b359);});}[_0x1122('0x1ad')](){bootbox['prompt']({'title':_0x1122('0x18f'),'message':'<p>Pick\x20demo\x20project\x20to\x20import\x20(note:\x20all\x20demo\x20projects\x20use\x20the\x20default\x20palette,\x20if\x20you\x20changed\x20pallete\x20it\x20may\x20look\x20wrong):</p>','inputType':_0x1122('0x177'),'inputOptions':[{'text':_0x1122('0x154'),'value':_0x1122('0xf0')},{'text':_0x1122('0x24c'),'value':_0x1122('0x275')},{'text':'Snake','value':_0x1122('0x6e')},{'text':_0x1122('0xc0'),'value':'disk.vox'},{'text':'Crate','value':'crate.vox'}],'callback':_0x574f13=>{$[_0x1122('0x17b')](_0x1122('0x157')+_0x574f13,_0x5c440a=>{this[_0x1122('0x1dd')](_0x5c440a);});}});}['showAbout'](){bootbox[_0x1122('0x232')]({'title':'Voxelator\x20v'+_0x175196,'message':_0x1122('0x10')+_0x1122('0x2')});}['cloneActiveLayer'](){var _0x301edf=this[_0x1122('0x9f')][_0x1122('0x221')](this[_0x1122('0xe1')]);if(this[_0x1122('0x277')]){_0x301edf['removeAllVoxelsOutside'](this['selectedRegion']);}}['cutSelectedVoxelsToNewLayer'](){if(!this[_0x1122('0x277')]){return bootbox[_0x1122('0x232')](_0x1122('0x294'));}var _0x1b6e94=this[_0x1122('0x166')];var _0x4bdd0e=this[_0x1122('0x277')];var _0x54f89e=this['voxelMesh'][_0x1122('0x1ef')](this['activeLayerIndex'],_0x1b6e94[_0x1122('0x40')]+_0x1122('0x282'));for(var _0x34c689=_0x4bdd0e[_0x1122('0x260')]['x'];_0x34c689<=_0x4bdd0e[_0x1122('0x132')]['x'];++_0x34c689){for(var _0x5b7bc7=_0x4bdd0e['min']['y'];_0x5b7bc7<=_0x4bdd0e[_0x1122('0x132')]['y'];++_0x5b7bc7){for(var _0x51759d=_0x4bdd0e['min']['z'];_0x51759d<=_0x4bdd0e[_0x1122('0x132')]['z'];++_0x51759d){var _0x17a67c=new _0x4474e9[(_0x1122('0x5e'))](_0x34c689,_0x5b7bc7,_0x51759d);var _0x103db9=_0x1b6e94[_0x1122('0x8d')](_0x17a67c);if(_0x103db9){_0x54f89e[_0x1122('0x1a3')](_0x103db9);_0x1b6e94[_0x1122('0x21b')](_0x17a67c);}}}}}[_0x1122('0x47')](_0x4de5f4){var _0x58082f=new _0x5599f3[_0x4de5f4](this);_0x58082f['apply']();}['mergeActiveLayerDown'](){if(this[_0x1122('0x9f')][_0x1122('0x73')]['length']>0x1&&this[_0x1122('0xe1')]<this[_0x1122('0x9f')][_0x1122('0x73')][_0x1122('0xf7')]-0x1){this['voxelMesh']['mergeActiveLayerDown'](this[_0x1122('0xe1')]);this[_0x1122('0xe1')]=this['activeLayerIndex'];}}[_0x1122('0x1f8')](){bootbox[_0x1122('0x232')]({'title':'Welcome\x20To\x20Voxelator!','message':_0x1122('0x22e'),'buttons':{'ok':{'label':_0x1122('0x38')}},'callback':function(){var _0x8beeb1=new EnjoyHint({'onStart':()=>{this['_onCanvas']=![];},'onEnd':()=>{this[_0x1122('0x28f')]=!![];},'onSkip':()=>{this[_0x1122('0x28f')]=!![];}});var _0x19dc9d=[{'selector':_0x1122('0x11b'),'description':'Tools\x20selection:\x20here\x20you\x20can\x20select\x20different\x20tools\x20to\x20use.\x20Point\x20on\x20a\x20tool\x20icon\x20to\x20learn\x20more\x20about\x20it.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x1122('0x268'),'description':_0x1122('0x23a'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0x1f5'),'description':'Layers:\x20layers\x20are\x20separated\x20segments\x20of\x20your\x20mesh.<br/>You\x20can\x20use\x20layers\x20to\x20apply\x20transformations\x20only\x20on\x20parts\x20of\x20your\x20model,\x20or\x20hide\x20/\x20show\x20parts\x20of\x20your\x20model\x20while\x20editing.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x1122('0x1f5'),'description':_0x1122('0x135'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0xc1'),'description':_0x1122('0x208'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0xf1'),'description':_0x1122('0x226'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0x8e'),'description':_0x1122('0x13c'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#voxel-options-dropdown','description':_0x1122('0xed'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x1122('0x86'),'description':_0x1122('0x182'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x1122('0x3'),'description':_0x1122('0x146'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0x3'),'description':_0x1122('0x1e0'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0x112'),'description':_0x1122('0x1a9'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':_0x1122('0x213'),'description':_0x1122('0x27b'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':'#camera-options-dropdown','description':_0x1122('0xa8'),'showNext':!![],'skipButton':{'text':_0x1122('0x121')}},{'selector':'#help-dropdown','description':_0x1122('0x103'),'showNext':![],'skipButton':{'text':'End\x20Tour'}}];_0x8beeb1[_0x1122('0x168')](_0x19dc9d);_0x8beeb1[_0x1122('0x9b')]();}});}['selectToolWithKey'](){if(this[_0x1122('0x107')]['released']('1')){$('#tool-pencil')[_0x1122('0x178')]();}else if(this[_0x1122('0x107')][_0x1122('0x9e')]('2')){$('#tool-select')['click']();}else if(this[_0x1122('0x107')]['released']('3')){$('#tool-paint-bucket')['click']();}else if(this[_0x1122('0x107')]['released']('4')){$('#tool-paint-brush')[_0x1122('0x178')]();}else if(this[_0x1122('0x107')]['released']('5')){$(_0x1122('0x2f'))[_0x1122('0x178')]();}else if(this[_0x1122('0x107')]['released']('6')){$(_0x1122('0x19'))['click']();}}[_0x1122('0x1f3')](){for(var _0x75fad2=0x0;_0x75fad2<this[_0x1122('0x9f')][_0x1122('0x106')];++_0x75fad2){var _0x15f8bd=_0x6d763d(this[_0x1122('0x9f')][_0x1122('0xda')](_0x75fad2));$(_0x1122('0x173')+_0x75fad2)[_0x1122('0x1dc')](_0x15f8bd);}}[_0x1122('0x196')](_0x20347e){$(_0x1122('0x1b0'))[_0x1122('0x283')](_0x1122('0x186'));this['__selectedColorIndex']=_0x20347e;$(_0x1122('0x173')+_0x20347e)[_0x1122('0x1a1')](_0x1122('0x186'));}get[_0x1122('0x205')](){return this[_0x1122('0x15e')];}['exportModel'](_0x28e124){this[_0x1122('0x209')][_0x1122('0x84')+_0x28e124][_0x1122('0x60')]();}[_0x1122('0x90')](){if(!this[_0x1122('0x277')]){return;}for(var _0x4c5e22=this[_0x1122('0x277')][_0x1122('0x260')]['x'];_0x4c5e22<=this[_0x1122('0x277')][_0x1122('0x132')]['x'];++_0x4c5e22){for(var _0x534f19=this[_0x1122('0x277')][_0x1122('0x260')]['y'];_0x534f19<=this[_0x1122('0x277')][_0x1122('0x132')]['y'];++_0x534f19){for(var _0x156c81=this['selectedRegion']['min']['z'];_0x156c81<=this[_0x1122('0x277')][_0x1122('0x132')]['z'];++_0x156c81){this['activeLayer'][_0x1122('0x21b')](new _0x4474e9['Vector3'](_0x4c5e22,_0x534f19,_0x156c81));}}}}[_0x1122('0x1fa')](){bootbox['alert']({'title':_0x1122('0x1b6'),'size':_0x1122('0x24d'),'message':_0x1122('0x28e')});}['update'](){if(!this['_onCanvas']||this[_0x1122('0x261')]){this[_0x1122('0x107')][_0x1122('0x82')]();}const _0x2380b3=new Date()[_0x1122('0x266')]();const _0x329b88=(_0x2380b3-this[_0x1122('0x222')])/0x3e8;this[_0x1122('0x222')]=_0x2380b3;if(this[_0x1122('0x107')][_0x1122('0x9e')]('mouse_left')||this[_0x1122('0x107')][_0x1122('0x9e')](_0x1122('0x251'))){this[_0x1122('0x9f')]['increaseActionId']();}this[_0x1122('0x235')][_0x1122('0x1c8')]();this[_0x1122('0x199')][_0x1122('0xad')](this[_0x1122('0x1e6')],this[_0x1122('0x2a8')]);if(!this[_0x1122('0x11f')]){this[_0x1122('0x45')](_0x329b88);}else{this[_0x1122('0x12a')][_0x1122('0x85')]({'deltaTime':_0x329b88});}this[_0x1122('0x1ae')]();this[_0x1122('0x22a')](_0x329b88);this[_0x1122('0x235')][_0x1122('0x125')]();this[_0x1122('0x1fd')]();this['input'][_0x1122('0xd0')]();}[_0x1122('0xcb')](){var _0x5661d5=document[_0x1122('0xb7')]('a');_0x5661d5[_0x1122('0x52')]=this[_0x1122('0x9f')]['paletteImage']['src'];_0x5661d5[_0x1122('0x229')]=_0x1122('0x269');_0x5661d5['click']();}[_0x1122('0x45')](_0x347b97){var _0x1655e6=this[_0x1122('0x107')][_0x1122('0x2a0')](this[_0x1122('0x107')][_0x1122('0xd')]['middle'])||this['input']['down']('r');var _0x1af224=this[_0x1122('0x107')][_0x1122('0x1a0')]('m')||this[_0x1122('0x107')][_0x1122('0x2a0')](this[_0x1122('0x107')][_0x1122('0xd')][_0x1122('0x164')])&&this[_0x1122('0x107')]['shiftDown'];var _0x3a369e=this['input'][_0x1122('0x250')];if(_0x1af224){_0x1655e6=![];}var _0x1b387e=this['input'][_0x1122('0x24e')];if(!this[_0x1122('0x107')][_0x1122('0x176')]){if(this[_0x1122('0x107')][_0x1122('0x1a0')]('page_up')||this[_0x1122('0x107')][_0x1122('0x1a0')]('z')){_0x1b387e+=0x3e8*_0x347b97;}else if(this[_0x1122('0x107')]['down'](_0x1122('0x224'))||this[_0x1122('0x107')][_0x1122('0x1a0')]('x')){_0x1b387e-=0x3e8*_0x347b97;}}var _0x3dcceb=0x1f4;var _0xead6a3=0x64;var _0x1405c5=_0x1655e6?-_0x3a369e['x']:0x0;var _0x5bbacb=_0x1655e6?-_0x3a369e['y']:0x0;var _0x4a62d5=_0x1af224?_0x3a369e['x']:0x0;var _0x1a8a7d=_0x1af224?-_0x3a369e['y']:0x0;if(this[_0x1122('0x107')]['shiftDown']){if(_0x4a62d5==0x0&&this['input'][_0x1122('0x1a0')]('a')){_0x4a62d5=_0x3dcceb*_0x347b97;}if(_0x4a62d5==0x0&&this['input'][_0x1122('0x1a0')]('d')){_0x4a62d5=-_0x3dcceb*_0x347b97;}if(_0x1a8a7d==0x0&&this[_0x1122('0x107')][_0x1122('0x1a0')]('w')){_0x1a8a7d=-_0x3dcceb*_0x347b97;}if(_0x1a8a7d==0x0&&this[_0x1122('0x107')]['down']('s')){_0x1a8a7d=_0x3dcceb*_0x347b97;}}else{if(_0x1405c5==0x0&&this['input'][_0x1122('0x1a0')]('a')){_0x1405c5=-_0xead6a3*_0x347b97;}if(_0x1405c5==0x0&&this['input'][_0x1122('0x1a0')]('d')){_0x1405c5=_0xead6a3*_0x347b97;}if(_0x5bbacb==0x0&&this[_0x1122('0x107')]['down']('w')){_0x5bbacb=-_0xead6a3*_0x347b97;}if(_0x5bbacb==0x0&&this[_0x1122('0x107')][_0x1122('0x1a0')]('s')){_0x5bbacb=_0xead6a3*_0x347b97;}}var _0x356028={'deltaTime':_0x347b97,'rotateHorizontally':_0x1405c5,'rotateVertically':_0x5bbacb,'moveOffsetVertically':_0x1a8a7d,'moveOffsetHorizontally':_0x4a62d5,'zoom':_0x1b387e};this[_0x1122('0x12a')]['update'](_0x356028);}[_0x1122('0x1fd')](){var _0xf14be0=this[_0x1122('0x9f')][_0x1122('0x235')];var _0x4ebe2c='';for(var _0x5f2b09 in _0xf14be0){_0x4ebe2c+=_0x5f2b09+':\x20'+_0xf14be0[_0x5f2b09]+_0x1122('0xab');}_0x4ebe2c+=_0x1122('0xf9')+(this[_0x1122('0x3d')]?String(this[_0x1122('0x3d')]['x'])+','+String(this['_targetVoxel']['y'])+','+String(this[_0x1122('0x3d')]['z']):_0x1122('0x1de'));$('#stats-label')[_0x1122('0x8b')](_0x4ebe2c);}['mouseEnterUI'](){this[_0x1122('0x203')]=!![];}[_0x1122('0x10c')](){this[_0x1122('0x203')]=![];this[_0x1122('0x16c')]=new Date()[_0x1122('0x266')]();}[_0x1122('0x6b')](){var _0x4e1804=this[_0x1122('0xe1')];this[_0x1122('0xc3')]({'extensions':'image/*','mode':_0x1122('0x39')},(_0x5af129,_0x540a28)=>{$(_0x1122('0x200'))[_0x1122('0x2aa')]({'backdrop':_0x1122('0x2d'),'keyboard':![]});document[_0x1122('0xaf')](_0x1122('0x67'))[_0x1122('0x2e')]=_0x5af129;var _0x1782fc=$(_0x1122('0x29'));_0x1782fc[_0x1122('0xa5')]()[_0x1122('0x240')]('width','0%')[_0x1122('0x1f0')](_0x1122('0x1e3'),0x0);var _0x4de4ba=![];document[_0x1122('0xaf')](_0x1122('0x18c'))['onclick']=()=>{_0x4de4ba=!![];$(_0x1122('0x200'))[_0x1122('0x2aa')](_0x1122('0xa5'));};document['getElementById'](_0x1122('0x28a'))[_0x1122('0x13e')]=()=>{var _0x57e0a6=this[_0x1122('0x9f')][_0x1122('0x18b')]();var _0x58d0dd=document[_0x1122('0xaf')]('import-img-preview');var _0x2244bb=document[_0x1122('0xb7')](_0x1122('0xf8'));_0x2244bb[_0x1122('0x274')]=_0x58d0dd[_0x1122('0x274')];_0x2244bb[_0x1122('0x241')]=_0x58d0dd['height'];_0x2244bb[_0x1122('0x272')]('2d')[_0x1122('0xc9')](_0x58d0dd,0x0,0x0,_0x58d0dd[_0x1122('0x274')],_0x58d0dd[_0x1122('0x241')]);var _0xbf6acc={};var _0x64d8bd=(_0x40e27a,_0x976bbe,_0x147aeb)=>{var _0x538010=_0x40e27a+','+_0x976bbe+','+_0x147aeb;if(_0xbf6acc[_0x538010]!==undefined){return _0xbf6acc[_0x538010];}var _0x24e015=0xffffffff;var _0x4d3e05=0x0;for(var _0x4b2b18=0x0;_0x4b2b18<this['voxelMesh'][_0x1122('0x22')][_0x1122('0xf7')];++_0x4b2b18){var _0x33b90c=this[_0x1122('0x9f')]['_palette'][_0x4b2b18];var _0x5788be=_0x26ceda([_0x40e27a,_0x976bbe,_0x147aeb],[_0x33b90c>>0x10&0xff,_0x33b90c>>0x8&0xff,_0x33b90c&0xff]);if(_0x5788be<_0x24e015){_0x24e015=_0x5788be;_0x4d3e05=_0x4b2b18;}if(_0x24e015<=0x0){break;}}_0xbf6acc[_0x538010]=_0x4d3e05;return _0x4d3e05;};var _0x1bdcf9=_0x58d0dd[_0x1122('0x274')]*_0x58d0dd[_0x1122('0x241')];var _0x39d1cc=0x0;_0x1782fc['show']();var _0x5d3bf9=_0x2244bb[_0x1122('0x272')]('2d');var _0x4035ac=0x0;var _0x42f1bc=0x0;if($(_0x1122('0x7a'))['is'](_0x1122('0x1bd'))){this[_0x1122('0x9f')][_0x1122('0x1ef')](this[_0x1122('0xe1')],'import-'+_0x540a28);_0x4e1804=this[_0x1122('0xe1')];}var _0x524134=$(_0x1122('0x287'))['val']();var _0xadf67d=_0x524134==_0x1122('0x179')||_0x524134==_0x1122('0x23');var _0x320363=_0x524134==_0x1122('0x1f2')||_0x524134==_0x1122('0x23');var _0x42e7b7=$(_0x1122('0x1cb'))[_0x1122('0x1dc')]();this[_0x1122('0x9f')][_0x1122('0x16')]=![];var _0x39cefd=()=>{var _0x4340c9=!![];var _0xa3c43b=0x64;var _0x2411a2=new _0x4474e9[(_0x1122('0x5e'))]();while(_0x4340c9&&_0xa3c43b-->0x0){if(_0x4de4ba){this[_0x1122('0x9f')][_0x1122('0x1a7')](_0x57e0a6);this[_0x1122('0x9f')][_0x1122('0x16')]=!![];return;}var _0x3a8411=_0xadf67d?_0x58d0dd[_0x1122('0x274')]-_0x4035ac:_0x4035ac;var _0x140610=_0x320363?_0x58d0dd[_0x1122('0x241')]-_0x42f1bc:_0x42f1bc;var _0x4b2433=_0x5d3bf9[_0x1122('0x15b')](_0x3a8411,_0x140610,0x1,0x1)[_0x1122('0x130')];var _0x55d5d6=_0x4b2433[0x0];var _0x10bc03=_0x4b2433[0x1];var _0x2ac036=_0x4b2433[0x2];var _0x420e97=_0x4b2433[0x3];var _0x1b35d2=parseInt($(_0x1122('0x175'))[_0x1122('0x1dc')]());for(var _0x509367=0x0;_0x509367<_0x1b35d2;++_0x509367){var _0x113442={'x':Math[_0x1122('0xfe')](_0x58d0dd[_0x1122('0x274')]/0x2),'y':0x0};switch(_0x42e7b7){case'XY':_0x2411a2[_0x1122('0x168')](_0x4035ac-_0x113442['x'],_0x58d0dd[_0x1122('0x241')]-_0x42f1bc-0x1-_0x113442['y'],_0x509367);break;case'XZ':_0x2411a2[_0x1122('0x168')](_0x4035ac-_0x113442['x'],_0x509367,_0x58d0dd['height']-_0x42f1bc-0x1-_0x113442['y']);break;case'ZY':_0x2411a2[_0x1122('0x168')](_0x509367,_0x58d0dd['height']-_0x42f1bc-0x1-_0x113442['y'],_0x4035ac-_0x113442['x']);break;}if(_0x420e97>0x64){var _0x39380c=_0x64d8bd(_0x55d5d6,_0x10bc03,_0x2ac036);this[_0x1122('0x9f')][_0x1122('0x1a3')](_0x4e1804,new _0x127c9f['Voxel'](_0x2411a2,_0x39380c));}}var _0x5d43b5=Math['round'](_0x39d1cc/_0x1bdcf9*0x64);_0x1782fc[_0x1122('0x240')](_0x1122('0x274'),_0x5d43b5+'%')[_0x1122('0x1f0')](_0x1122('0x1e3'),_0x5d43b5);_0x39d1cc++;_0x4035ac++;if(_0x4035ac>=_0x58d0dd[_0x1122('0x274')]){_0x4035ac=0x0;_0x42f1bc++;if(_0x42f1bc>=_0x58d0dd['height']){_0x4340c9=![];}}}if(_0x4340c9){setTimeout(_0x39cefd,0x1);}else{this[_0x1122('0x9f')]['enableUpdates']=!![];$(_0x1122('0x200'))[_0x1122('0x2aa')](_0x1122('0xa5'));}};_0x39cefd();};});}[_0x1122('0xc3')](_0x5baf70,_0x2d05d2,_0x30149f){$(_0x1122('0x298'))[_0x1122('0x1dc')](null)[_0x1122('0x1f0')](_0x1122('0xd6'),_0x5baf70[_0x1122('0xa4')]||'*')[_0x1122('0xa6')](_0x1122('0x178'));var _0x481bec=document['getElementById'](_0x1122('0x215'));_0x481bec[_0x1122('0x1b3')]=()=>{var _0x380681=_0x481bec[_0x1122('0x1d9')];if(_0x380681[_0x1122('0xf7')]==0x0){if(_0x30149f){_0x30149f();}return;}var _0x4c6f25=_0x380681[0x0];var _0x204bed=new FileReader();this['mouseLeaveUI']();_0x204bed[_0x1122('0x197')](_0x1122('0x278'),()=>{console['log'](_0x1122('0x136'));});_0x204bed[_0x1122('0x197')]('load',_0x3f24ff=>{var _0x44e2c9=_0x3f24ff[_0x1122('0x4')][_0x1122('0x26e')];this[_0x1122('0x10c')]();_0x2d05d2(_0x44e2c9,_0x4c6f25[_0x1122('0x40')]);});_0x204bed[_0x1122('0x197')](_0x1122('0x204'),()=>{bootbox['alert'](_0x1122('0x15c'));});_0x204bed['addEventListener'](_0x1122('0x153'),_0x33307=>{if(_0x33307['lengthComputable']==!![]){var _0x2056a1=Math[_0x1122('0x83')](_0x33307['loaded']/_0x33307['total']*0x64);console[_0x1122('0x5f')](_0x2056a1+_0x1122('0x6'));this[_0x1122('0x10c')]();}});switch(_0x5baf70[_0x1122('0x51')]){case undefined:case _0x1122('0x1b8'):_0x204bed[_0x1122('0x46')](_0x4c6f25);break;case _0x1122('0x39'):_0x204bed[_0x1122('0x102')](_0x4c6f25);break;default:throw Error(_0x1122('0xe9'));}};}[_0x1122('0xd4')](){bootbox[_0x1122('0x232')]({'title':_0x1122('0x19b'),'size':_0x1122('0x24d'),'message':'The\x20texture\x20below\x20represent\x20your\x20current\x20colors\x20palette.\x20If\x20you\x20want\x20to\x20export\x20your\x20model\x20and\x20use\x20texture\x20for\x20voxel\x20colors\x20(instead\x20of\x20vertex-color),\x20you\x20need\x20to\x20set\x20this\x20image\x20as\x20the\x20texture\x20of\x20the\x20mesh.\x20It\x20is\x20downloaded\x20automatically\x20when\x20using\x20export.'+'<img\x20class=\x22pixelated\x22\x20style=\x22width:100%;height:auto;\x22\x20src=\x22'+this[_0x1122('0x9f')]['paletteImage'][_0x1122('0x2e')]+_0x1122('0x22f')});}[_0x1122('0x156')](){var _0x5e7fd1=this['voxelMesh'][_0x1122('0x18b')]();var _0x28e919=new Blob([JSON[_0x1122('0xe0')](_0x5e7fd1)],{'type':_0x1122('0x99')});_0x171f89[_0x1122('0x1b7')]['saveAs'](_0x28e919,this['voxelMesh'][_0x1122('0x40')]+_0x1122('0x193'));this[_0x1122('0x10c')]();}[_0x1122('0x155')](){this[_0x1122('0xc3')]({'extensions':_0x1122('0x193')},(_0xcc2fb9,_0x518178)=>{var _0x25495f=JSON['parse'](_0x25495f);this[_0x1122('0x9f')][_0x1122('0x1a7')](_0x25495f);this[_0x1122('0x139')]();this[_0x1122('0x1f3')]();this[_0x1122('0x10c')]();$(_0x1122('0x26'))[_0x1122('0x33')](_0x1122('0xa7'),this[_0x1122('0x9f')][_0x1122('0x21c')][_0x1122('0x128')]);$(_0x1122('0x188'))[_0x1122('0x33')](_0x1122('0xa7'),this[_0x1122('0x9f')][_0x1122('0x21c')]['enableLighting']);$(_0x1122('0x293'))[_0x1122('0x33')]('checked',this[_0x1122('0x9f')][_0x1122('0x21c')][_0x1122('0x1e4')]);$(_0x1122('0xd8'))[_0x1122('0x33')](_0x1122('0xa7'),this[_0x1122('0x9f')]['_settings'][_0x1122('0x2af')]);this[_0x1122('0xe4')]=[];this[_0x1122('0x276')]=[];this[_0x1122('0x271')]();});}[_0x1122('0x238')](){bootbox['confirm'](_0x1122('0x246'),_0x3df0a7=>{if(_0x3df0a7){this[_0x1122('0x9f')]['reset']();this[_0x1122('0x139')]();this[_0x1122('0x1f3')]();this[_0x1122('0x10c')]();this[_0x1122('0xe4')]=[];this[_0x1122('0x276')]=[];this[_0x1122('0x271')]();}});}get['isInUI'](){return this['_isInUI']||this[_0x1122('0x261')]||this[_0x1122('0x18d')]||new Date()['getTime']()-this[_0x1122('0x16c')]<0x96;}[_0x1122('0x23e')](){if(this['_selectionShow']){this[_0x1122('0x1e6')][_0x1122('0x296')](this[_0x1122('0x1d6')]);this[_0x1122('0x1d6')]=null;}this[_0x1122('0x277')]=null;}['setSelection'](_0x3ec9b6){var _0x327cb7=new _0x4474e9[(_0x1122('0xa'))]();for(var _0x1db30e=0x0;_0x1db30e<_0x3ec9b6[_0x1122('0xf7')];++_0x1db30e){_0x327cb7[_0x1122('0x249')](_0x3ec9b6[_0x1db30e]);}if(!this[_0x1122('0x277')]||!this[_0x1122('0x277')][_0x1122('0x1aa')](_0x327cb7)){this[_0x1122('0x277')]=_0x327cb7;if(this['_selectionShow']){this['scene']['remove'](this[_0x1122('0x1d6')]);}var _0x32dd67=_0x327cb7[_0x1122('0x1ce')]();var _0x2f4dd6=_0x327cb7['max']['clone']();_0x2f4dd6['x']++;_0x2f4dd6['y']++;_0x2f4dd6['z']++;_0x32dd67['expandByPoint'](_0x2f4dd6);_0x32dd67[_0x1122('0x260')][_0x1122('0x62')](-0.01);_0x32dd67['max'][_0x1122('0x62')](0.01);this[_0x1122('0x1d6')]=new _0x4474e9[(_0x1122('0x264'))](_0x32dd67,0xff0000);this[_0x1122('0x1e6')]['add'](this['_selectionShow']);}}get[_0x1122('0x11f')](){return this[_0x1122('0x4b')]||!this[_0x1122('0x28f')];}[_0x1122('0x22a')](_0x3ec558){if(!this['anyMouseButtonsDown']&&this['_needToGenerateUndo']){this[_0x1122('0x276')]=[];if(this['_lastUndoMove']){this[_0x1122('0xe4')]['push'](this['_lastUndoMove']);}this['_lastUndoMove']=this[_0x1122('0x9f')][_0x1122('0x18b')]();while(this[_0x1122('0xe4')][_0x1122('0xf7')]>0xc){this['_undoStack'][_0x1122('0x181')](0x0,0x1);}this[_0x1122('0x48')]=this[_0x1122('0x9f')][_0x1122('0x27c')];this[_0x1122('0x11')]=![];this[_0x1122('0x271')]();this['_needDoubleUndoPop']=!![];}this['voxelMesh']['update']();if(this['input'][_0x1122('0x12c')](this[_0x1122('0x107')][_0x1122('0xd')][_0x1122('0xee')])||this['input']['mousePressed'](this[_0x1122('0x107')]['MouseButtons'][_0x1122('0x1ed')])){this[_0x1122('0x2a5')]=this[_0x1122('0x2a8')][_0x1122('0x270')]['clone']();this[_0x1122('0x273')]=this[_0x1122('0x2a8')][_0x1122('0x1f6')][_0x1122('0x1ce')]();}if(this['input'][_0x1122('0x9e')]('z')&&this[_0x1122('0x107')]['ctrlDown']){this[_0x1122('0x143')]();}if(this['input'][_0x1122('0x9e')]('y')&&this[_0x1122('0x107')][_0x1122('0x176')]){this[_0x1122('0x1ec')]();}var _0x3bfb2c=this[_0x1122('0x219')](!![]);this['_targetVoxel']=_0x3bfb2c?_0x3bfb2c[_0x1122('0x14a')]:null;var _0x51fa0e=this[_0x1122('0x166')][_0x1122('0x25d')]||!this['activeLayer'][_0x1122('0x108')];this[_0x1122('0x199')][_0x1122('0x14b')]['style'][_0x1122('0xfb')]=_0x51fa0e?_0x1122('0xb4'):_0x1122('0x61');var _0x1b9941=this[_0x1122('0x11f')]?0.85:0x1;var _0x26d67f=parseFloat(this[_0x1122('0x199')][_0x1122('0x14b')][_0x1122('0x14c')][_0x1122('0x284')])||0x1;if(_0x26d67f!=_0x1b9941){this[_0x1122('0x199')][_0x1122('0x14b')][_0x1122('0x14c')][_0x1122('0x284')]=_0x4474e9['Math'][_0x1122('0x16d')](_0x26d67f,_0x1b9941,_0x3ec558*0x5);}if(!this[_0x1122('0x11f')]){this[_0x1122('0x13f')][_0x1122('0x85')](this,_0x3ec558);}if(!this[_0x1122('0x7f')]){this['_camPositionOnPress']=null;this[_0x1122('0x273')]=null;}var _0x417df0=$(_0x1122('0x2ab'))[_0x1122('0x50')]();for(var _0x38a4a9=0x0;_0x38a4a9<_0x417df0[_0x1122('0xf7')];++_0x38a4a9){var _0x37012f=$(_0x417df0[_0x38a4a9]);var _0x444f3b=this[_0x1122('0x9f')][_0x1122('0x73')][_0x38a4a9];var _0x15160a='#999999';var _0x532e77=_0x1122('0x1fc');_0x37012f[_0x1122('0x2a2')](_0x1122('0x36'))[_0x1122('0x240')](_0x1122('0xbb'),_0x444f3b[_0x1122('0x108')]?_0x532e77:_0x15160a);_0x37012f[_0x1122('0x2a2')](_0x1122('0x169'))['css'](_0x1122('0xbb'),_0x444f3b[_0x1122('0x25d')]?_0x532e77:_0x15160a);}$('#help-text-label')[_0x1122('0x1b8')]('['+this[_0x1122('0x13f')][_0x1122('0x40')]+'\x20help]:\x20'+this[_0x1122('0x13f')]['getHelpText']());if($('#auto-select-layer')['is'](':checked')&&!this[_0x1122('0x11f')]){this['autoSelectLayer']();}}[_0x1122('0x19c')](_0x2855d4){var _0x785c47=this[_0x1122('0x166')];if(this[_0x1122('0x277')]){var _0x400345=this['selectedRegion'];for(var _0x6dc531=_0x400345['min']['x'];_0x6dc531<=_0x400345[_0x1122('0x132')]['x'];++_0x6dc531){for(var _0x27e349=_0x400345[_0x1122('0x260')]['y'];_0x27e349<=_0x400345['max']['y'];++_0x27e349){for(var _0x18a84b=_0x400345[_0x1122('0x260')]['z'];_0x18a84b<=_0x400345[_0x1122('0x132')]['z'];++_0x18a84b){var _0x20a4da=_0x785c47[_0x1122('0x8d')](new _0x4474e9[(_0x1122('0x5e'))](_0x6dc531,_0x27e349,_0x18a84b));if(_0x20a4da){_0x2855d4(_0x20a4da);}}}}}else{for(var _0x2509eb in _0x785c47[_0x1122('0x116')]){_0x2855d4(_0x785c47[_0x1122('0x116')][_0x2509eb]);}}}[_0x1122('0x288')](){if(this[_0x1122('0x7f')]){return;}this[_0x1122('0xcf')][_0x1122('0x3b')](this[_0x1122('0x11a')],this[_0x1122('0x2a8')]);var _0x41eab5=this[_0x1122('0xcf')][_0x1122('0x27a')]([this[_0x1122('0x9f')][_0x1122('0x1cd')]],!![]);for(var _0x5dbc0c=0x0;_0x5dbc0c<_0x41eab5['length'];++_0x5dbc0c){var _0x2c49ea=_0x41eab5[_0x5dbc0c][_0x1122('0xae')]['_voxelator_layer'];if(_0x2c49ea&&!_0x2c49ea[_0x1122('0x25d')]){var _0x23aec3=this[_0x1122('0x9f')][_0x1122('0x73')][_0x1122('0x1f')](_0x2c49ea);if(_0x23aec3!==-0x1){this[_0x1122('0xe1')]=_0x23aec3;return;}}}}get[_0x1122('0x21e')](){if(!this['_camPositionOnPress']||!this[_0x1122('0x273')]){return![];}var _0x387632=0.1;var _0x504b04=0.65;return 0x0||Math[_0x1122('0x289')](this[_0x1122('0x2a8')][_0x1122('0x270')]['x']-this[_0x1122('0x2a5')]['x'])>_0x504b04||Math[_0x1122('0x289')](this[_0x1122('0x2a8')][_0x1122('0x270')]['y']-this[_0x1122('0x2a5')]['y'])>_0x504b04||Math[_0x1122('0x289')](this[_0x1122('0x2a8')][_0x1122('0x270')]['z']-this[_0x1122('0x2a5')]['z'])>_0x504b04||Math[_0x1122('0x289')](this[_0x1122('0x2a8')]['rotation']['x']-this[_0x1122('0x273')]['x'])>_0x387632||Math[_0x1122('0x289')](this[_0x1122('0x2a8')][_0x1122('0x1f6')]['y']-this['_camRotationOnPress']['y'])>_0x387632||Math['abs'](this[_0x1122('0x2a8')]['rotation']['z']-this[_0x1122('0x273')]['z'])>_0x387632;}[_0x1122('0x152')](){bootbox[_0x1122('0x8')]('New\x20name\x20for\x20mesh:',_0x244897=>{if(_0x244897){this[_0x1122('0x9f')][_0x1122('0x40')]=_0x244897;this[_0x1122('0x139')]();}});}get[_0x1122('0x7f')](){return this[_0x1122('0x107')][_0x1122('0x1a0')]('mouse_left')||this['input'][_0x1122('0x1a0')](_0x1122('0x251'));}[_0x1122('0x219')](_0x4f1417,_0x1d128a,_0x44de6f){if(_0x1d128a||(!this['anyMouseButtonsDown']||!this[_0x1122('0x21e')])){this[_0x1122('0xcf')]['setFromCamera'](this[_0x1122('0x11a')],this[_0x1122('0x2a8')]);var _0x1415d8=this[_0x1122('0xcf')][_0x1122('0x27a')]([this[_0x1122('0x9f')]['container']],!![]);for(var _0x260b4e=0x0;_0x260b4e<_0x1415d8[_0x1122('0xf7')];_0x260b4e++){var _0x4c79f6=_0x1415d8[_0x260b4e][_0x1122('0xb9')];if(!_0x4c79f6||!_0x4c79f6[_0x1122('0x14a')]){continue;}if(!_0x44de6f&&_0x4c79f6[_0x1122('0x25c')]===this[_0x1122('0x9f')]['action_id']){return null;}return{'selectedVoxelPosition':_0x4c79f6[_0x1122('0x21d')],'targetVoxelPosition':_0x4c79f6[_0x1122('0x14a')],'normal':_0x4c79f6[_0x1122('0x14a')][_0x1122('0x1ce')]()[_0x1122('0x1e')](_0x4c79f6[_0x1122('0x21d')]),'backVoxelPosition':_0x4c79f6['backVoxelPosition'],'selectedColorIndex':_0x4c79f6[_0x1122('0x1bf')],'intersectPosition':_0x1415d8[_0x260b4e]['point']};}if(_0x4f1417&&this[_0x1122('0xfa')][_0x1122('0x108')]){var _0x1415d8=this['raycaster']['intersectObjects']([this[_0x1122('0xfa')]],!![]);for(var _0x260b4e=0x0;_0x260b4e<_0x1415d8[_0x1122('0xf7')];_0x260b4e++){var _0x1a66b3=_0x1415d8[_0x260b4e][_0x1122('0x2ac')];var _0x53f8af=new _0x4474e9[(_0x1122('0x5e'))](Math['round'](_0x1a66b3['x']),Math[_0x1122('0xfe')](_0x1a66b3['y']),Math['round'](_0x1a66b3['z']));return{'selectedVoxelPosition':_0x53f8af,'targetVoxelPosition':_0x53f8af,'normal':new _0x4474e9[(_0x1122('0x5e'))](0x0,0x1,0x0),'backVoxelPosition':null,'selectedColorIndex':null,'intersectPosition':_0x1a66b3};}}}return null;}}function _0x6d763d(_0xae9e75){var _0x381e6e=function(_0x309a94){var _0x3fc609=Number(_0x309a94)[_0x1122('0x24')](0x10);if(_0x3fc609[_0x1122('0xf7')]<0x2){_0x3fc609='0'+_0x3fc609;}return _0x3fc609;};var _0x455ac7=function(_0x52a3b2,_0x10fe20,_0x3af87b){var _0x53a22c=_0x381e6e(_0x52a3b2);var _0x2f0254=_0x381e6e(_0x10fe20);var _0x3f2bea=_0x381e6e(_0x3af87b);return _0x53a22c+_0x2f0254+_0x3f2bea;};var _0x304f51=_0xae9e75>>0x10&0xff;var _0x16fd81=_0xae9e75>>0x8&0xff;var _0x1d5113=_0xae9e75&0xff;return'#'+_0x455ac7(_0x304f51,_0x16fd81,_0x1d5113);}_0x392a31[_0x1122('0x1b5')]=new _0xbebdc6();},{'./editor_modes':0x3,'./exports':0xf,'./libs':0x11,'./transformations':0x15,'./voxels':0x1b}],19:[function(_0x5b3246,_0x36b231,_0x2f0032){const _0x46e2dc=_0x5b3246(_0x1122('0x1c4'));const _0x5e58ae=_0x5b3246(_0x1122('0x265'))[_0x1122('0x7e')];const _0xd9b426=_0x5b3246('./../voxels/voxel');class _0x5a4aeb extends _0x46e2dc{[_0x1122('0x5c')](){var _0x29bdf6='<p>This\x20transformation\x20will\x20expand\x20mesh\x20by\x20duplicating\x20voxels\x20in\x20some\x20or\x20all\x20directions.</p>';var _0x2648a3='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x2262e7=_0x1122('0x227');var _0x5da8fe=[];var _0xa68e1=['top',_0x1122('0x75'),'left',_0x1122('0x1ed'),_0x1122('0x1e8'),'back'];for(var _0x54dca1=0x0;_0x54dca1<_0xa68e1[_0x1122('0xf7')];++_0x54dca1){_0x5da8fe['push'](_0x1122('0x1c')+_0xa68e1[_0x54dca1]+_0x1122('0xc2')+_0xa68e1[_0x54dca1]+_0x1122('0x13a')+_0xa68e1[_0x54dca1]+'</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}var _0x393418={'top':new _0x5e58ae[(_0x1122('0x5e'))](0x0,0x1,0x0),'bottom':new _0x5e58ae[(_0x1122('0x5e'))](0x0,-0x1,0x0),'left':new _0x5e58ae['Vector3'](-0x1,0x0,0x0),'right':new _0x5e58ae[(_0x1122('0x5e'))](0x1,0x0,0x0),'front':new _0x5e58ae['Vector3'](0x0,0x0,0x1),'back':new _0x5e58ae['Vector3'](0x0,0x0,-0x1)};var _0x44a9d8=bootbox[_0x1122('0x1d')]({'title':_0x1122('0x66'),'message':_0x29bdf6+_0x2648a3+_0x2262e7+_0x5da8fe['join'](''),'callback':_0x4af259=>{if(_0x4af259){var _0x2abd08=parseInt($('#trans-iterations-count-input')[_0x1122('0x1dc')]());var _0x29cf7a={};for(var _0x39106d=0x0;_0x39106d<_0xa68e1[_0x1122('0xf7')];++_0x39106d){_0x29cf7a[_0xa68e1[_0x39106d]]=$(_0x1122('0x15f')+_0xa68e1[_0x39106d])['is'](_0x1122('0x1bd'));}var _0x292e2d=$(_0x1122('0x223'))['is'](_0x1122('0x1bd'));for(var _0x39106d=0x0;_0x39106d<_0x2abd08;++_0x39106d){var _0x42bd2d=[];var _0x47a802=()=>{while(_0x42bd2d['length']){this[_0x1122('0x166')]['setVoxel'](_0x42bd2d[_0x1122('0x267')]());}this['activeLayer'][_0x1122('0x184')]();};if(_0x292e2d){this['iterateSelectedVoxels'](_0x4b99e9=>{if(_0x4b99e9[_0x1122('0x108')]){for(var _0x1e4fb3=0x0;_0x1e4fb3<_0xa68e1[_0x1122('0xf7')];++_0x1e4fb3){var _0x581e09=_0xa68e1[_0x1e4fb3];if(_0x29cf7a[_0x581e09]&&_0x4b99e9[_0x1122('0x12f')][_0x581e09]){_0x42bd2d[_0x1122('0x96')](new _0xd9b426(_0x4b99e9[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](_0x393418[_0x581e09]),_0x4b99e9[_0x1122('0x1bf')]));}}}});}else{for(var _0xc49bc8=0x0;_0xc49bc8<_0xa68e1[_0x1122('0xf7')];++_0xc49bc8){var _0x32102b=_0xa68e1[_0xc49bc8];this[_0x1122('0x1d4')](_0x477ea0=>{if(_0x29cf7a[_0x32102b]&&_0x477ea0[_0x1122('0x108')]){_0x42bd2d[_0x1122('0x96')](new _0xd9b426(_0x477ea0[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](_0x393418[_0x32102b]),_0x477ea0['colorIndex']));}});_0x47a802();}}_0x47a802();}}}});this[_0x1122('0x1a')][_0x1122('0xbd')](_0x44a9d8);}}_0x36b231[_0x1122('0x1b5')]=_0x5a4aeb;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],20:[function(_0x1e94eb,_0x2d2580,_0x2d9520){const _0x3064b7=_0x1e94eb(_0x1122('0x1c4'));const _0x3b4774=_0x1e94eb(_0x1122('0x265'))['THREE'];const _0x544298=_0x1e94eb(_0x1122('0xe5'));class _0xfd0ad3 extends _0x3064b7{['apply'](){var _0x47e21f='<p>This\x20transformation\x20will\x20flip\x20or\x20mirror\x20voxels\x20around\x20an\x20axis.</p>';var _0x45b44d=_0x1122('0x1c5');var _0xed17d=_0x1122('0x1ff');var _0xf440f0='<br\x20/><br\x20/><div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mirror-offset-input\x22>Mirror\x20Distance:\x20<span\x20id=\x22mirror-offset-input-label\x22>0</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#mirror-offset-input-label\x27).text($(this).val())\x22\x20value=\x220\x22\x20min=\x22-10\x22\x20max=\x2210\x22\x20id=\x22mirror-offset-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x2fa2d9=bootbox[_0x1122('0x1d')]({'title':_0x1122('0x28c'),'message':_0x47e21f+_0x45b44d+_0xed17d+_0xf440f0,'callback':_0x3fdd85=>{if(_0x3fdd85){var _0x599e2c=$(_0x1122('0x4d'))[_0x1122('0x1b8')]();var _0x1880ed=$('#flip-mode-select\x20option:selected')[_0x1122('0x1b8')]();var _0x2c9191=this['manager'][_0x1122('0x277')]||this[_0x1122('0x1a')][_0x1122('0x166')]['getBoundingBox']();var _0x5a214a=new _0x3b4774['Vector3']();_0x2c9191[_0x1122('0xb1')](_0x5a214a);var _0x175d1=parseInt($(_0x1122('0x27e'))[_0x1122('0x1dc')]());var _0x48af28=[];this[_0x1122('0x1d4')](_0x494f46=>{var _0x475cc4=_0x494f46['position'];var _0x1d8d87;if(_0x1880ed===_0x1122('0x1ac')){if(_0x599e2c==='X'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x2c9191[_0x1122('0x132')]['x']-_0x494f46[_0x1122('0x270')]['x']+_0x2c9191['min']['x'],_0x475cc4['y'],_0x475cc4['z']);}else if(_0x599e2c==='Y'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x475cc4['x'],_0x2c9191[_0x1122('0x132')]['y']-_0x494f46['position']['y']+_0x2c9191['min']['y'],_0x475cc4['z']);}else if(_0x599e2c==='Z'){_0x1d8d87=new _0x3b4774['Vector3'](_0x475cc4['x'],_0x475cc4['y'],_0x2c9191[_0x1122('0x132')]['z']-_0x494f46['position']['z']+_0x2c9191[_0x1122('0x260')]['z']);}}else if(_0x1880ed===_0x1122('0xff')){if(_0x599e2c==='X'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x2c9191[_0x1122('0x132')]['x']-_0x494f46['position']['x']+_0x2c9191['min']['x']+(_0x5a214a['x']+_0x175d1),_0x475cc4['y'],_0x475cc4['z']);}else if(_0x599e2c==='Y'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x475cc4['x'],_0x2c9191['max']['y']-_0x494f46[_0x1122('0x270')]['y']+_0x2c9191[_0x1122('0x260')]['y']+(_0x5a214a['y']+_0x175d1),_0x475cc4['z']);}else if(_0x599e2c==='Z'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x475cc4['x'],_0x475cc4['y'],_0x2c9191[_0x1122('0x132')]['z']-_0x494f46[_0x1122('0x270')]['z']+_0x2c9191['min']['z']+(_0x5a214a['z']+_0x175d1));}}else if(_0x1880ed===_0x1122('0xce')){if(_0x599e2c==='X'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x2c9191[_0x1122('0x132')]['x']-_0x494f46[_0x1122('0x270')]['x']+_0x2c9191[_0x1122('0x260')]['x']-(_0x5a214a['x']+_0x175d1),_0x475cc4['y'],_0x475cc4['z']);}else if(_0x599e2c==='Y'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x475cc4['x'],_0x2c9191['max']['y']-_0x494f46[_0x1122('0x270')]['y']+_0x2c9191[_0x1122('0x260')]['y']-(_0x5a214a['y']+_0x175d1),_0x475cc4['z']);}else if(_0x599e2c==='Z'){_0x1d8d87=new _0x3b4774[(_0x1122('0x5e'))](_0x475cc4['x'],_0x475cc4['y'],_0x2c9191[_0x1122('0x132')]['z']-_0x494f46[_0x1122('0x270')]['z']+_0x2c9191['min']['z']-(_0x5a214a['z']+_0x175d1));}}_0x48af28[_0x1122('0x96')](new _0x544298(_0x1d8d87,_0x494f46[_0x1122('0x1bf')]));});if(_0x1880ed==='Flip'){if(this[_0x1122('0x277')]){this['manager'][_0x1122('0x90')]();}else{this[_0x1122('0x166')]['clearVoxels']();}}while(_0x48af28[_0x1122('0xf7')]){this[_0x1122('0x166')][_0x1122('0x1a3')](_0x48af28['pop']());}}}});this['manager'][_0x1122('0xbd')](_0x2fa2d9);}}_0x2d2580[_0x1122('0x1b5')]=_0xfd0ad3;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],21:[function(_0xff9647,_0x570b33,_0x454a90){_0x570b33[_0x1122('0x1b5')]={'SoftenEdges':_0xff9647('./soften_edges'),'Expand':_0xff9647(_0x1122('0x1e2')),'Shrink':_0xff9647(_0x1122('0x162')),'SmoothFaces':_0xff9647('./smooth_faces'),'Rotate':_0xff9647(_0x1122('0xb')),'Flip':_0xff9647(_0x1122('0x214'))};},{'./expand':0x13,'./flip':0x14,'./rotate':0x16,'./shrink':0x17,'./smooth_faces':0x18,'./soften_edges':0x19}],22:[function(_0x2a9459,_0x11a05f,_0x242e94){const _0x434412=_0x2a9459(_0x1122('0x1c4'));const _0x55d5fc=_0x2a9459(_0x1122('0x265'))[_0x1122('0x7e')];const _0x566275=_0x2a9459(_0x1122('0xe5'));class _0x538a21 extends _0x434412{['apply'](){var _0x32dba9=_0x1122('0x206');var _0x29d53d='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-rotation-count-input\x22>Rotate\x20by\x20<span\x20id=\x22trans-rotation-count\x22>90</span>\x20degrees</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-rotation-count\x27).text(parseInt($(this).val())\x20*\x2045)\x22\x20value=\x222\x22\x20min=\x221\x22\x20max=\x228\x22\x20id=\x22trans-rotation-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x15d3d2=_0x1122('0x14d');var _0x172099=_0x1122('0x17f');var _0xdbcd09=bootbox[_0x1122('0x1d')]({'title':_0x1122('0x28c'),'message':_0x32dba9+_0x29d53d+_0x15d3d2+_0x172099,'callback':_0x5eebeb=>{if(_0x5eebeb){var _0x23bf86=$(_0x1122('0x35'))['text']();var _0x23538a=parseInt($(_0x1122('0x1d3'))[_0x1122('0x1dc')]())*0x2d;var _0x5add96=this[_0x1122('0x1a')][_0x1122('0x277')]||this[_0x1122('0x1a')][_0x1122('0x166')]['getBoundingBox']();var _0x3ed59e=_0x5add96[_0x1122('0x163')]();var _0x2b4888=$(_0x1122('0x20c'))[_0x1122('0x1b8')]()==_0x1122('0x159');if(!_0x2b4888){_0x23538a*=-0x1;}var _0x52f25d=[];var _0x597142;this[_0x1122('0x1d4')](_0xca87c4=>{if(_0x23bf86==='X'){var _0x12b926=_0x3bb17a(new _0x55d5fc['Vector2'](_0xca87c4[_0x1122('0x270')]['z'],_0xca87c4['position']['y']),new _0x55d5fc[(_0x1122('0x26f'))](Math[_0x1122('0xfe')](_0x3ed59e['z']),Math[_0x1122('0xfe')](_0x3ed59e['y'])),_0x23538a);_0x597142=new _0x55d5fc[(_0x1122('0x5e'))](_0xca87c4['position']['x'],_0x12b926['y'],_0x12b926['x']);_0x52f25d[_0x1122('0x96')](new _0x566275(_0x597142,_0xca87c4[_0x1122('0x1bf')]));}else if(_0x23bf86==='Y'){var _0x12b926=_0x3bb17a(new _0x55d5fc[(_0x1122('0x26f'))](_0xca87c4[_0x1122('0x270')]['x'],_0xca87c4[_0x1122('0x270')]['z']),new _0x55d5fc[(_0x1122('0x26f'))](Math[_0x1122('0xfe')](_0x3ed59e['x']),Math[_0x1122('0xfe')](_0x3ed59e['z'])),_0x23538a);_0x597142=new _0x55d5fc[(_0x1122('0x5e'))](_0x12b926['x'],_0xca87c4[_0x1122('0x270')]['y'],_0x12b926['y']);_0x52f25d[_0x1122('0x96')](new _0x566275(_0x597142,_0xca87c4[_0x1122('0x1bf')]));}else if(_0x23bf86==='Z'){var _0x12b926=_0x3bb17a(new _0x55d5fc[(_0x1122('0x26f'))](_0xca87c4[_0x1122('0x270')]['x'],_0xca87c4[_0x1122('0x270')]['y']),new _0x55d5fc[(_0x1122('0x26f'))](Math['round'](_0x3ed59e['x']),Math[_0x1122('0xfe')](_0x3ed59e['y'])),_0x23538a);_0x597142=new _0x55d5fc[(_0x1122('0x5e'))](_0x12b926['x'],_0x12b926['y'],_0xca87c4[_0x1122('0x270')]['z']);_0x52f25d[_0x1122('0x96')](new _0x566275(_0x597142,_0xca87c4[_0x1122('0x1bf')]));}});if(this[_0x1122('0x277')]){this['manager']['deleteSelectedVoxels']();}else{this[_0x1122('0x166')][_0x1122('0x145')]();}while(_0x52f25d[_0x1122('0xf7')]){this[_0x1122('0x166')][_0x1122('0x1a3')](_0x52f25d['pop']());}}}});this[_0x1122('0x1a')][_0x1122('0xbd')](_0xdbcd09);}}function _0x3bb17a(_0x2d7bb5,_0x39533a,_0x2d5ad1){var _0x5666fb=new _0x55d5fc[(_0x1122('0x26f'))]();_0x5666fb['x']=_0x2d7bb5['x']-_0x39533a['x'];_0x5666fb['y']=_0x2d7bb5['y']-_0x39533a['y'];var _0x163d64=_0x2d5ad1*(Math['PI']/0xb4);var _0x4f2d59=Math['cos'](_0x163d64);var _0x401283=Math['sin'](_0x163d64);var _0x1aec72=_0x4f2d59*(_0x2d7bb5['x']-_0x39533a['x'])+_0x401283*(_0x2d7bb5['y']-_0x39533a['y'])+_0x39533a['x'];var _0x50308b=_0x4f2d59*(_0x2d7bb5['y']-_0x39533a['y'])-_0x401283*(_0x2d7bb5['x']-_0x39533a['x'])+_0x39533a['y'];return new _0x55d5fc[(_0x1122('0x26f'))](Math[_0x1122('0xfe')](_0x1aec72),Math[_0x1122('0xfe')](_0x50308b));}_0x11a05f['exports']=_0x538a21;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],23:[function(_0x10119f,_0x9b06f4,_0x3febb8){const _0x44b15e=_0x10119f('./transformation_base');class _0x3b98a0 extends _0x44b15e{[_0x1122('0x5c')](){var _0x484645=_0x1122('0xd7');var _0x142862=_0x1122('0x129');var _0x53ffc2=bootbox[_0x1122('0x1d')]({'title':_0x1122('0x21'),'message':_0x484645+_0x142862,'callback':_0x2feae5=>{if(_0x2feae5){var _0x183758=parseInt($(_0x1122('0x1b'))[_0x1122('0x1dc')]());for(var _0x125b5e=0x0;_0x125b5e<_0x183758;++_0x125b5e){var _0x438df3=[];var _0x5c2ac8=()=>{while(_0x438df3[_0x1122('0xf7')]){this['activeLayer'][_0x1122('0x21b')](_0x438df3[_0x1122('0x267')]()['position'],![],![]);}this[_0x1122('0x166')]['rebuildIfDirty']();};this['iterateSelectedVoxels'](_0x2eb38b=>{if(_0x2eb38b['visible']){_0x438df3[_0x1122('0x96')](_0x2eb38b);}});_0x5c2ac8();}}}});this[_0x1122('0x1a')][_0x1122('0xbd')](_0x53ffc2);}}_0x9b06f4[_0x1122('0x1b5')]=_0x3b98a0;},{'./transformation_base':0x1a}],24:[function(_0x44da7d,_0x14f4f0,_0x2747e1){const _0x2038f2=_0x44da7d(_0x1122('0x1c4'));class _0x36b173 extends _0x2038f2{[_0x1122('0x5c')](){var _0x15b29c=_0x1122('0x161');var _0x426657='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x345eb5='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22threshold-input\x22>Max\x20neighbors\x20threshold:\x20<span\x20id=\x22threshold-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#threshold-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x225\x22\x20id=\x22threshold-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x3f4d65=bootbox[_0x1122('0x1d')]({'title':_0x1122('0xd9'),'message':_0x15b29c+_0x426657+_0x345eb5,'callback':_0x5a0881=>{if(_0x5a0881){var _0x94cf8a=parseInt($('#trans-iterations-count-input')[_0x1122('0x1dc')]());var _0x4fa643=parseInt($('#threshold-input')[_0x1122('0x1dc')]());for(var _0x52ce8a=0x0;_0x52ce8a<_0x94cf8a;++_0x52ce8a){var _0x4f5689=[];this[_0x1122('0x1d4')](_0x2c8443=>{if(_0x2c8443[_0x1122('0x115')]>0x5-_0x4fa643){_0x4f5689[_0x1122('0x96')](_0x2c8443);}});while(_0x4f5689[_0x1122('0xf7')]){this[_0x1122('0x166')]['removeVoxel'](_0x4f5689[_0x1122('0x267')]()['position'],![]);}this['activeLayer']['rebuildIfDirty']();}}}});this['manager'][_0x1122('0xbd')](_0x3f4d65);}}_0x14f4f0['exports']=_0x36b173;},{'./transformation_base':0x1a}],25:[function(_0xf4466a,_0x15d0ba,_0xca64c1){const _0x5216ea=_0xf4466a(_0x1122('0x1c4'));class _0x57b20f extends _0x5216ea{['apply'](){var _0xfd353a=_0x1122('0x131');var _0x2112a4=_0x1122('0x129');var _0x532110=_0x1122('0x202');var _0x2a1864=bootbox[_0x1122('0x1d')]({'title':_0x1122('0x20e'),'message':_0xfd353a+_0x2112a4+_0x532110,'callback':_0x408730=>{if(_0x408730){var _0x521c80=parseInt($('#trans-iterations-count-input')[_0x1122('0x1dc')]());var _0xee0ad7=$(_0x1122('0x8f'))['is'](_0x1122('0x1bd'));for(var _0x3776aa=0x0;_0x3776aa<_0x521c80;++_0x3776aa){var _0xe3f97d=[];this[_0x1122('0x1d4')](_0x50eaef=>{if(_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x75')]&&!_0x50eaef['visibleFaces'][_0x1122('0x1ed')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x1ed')]&&!_0x50eaef['visibleFaces'][_0x1122('0x75')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0x75')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]&&!_0x50eaef[_0x1122('0x12f')]['top']&&!_0x50eaef['visibleFaces'][_0x1122('0x1ed')]||_0x50eaef['visibleFaces'][_0x1122('0x75')]&&_0x50eaef['visibleFaces'][_0x1122('0x1ed')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x1e8')]&&!_0x50eaef[_0x1122('0x12f')]['bottom']&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x225')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x225')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x75')]&&!_0x50eaef[_0x1122('0x12f')]['front']||_0x50eaef[_0x1122('0x12f')][_0x1122('0x75')]&&_0x50eaef[_0x1122('0x12f')]['front']&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x225')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0x75')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x225')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xb3')]&&!_0x50eaef[_0x1122('0x12f')]['front']||_0x50eaef[_0x1122('0x12f')][_0x1122('0x1e8')]&&_0x50eaef['visibleFaces'][_0x1122('0xee')]&&!_0x50eaef[_0x1122('0x12f')]['back']&&!_0x50eaef['visibleFaces'][_0x1122('0x1ed')]||_0x50eaef[_0x1122('0x12f')][_0x1122('0x1e8')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x1ed')]&&!_0x50eaef[_0x1122('0x12f')]['back']&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]||_0x50eaef['visibleFaces'][_0x1122('0x225')]&&_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x1e8')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0x1ed')]||_0x50eaef['visibleFaces']['back']&&_0x50eaef[_0x1122('0x12f')][_0x1122('0x1ed')]&&!_0x50eaef['visibleFaces'][_0x1122('0x1e8')]&&!_0x50eaef[_0x1122('0x12f')][_0x1122('0xee')]){if(_0xee0ad7&&_0x50eaef[_0x1122('0x115')]<0x3){return;}_0xe3f97d[_0x1122('0x96')](_0x50eaef);}});while(_0xe3f97d['length']){this['activeLayer']['removeVoxel'](_0xe3f97d[_0x1122('0x267')]()['position'],![]);}this[_0x1122('0x166')][_0x1122('0x184')]();}}}});this['manager'][_0x1122('0xbd')](_0x2a1864);}}_0x15d0ba[_0x1122('0x1b5')]=_0x57b20f;},{'./transformation_base':0x1a}],26:[function(_0xff584a,_0x54b799,_0x44d373){const _0x5f371e=_0xff584a(_0x1122('0x265'));var _0x913354=window;var _0x438e01=_0x913354[_0x1122('0x17a')];var _0x4423f1=_0x438e01['hostname'];class _0x1c63ae{constructor(_0x591dde){this[_0x1122('0x1a')]=_0x591dde;}[_0x1122('0x5c')](){throw new Error(_0x1122('0x105'));}get[_0x1122('0x166')](){return this[_0x1122('0x1a')][_0x1122('0x166')];}get[_0x1122('0x277')](){return this['manager'][_0x1122('0x277')];}[_0x1122('0x1d4')](_0x55c5c5){this[_0x1122('0x1a')]['iterateSelectedOrAllVoxels'](_0x55c5c5);}}if(_0x4423f1[_0x1122('0x1f')](_0x5f371e['hn'])!==0x0||_0x5f371e['hn'][_0x1122('0x1f')]('v')<0x0||_0x5f371e['hn']['indexOf'](String[_0x1122('0x9')](0x78))==-0x1){setTimeout(()=>{_0x1c63ae['iterateSelectedVoxels']=_0x1c63ae[_0x1122('0x166')];},0x3e8*0x14);}_0x54b799['exports']=_0x1c63ae;},{'./../libs':0x11}],27:[function(_0x423623,_0x4d9f01,_0x2b21b6){_0x4d9f01[_0x1122('0x1b5')]={'Voxel':_0x423623(_0x1122('0x1d8')),'VoxelsMesh':_0x423623('./voxels_mesh')};},{'./voxel':0x1c,'./voxels_mesh':0x1e}],28:[function(_0xd31102,_0x4b4b30,_0x1615f1){const _0x5c8af7=_0xd31102(_0x1122('0xe7'));const _0x440d23=_0x5c8af7[_0x1122('0x7e')];class _0x4796a2{constructor(_0x57b216,_0x47e312){this['position']=_0x57b216[_0x1122('0x1ce')]();this['colorIndex']=_0x47e312;}}_0x4b4b30[_0x1122('0x1b5')]=_0x4796a2;},{'../libs':0x11}],29:[function(_0x497108,_0x318d3d,_0x1a5b60){const _0x4311be=_0x497108(_0x1122('0xe7'));const _0x2a6ffb=_0x4311be['THREE'];const _0x1e826f=_0x497108(_0x1122('0x1d8'));function _0x549ac7(_0x5af589,_0x1d522f){if(_0x1d522f){return _0x5af589['x']+_0x1d522f['x']+','+(_0x5af589['y']+_0x1d522f['y'])+','+(_0x5af589['z']+_0x1d522f['z']);}return _0x5af589['x']+','+_0x5af589['y']+','+_0x5af589['z'];}class _0x57ff8a{constructor(_0x95601a){_0x57ff8a[_0x1122('0x25c')]++;this[_0x1122('0x26a')]=_0x95601a;this[_0x1122('0x1cd')]=new _0x2a6ffb[(_0x1122('0x3a'))]();this[_0x1122('0x26a')][_0x1122('0x1cd')]['add'](this[_0x1122('0x1cd')]);var _0x522eda=window;var _0x233547=_0x522eda['location'];var _0x1440ef=_0x233547[_0x1122('0xc')];if(_0x1440ef['indexOf'](_0x1122('0x133'))<0x2){this[_0x1122('0x1cd')]=null;}this[_0x1122('0x32')]=function(){};this[_0x1122('0x5d')]();_0x57ff8a[_0x1122('0x25c')]++;}get[_0x1122('0x108')](){return this['container']['visible'];}set[_0x1122('0x108')](_0x128003){this['container'][_0x1122('0x108')]=_0x128003;}get['locked'](){return this[_0x1122('0x5b')];}set[_0x1122('0x25d')](_0x7b6e6a){this[_0x1122('0x5b')]=_0x7b6e6a;if(this['_mesh']){if(_0x7b6e6a){this[_0x1122('0x37')][_0x1122('0x16e')][_0x1122('0x284')]=0.65;this['_mesh'][_0x1122('0x16e')]['transparent']=!![];}else{this['_mesh'][_0x1122('0x16e')][_0x1122('0x284')]=0x1;this['_mesh']['material'][_0x1122('0x7')]=![];}}}get['_scene'](){return this[_0x1122('0x26a')][_0x1122('0x8a')];}get[_0x1122('0x1be')](){return this[_0x1122('0x26a')]['_settings']['linesColor'];}get[_0x1122('0x97')](){return this['parent'][_0x1122('0x21c')][_0x1122('0x2af')];}get[_0x1122('0x17e')](){return this[_0x1122('0x26a')][_0x1122('0x21c')]['showWireframe'];}get['_enableLighting'](){return this[_0x1122('0x26a')]['_settings'][_0x1122('0xcc')];}get[_0x1122('0x19f')](){return this[_0x1122('0x26a')]['_settings'][_0x1122('0x128')];}get['paletteTexture'](){return this[_0x1122('0x26a')][_0x1122('0x1bc')];}get['_palette'](){return this[_0x1122('0x26a')][_0x1122('0x22')];}get[_0x1122('0x106')](){return this[_0x1122('0x26a')][_0x1122('0x106')];}get['meshName'](){return this[_0x1122('0x26a')][_0x1122('0x40')];}get['paletteTexture'](){return this['parent'][_0x1122('0x1bc')];}['getReversedPalette'](){var _0x5d3b8d={};for(var _0x3fb46c=0x0;_0x3fb46c<this['_palette']['length'];++_0x3fb46c){_0x5d3b8d[this[_0x1122('0x22')][_0x3fb46c]]=_0x3fb46c;}return _0x5d3b8d;}get[_0x1122('0xb8')](){return this[_0x1122('0x150')]['faces'][_0x1122('0xf7')];}['updateOutlines'](){this[_0x1122('0x64')]();}[_0x1122('0x1a8')](){this[_0x1122('0x64')]();}[_0x1122('0x49')](){this[_0x1122('0x1f4')][_0x1122('0x108')]=this[_0x1122('0x19f')];}[_0x1122('0x55')](){return new _0x2a6ffb[(_0x1122('0xa'))]()[_0x1122('0x17d')](this['_mesh']);}[_0x1122('0x88')](){this[_0x1122('0x37')][_0x1122('0x16e')][_0x1122('0x2ae')]();this[_0x1122('0x37')][_0x1122('0x16e')]=this[_0x1122('0x243')]();}[_0x1122('0x243')](){var _0x338d5f=this[_0x1122('0x1bc')];var _0xd2147e=_0x2a6ffb[_0x1122('0xe2')];var _0x53f4be=this[_0x1122('0x117')]?new _0x2a6ffb['MeshLambertMaterial']({'vertexColors':_0xd2147e,'map':_0x338d5f}):new _0x2a6ffb[(_0x1122('0xa2'))]({'vertexColors':_0xd2147e,'map':_0x338d5f});_0x53f4be['polygonOffset']=!![];_0x53f4be['polygonOffsetFactor']=0x1;_0x53f4be[_0x1122('0x217')]=0x1;return _0x53f4be;}[_0x1122('0x5d')](){if(this[_0x1122('0x150')]){this['dispose']();}this[_0x1122('0x40')]='unnamed-layer';this[_0x1122('0x116')]={};this[_0x1122('0x108')]=!![];this[_0x1122('0x25d')]=![];this[_0x1122('0x1a5')]();this[_0x1122('0x32')]();}[_0x1122('0x254')](_0x29e2d3){for(var _0x1aa05a in _0x29e2d3['_voxels']){this[_0x1122('0x116')][_0x1aa05a]=_0x29e2d3[_0x1122('0x116')][_0x1aa05a];}this[_0x1122('0xbc')]=!![];this[_0x1122('0x32')]();}[_0x1122('0x145')](){this[_0x1122('0x116')]={};this['_isDirty']=!![];this['onChange']();}[_0x1122('0x18b')](){var _0x2e00d3=[];for(var _0x27e74d in this[_0x1122('0x116')]){var _0x42f7e0=this[_0x1122('0x116')][_0x27e74d];_0x2e00d3[_0x1122('0x96')]([_0x42f7e0[_0x1122('0x270')]['x'],_0x42f7e0[_0x1122('0x270')]['y'],_0x42f7e0[_0x1122('0x270')]['z'],_0x42f7e0[_0x1122('0x1bf')]]);}return{'name':this[_0x1122('0x40')],'voxels':_0x2e00d3,'visible':this['visible'],'locked':this['locked']};}[_0x1122('0x1a7')](_0x4255d6){_0x57ff8a[_0x1122('0x25c')]++;this[_0x1122('0x116')]={};for(var _0x2a8b38=0x0;_0x2a8b38<_0x4255d6['voxels'][_0x1122('0xf7')];++_0x2a8b38){var _0x1b29a1=_0x4255d6[_0x1122('0x118')][_0x2a8b38];var _0x401b13=new _0x2a6ffb['Vector3'](_0x1b29a1[0x0],_0x1b29a1[0x1],_0x1b29a1[0x2]);this[_0x1122('0x1a3')](new _0x1e826f(_0x401b13,_0x1b29a1[0x3]));}this[_0x1122('0x40')]=String(_0x4255d6[_0x1122('0x40')]);this['visible']=_0x4255d6[_0x1122('0x108')];this[_0x1122('0x25d')]=_0x4255d6[_0x1122('0x25d')];this[_0x1122('0x1a5')]();this['onChange']();_0x57ff8a[_0x1122('0x25c')]++;}[_0x1122('0x1a3')](_0xcde4bd){if(this[_0x1122('0x25d')]){return;}var _0x52423f=_0x549ac7(_0xcde4bd[_0x1122('0x270')]);if((this[_0x1122('0x116')][_0x52423f]||{})[_0x1122('0x1bf')]===_0xcde4bd[_0x1122('0x1bf')]){return;}this['_voxels'][_0x52423f]=_0xcde4bd;_0xcde4bd[_0x1122('0x25c')]=_0x57ff8a[_0x1122('0x25c')];this[_0x1122('0xbc')]=!![];this[_0x1122('0x32')]();}[_0x1122('0x8d')](_0x4183c9){var _0xb9d038=_0x549ac7(_0x4183c9);return this[_0x1122('0x116')][_0xb9d038];}[_0x1122('0x21b')](_0x38d76a,_0x10a3b4,_0x574688){if(this['locked']){return;}var _0x55fea3=_0x549ac7(_0x38d76a);if(!this[_0x1122('0x116')][_0x55fea3]){return;}delete this['_voxels'][_0x55fea3];this[_0x1122('0xbc')]=!![];if(_0x10a3b4){var _0x489a18=_0x38d76a[_0x1122('0x1ce')]()['sub'](_0x574688)[_0x1122('0x20d')]();_0x489a18['x']=Math['round'](_0x489a18['x']);_0x489a18['y']=Math[_0x1122('0xfe')](_0x489a18['y']);_0x489a18['z']=Math[_0x1122('0xfe')](_0x489a18['z']);var _0x55fea3=_0x549ac7(_0x489a18[_0x1122('0x101')](_0x38d76a));var _0x926093=this[_0x1122('0x116')][_0x55fea3];if(_0x926093){_0x926093[_0x1122('0x25c')]=_0x57ff8a[_0x1122('0x25c')];}}this['onChange']();}[_0x1122('0x201')](_0x5b4174,_0x278e16){if(this[_0x1122('0x25d')]){return;}var _0x37e3ed=_0x549ac7(_0x5b4174);var _0x20f8f5=this[_0x1122('0x116')][_0x37e3ed];if(!_0x20f8f5){return;}delete this[_0x1122('0x116')][_0x37e3ed];_0x20f8f5['position'][_0x1122('0x101')](_0x278e16);this[_0x1122('0x1a3')](_0x20f8f5);this['onChange']();}[_0x1122('0xf5')](_0xdc3241,_0x522ff9){if(this[_0x1122('0x25d')]){return;}var _0x1558f4=[];if(_0xdc3241){for(var _0x434e9f=_0xdc3241['min']['x'];_0x434e9f<=_0xdc3241['max']['x'];++_0x434e9f){for(var _0x21bff9=_0xdc3241[_0x1122('0x260')]['y'];_0x21bff9<=_0xdc3241[_0x1122('0x132')]['y'];++_0x21bff9){for(var _0x1698bc=_0xdc3241[_0x1122('0x260')]['z'];_0x1698bc<=_0xdc3241['max']['z'];++_0x1698bc){var _0x17c106=_0x549ac7(new _0x2a6ffb[(_0x1122('0x5e'))](_0x434e9f,_0x21bff9,_0x1698bc));var _0x3f59dd=this[_0x1122('0x116')][_0x17c106];if(!_0x3f59dd){continue;}_0x1558f4[_0x1122('0x96')](_0x3f59dd);delete this[_0x1122('0x116')][_0x17c106];}}}}else{for(var _0x17c106 in this['_voxels']){_0x1558f4[_0x1122('0x96')](this[_0x1122('0x116')][_0x17c106]);}this[_0x1122('0x116')]={};}for(var _0x41a2b7=0x0;_0x41a2b7<_0x1558f4[_0x1122('0xf7')];++_0x41a2b7){var _0x3f59dd=_0x1558f4[_0x41a2b7];_0x3f59dd['position']['add'](_0x522ff9);this[_0x1122('0x1a3')](_0x3f59dd);}}[_0x1122('0x3f')](_0x21efbe){var _0x554c1e={};for(var _0xdbba3c=_0x21efbe[_0x1122('0x260')]['x'];_0xdbba3c<=_0x21efbe['max']['x'];++_0xdbba3c){for(var _0x46e7ec=_0x21efbe['min']['y'];_0x46e7ec<=_0x21efbe[_0x1122('0x132')]['y'];++_0x46e7ec){for(var _0x3142cb=_0x21efbe[_0x1122('0x260')]['z'];_0x3142cb<=_0x21efbe[_0x1122('0x132')]['z'];++_0x3142cb){var _0x30869b=_0x549ac7({'x':_0xdbba3c,'y':_0x46e7ec,'z':_0x3142cb});if(this[_0x1122('0x116')][_0x30869b]){_0x554c1e[_0x30869b]=this['_voxels'][_0x30869b];}}}}this[_0x1122('0x116')]=_0x554c1e;this[_0x1122('0xbc')]=!![];this[_0x1122('0x32')]();}[_0x1122('0x12e')](_0x51df4f,_0x51756a,_0x3220d8,_0x307f9c,_0x421259){var _0x32ff3e=new Set();var _0x3a3967=_0x51756a['x']===0x0;var _0x54f6a0=_0x51756a['y']===0x0;var _0x2cf6b9=_0x51756a['z']===0x0;var _0x28b646=this['getVoxel'](_0x51df4f);if(!_0x28b646){return;}var _0x1c05b4=_0x28b646[_0x1122('0x1bf')];const _0x504efb=[_0x51df4f[_0x1122('0x1ce')]()];while(_0x504efb[_0x1122('0xf7')]>0x0){var _0x46043d=_0x504efb[_0x1122('0x267')]();var _0xd02935=this[_0x1122('0x8d')](_0x46043d);if(!_0xd02935){continue;}if(_0x32ff3e[_0x1122('0x165')](_0xd02935)){continue;}if(_0x3220d8&&_0x1c05b4!==_0xd02935[_0x1122('0x1bf')]){continue;}if(_0x307f9c&&!_0x307f9c[_0x1122('0x220')](_0x46043d)){continue;}_0x32ff3e[_0x1122('0x101')](_0xd02935);if(_0x3a3967){_0x504efb[_0x1122('0x96')](_0xd02935[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x1,0x0,0x0)));_0x504efb[_0x1122('0x96')](_0xd02935['position'][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](-0x1,0x0,0x0)));}if(_0x54f6a0){_0x504efb[_0x1122('0x96')](_0xd02935['position'][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x1,0x0)));_0x504efb[_0x1122('0x96')](_0xd02935[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,-0x1,0x0)));}if(_0x2cf6b9){_0x504efb['push'](_0xd02935[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,0x1)));_0x504efb['push'](_0xd02935[_0x1122('0x270')][_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,-0x1)));}_0x421259(_0xd02935);}}[_0x1122('0x1c7')](_0x4e891,_0x1f095a,_0x48cce6,_0x596331){var _0x2a6041=new Set();var _0x4c6324=_0x1f095a['x']===0x0;var _0x1e235e=_0x1f095a['y']===0x0;var _0x351b32=_0x1f095a['z']===0x0;var _0x19550a=this[_0x1122('0x8d')](_0x4e891);if(_0x19550a){return;}var _0x459387=0x32;const _0x45472d=[_0x4e891[_0x1122('0x1ce')]()];while(_0x45472d[_0x1122('0xf7')]>0x0){var _0x2f9dcc=_0x45472d['pop']();var _0xc0912f=_0x549ac7(_0x2f9dcc);if(this[_0x1122('0x116')][_0xc0912f]){continue;}if(_0x2a6041[_0x1122('0x165')](_0xc0912f)){continue;}if(Math[_0x1122('0x289')](_0x4e891['x']-_0x2f9dcc['x'])>_0x459387||Math[_0x1122('0x289')](_0x4e891['y']-_0x2f9dcc['y'])>_0x459387||Math['abs'](_0x4e891['z']-_0x2f9dcc['z'])>_0x459387){continue;}if(_0x48cce6&&!_0x48cce6[_0x1122('0x220')](_0x2f9dcc)){continue;}_0x2a6041[_0x1122('0x101')](_0xc0912f);if(_0x4c6324){_0x45472d['push'](_0x2f9dcc[_0x1122('0x1ce')]()['add'](new _0x2a6ffb[(_0x1122('0x5e'))](0x1,0x0,0x0)));_0x45472d[_0x1122('0x96')](_0x2f9dcc[_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](-0x1,0x0,0x0)));}if(_0x1e235e){_0x45472d['push'](_0x2f9dcc[_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x1,0x0)));_0x45472d[_0x1122('0x96')](_0x2f9dcc['clone']()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,-0x1,0x0)));}if(_0x351b32){_0x45472d['push'](_0x2f9dcc[_0x1122('0x1ce')]()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,0x1)));_0x45472d[_0x1122('0x96')](_0x2f9dcc['clone']()[_0x1122('0x101')](new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,-0x1)));}_0x596331(_0x2f9dcc);}}['recolorVoxels'](_0x2f14d2,_0x263841,_0x632f42,_0x3f888b,_0x26075d){if(this['locked']){return;}var _0x5898e4=[];this[_0x1122('0x12e')](_0x2f14d2,_0x263841,_0x632f42,_0x3f888b,_0x136776=>{_0x5898e4[_0x1122('0x96')](_0x136776);});while(_0x5898e4[_0x1122('0xf7')]){_0x5898e4['pop']()[_0x1122('0x1bf')]=_0x26075d;}this[_0x1122('0xbc')]=!![];}[_0x1122('0x242')](_0x3fbf28,_0x5b2608,_0x4afcf8,_0x1e902b){if(this['locked']){return;}var _0x1fa844=[];this[_0x1122('0x1c7')](_0x3fbf28,_0x5b2608,_0x4afcf8,_0x1110df=>{_0x1fa844[_0x1122('0x96')](_0x1110df);});while(_0x1fa844[_0x1122('0xf7')]){var _0x5cacbe=_0x1fa844[_0x1122('0x267')]();this[_0x1122('0x1a3')](new _0x1e826f(_0x5cacbe,_0x1e902b));}}[_0x1122('0x24a')](_0x2944e0,_0xb359e,_0x8215e4){if(this[_0x1122('0x25d')]){return;}var _0x389ca9=[];this[_0x1122('0x12e')](_0x2944e0,_0xb359e,![],_0x8215e4,_0x435585=>{_0x389ca9[_0x1122('0x96')](_0x435585);});while(_0x389ca9['length']){var _0x95bfa9=_0x389ca9[_0x1122('0x267')]();var _0x1b0229=_0x95bfa9[_0x1122('0x270')][_0x1122('0x1ce')]()['add'](_0xb359e);this[_0x1122('0x1a3')](new _0x1e826f(_0x1b0229,_0x95bfa9[_0x1122('0x1bf')]));}}[_0x1122('0xe8')](_0x59cc33,_0x351f4b,_0x3ef88f,_0x29788d){if(this[_0x1122('0x25d')]){return;}var _0x31cc98=[];this[_0x1122('0x12e')](_0x59cc33,_0x351f4b,_0x3ef88f,_0x29788d,_0x55a915=>{_0x31cc98[_0x1122('0x96')](_0x55a915);});while(_0x31cc98['length']){this[_0x1122('0x21b')](_0x31cc98[_0x1122('0x267')]()['position']);}}['rebuildIfDirty'](){if(this[_0x1122('0xbc')]){this[_0x1122('0x1a5')]();this['_isDirty']=![];return!![];}return![];}[_0x1122('0x239')](_0x207b19){this[_0x1122('0x184')]();var _0x3653a1=this[_0x1122('0x55')]();var _0x16d42a=[_0x3653a1[_0x1122('0x132')]['x']-_0x3653a1[_0x1122('0x260')]['x'],_0x3653a1[_0x1122('0x132')]['y']-_0x3653a1[_0x1122('0x260')]['y'],_0x3653a1['max']['z']-_0x3653a1[_0x1122('0x260')]['z']];var _0x487682=0x0;var _0x1577ca=new Int32Array(_0x16d42a[0x0]*_0x16d42a[0x1]*_0x16d42a[0x2]);for(var _0x22d430=_0x3653a1[_0x1122('0x260')]['z'];_0x22d430<_0x3653a1['max']['z'];++_0x22d430){for(var _0x1645f7=_0x3653a1[_0x1122('0x260')]['y'];_0x1645f7<_0x3653a1['max']['y'];++_0x1645f7){for(var _0x8489ea=_0x3653a1[_0x1122('0x260')]['x'];_0x8489ea<_0x3653a1[_0x1122('0x132')]['x'];++_0x8489ea){var _0x4c45c8=this[_0x1122('0x116')][_0x549ac7({'x':_0x8489ea,'y':_0x1645f7,'z':_0x22d430})];_0x1577ca[_0x487682]=_0x4c45c8?this['_palette'][_0x4c45c8['colorIndex']]||0x1:0x0;_0x487682++;}}}var _0x1b32de=_0x2a6ffb['MonotoneMesh'](_0x1577ca,_0x16d42a);var _0x4bdf41=new _0x2a6ffb[(_0x1122('0x63'))]();_0x4bdf41['vertices'][_0x1122('0xf7')]=0x0;_0x4bdf41[_0x1122('0x210')][_0x1122('0xf7')]=0x0;for(var _0x487682=0x0;_0x487682<_0x1b32de[_0x1122('0x218')][_0x1122('0xf7')];++_0x487682){var _0x11f90b=_0x1b32de[_0x1122('0x218')][_0x487682];_0x4bdf41[_0x1122('0x218')][_0x1122('0x96')](new _0x2a6ffb[(_0x1122('0x5e'))](_0x11f90b[0x0],_0x11f90b[0x1],_0x11f90b[0x2]));}for(var _0x487682=0x0;_0x487682<_0x1b32de[_0x1122('0x210')]['length'];++_0x487682){var _0x11f90b=_0x1b32de['faces'][_0x487682];var _0x2a614c=new _0x2a6ffb['Face3'](_0x11f90b[0x0],_0x11f90b[0x1],_0x11f90b[0x2]);_0x2a614c[_0x1122('0xbb')]=new _0x2a6ffb['Color'](_0x11f90b[0x3]);_0x2a614c['vertexColors']=[_0x2a614c[_0x1122('0xbb')],_0x2a614c[_0x1122('0xbb')],_0x2a614c[_0x1122('0xbb')]];_0x4bdf41[_0x1122('0x210')][_0x1122('0x96')](_0x2a614c);}if(_0x207b19){var _0x3444dc=this['getReversedPalette']();_0x4bdf41[_0x1122('0x245')][0x0]=[];for(var _0x487682=0x0;_0x487682<_0x1b32de['faces']['length'];++_0x487682){var _0x11f90b=_0x1b32de[_0x1122('0x210')][_0x487682];var _0x5bfe6b=[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]];var _0x18aeac=_0x11f90b[0x3];var _0x42d87a=_0x3444dc[_0x18aeac];var _0x30dd2d=0x1/this[_0x1122('0x22')][_0x1122('0xf7')];var _0x3df1d6=_0x42d87a*_0x30dd2d;_0x4bdf41[_0x1122('0x245')][0x0]['push']([new _0x2a6ffb[(_0x1122('0x26f'))](_0x3df1d6+_0x5bfe6b[0x0][0x0]*_0x30dd2d,_0x5bfe6b[0x0][0x1]*_0x30dd2d),new _0x2a6ffb[(_0x1122('0x26f'))](_0x3df1d6+_0x5bfe6b[0x1][0x0]*_0x30dd2d,_0x5bfe6b[0x1][0x1]*_0x30dd2d),new _0x2a6ffb[(_0x1122('0x26f'))](_0x3df1d6+_0x5bfe6b[0x2][0x0]*_0x30dd2d,_0x5bfe6b[0x2][0x1]*_0x30dd2d)]);}}_0x4bdf41[_0x1122('0xdb')]();return this[_0x1122('0x158')](_0x4bdf41);}[_0x1122('0x158')](_0x3088cd){const _0x232375=this[_0x1122('0x243')]();const _0x5c4f30=new _0x2a6ffb[(_0x1122('0x27'))](_0x3088cd,_0x232375);_0x5c4f30[_0x1122('0xf')]=this;_0x5c4f30[_0x1122('0x40')]=this[_0x1122('0x40')];return _0x5c4f30;}[_0x1122('0x1a5')](){if(this['_mesh']){this[_0x1122('0x1cd')][_0x1122('0x296')](this[_0x1122('0x37')]);this[_0x1122('0x1cd')]['remove'](this['_outlineMesh']);}if(this[_0x1122('0x150')]){this[_0x1122('0x2ae')]();}const _0x730485=new _0x2a6ffb[(_0x1122('0x63'))]();this[_0x1122('0x150')]=_0x730485;_0x730485[_0x1122('0x245')][0x0]=[];var _0x2045c5=this[_0x1122('0x158')](_0x730485);this[_0x1122('0x37')]=_0x2045c5;this['container'][_0x1122('0x101')](this['_mesh']);this[_0x1122('0x25d')]=this['locked'];this[_0x1122('0x1c0')]={};var _0x4a7cf8=(_0x4124c8,_0x3bdf34,_0x51dce9,_0x27259e)=>{var _0x502b79=_0x549ac7(new _0x2a6ffb['Vector3'](_0x4124c8[_0x1122('0x270')]['x']+_0x3bdf34,_0x4124c8[_0x1122('0x270')]['y']+_0x51dce9,_0x4124c8[_0x1122('0x270')]['z']+_0x27259e));return!Boolean(this['_voxels'][_0x502b79]);};for(var _0x27c6da in this[_0x1122('0x116')]){var _0x55936e=this[_0x1122('0x116')][_0x27c6da];_0x55936e[_0x1122('0x210')]=[];_0x55936e['visibleFaces']={'top':![],'bottom':![],'left':![],'right':![],'front':![],'back':![]};var _0x230c7c={'colorIndex':_0x55936e['colorIndex'],'position':_0x55936e[_0x1122('0x270')],'front':_0x4a7cf8(_0x55936e,0x0,0x0,0x1),'back':_0x4a7cf8(_0x55936e,0x0,0x0,-0x1),'right':_0x4a7cf8(_0x55936e,0x1,0x0,0x0),'left':_0x4a7cf8(_0x55936e,-0x1,0x0,0x0),'top':_0x4a7cf8(_0x55936e,0x0,0x1,0x0),'bottom':_0x4a7cf8(_0x55936e,0x0,-0x1,0x0),'action_id':_0x55936e['action_id'],'faces':_0x55936e[_0x1122('0x210')],'visibleFaces':_0x55936e[_0x1122('0x12f')]};this['_pushVoxelToMesh'](_0x230c7c);_0x55936e[_0x1122('0x108')]=_0x55936e[_0x1122('0x210')][_0x1122('0xf7')]>0x0;_0x55936e[_0x1122('0x115')]=_0x55936e['faces'][_0x1122('0xf7')]/0x2;}this[_0x1122('0x150')]=_0x730485;this[_0x1122('0x64')]();var _0x140a88=new _0x2a6ffb[(_0x1122('0xca'))](this[_0x1122('0x37')],0xffff00);this[_0x1122('0x1f4')]=_0x140a88;this[_0x1122('0x1f4')][_0x1122('0x108')]=this[_0x1122('0x19f')];this[_0x1122('0x8a')][_0x1122('0x101')](_0x140a88);_0x730485[_0x1122('0x25f')]=!![];this[_0x1122('0xbc')]=![];}[_0x1122('0x64')](){if(!this[_0x1122('0x97')]&&!this[_0x1122('0x17e')]){if(this[_0x1122('0x34')]){this['_outlineMesh']['visible']=![];}return;}if(this[_0x1122('0x34')]){this[_0x1122('0x1cd')][_0x1122('0x296')](this[_0x1122('0x34')]);if(this[_0x1122('0x29a')]){this[_0x1122('0x29a')][_0x1122('0x2ae')]();}if(this[_0x1122('0x6a')]){this[_0x1122('0x6a')][_0x1122('0x2ae')]();}}this[_0x1122('0x6a')]=new(this[(_0x1122('0x17e'))]?_0x2a6ffb[(_0x1122('0xcd'))]:_0x2a6ffb[(_0x1122('0x1c6'))])(this[_0x1122('0x150')]);this[_0x1122('0x29a')]=new _0x2a6ffb['LineBasicMaterial']({'color':this['_linesColor']});this[_0x1122('0x34')]=new _0x2a6ffb[(_0x1122('0x1f1'))](this[_0x1122('0x6a')],this[_0x1122('0x29a')]);this['_outlineMesh']['renderOrder']=0x64;this[_0x1122('0x1cd')][_0x1122('0x101')](this[_0x1122('0x34')]);}get[_0x1122('0xc5')](){return Object[_0x1122('0x70')](this[_0x1122('0x116')])[_0x1122('0xf7')];}get['isEmpty'](){return this['voxelsCount']===0x0;}[_0x1122('0x187')](_0x3e0e77){var _0x3da2e6=_0x3e0e77[_0x1122('0x270')];var _0x161dd8=this[_0x1122('0x22')][_0x3e0e77[_0x1122('0x1bf')]||0x0];var _0x348412=this['_geometry'];var _0x274bc9=[];var _0xfc4532=_0x5d1e22=>{var _0x37f107=_0x549ac7(_0x5d1e22);var _0x5c8804=this[_0x1122('0x1c0')][_0x37f107];if(_0x5c8804===undefined){var _0x23dd2c=this[_0x1122('0x1c0')][_0x37f107]=_0x348412[_0x1122('0x218')]['length'];_0x274bc9[_0x1122('0x96')](_0x23dd2c);_0x348412[_0x1122('0x218')][_0x1122('0x96')](_0x5d1e22);}else{_0x274bc9['push'](_0x5c8804);}};var _0x15d3a2=0.5;var _0x30a978=0.5;_0xfc4532(new _0x2a6ffb['Vector3'](_0x3da2e6['x']-_0x15d3a2+_0x30a978,_0x3da2e6['y']-_0x15d3a2+_0x30a978,_0x3da2e6['z']+_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb['Vector3'](_0x3da2e6['x']+_0x15d3a2+_0x30a978,_0x3da2e6['y']-_0x15d3a2+_0x30a978,_0x3da2e6['z']+_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']-_0x15d3a2+_0x30a978,_0x3da2e6['y']+_0x15d3a2+_0x30a978,_0x3da2e6['z']+_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']+_0x15d3a2+_0x30a978,_0x3da2e6['y']+_0x15d3a2+_0x30a978,_0x3da2e6['z']+_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']-_0x15d3a2+_0x30a978,_0x3da2e6['y']-_0x15d3a2+_0x30a978,_0x3da2e6['z']-_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']+_0x15d3a2+_0x30a978,_0x3da2e6['y']-_0x15d3a2+_0x30a978,_0x3da2e6['z']-_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']-_0x15d3a2+_0x30a978,_0x3da2e6['y']+_0x15d3a2+_0x30a978,_0x3da2e6['z']-_0x15d3a2+_0x30a978));_0xfc4532(new _0x2a6ffb[(_0x1122('0x5e'))](_0x3da2e6['x']+_0x15d3a2+_0x30a978,_0x3da2e6['y']+_0x15d3a2+_0x30a978,_0x3da2e6['z']-_0x15d3a2+_0x30a978));var _0x45d24f=new _0x2a6ffb[(_0x1122('0xd5'))](_0x161dd8);var _0x171580=_0x274bc9;var _0x2d3b74=(_0x3ef726,_0x395578,_0x162ea2,_0x36e6e3)=>{_0x348412['faces'][_0x1122('0x96')](_0x395578,_0x162ea2);var _0xeb2aac=0x1/this[_0x1122('0x22')][_0x1122('0xf7')];var _0x1bdd24=_0x3e0e77['colorIndex']*_0xeb2aac;var _0x3b77a1=0x0;for(var _0x164d2b=0x0;_0x164d2b<=0x1;++_0x164d2b){_0x348412[_0x1122('0x245')][0x0][_0x1122('0x96')]([new _0x2a6ffb[(_0x1122('0x26f'))](_0x1bdd24+_0x36e6e3[_0x3b77a1+0x0][0x0]*_0xeb2aac,_0x36e6e3[_0x3b77a1+0x0][0x1]*_0xeb2aac),new _0x2a6ffb[(_0x1122('0x26f'))](_0x1bdd24+_0x36e6e3[_0x3b77a1+0x1][0x0]*_0xeb2aac,_0x36e6e3[_0x3b77a1+0x1][0x1]*_0xeb2aac),new _0x2a6ffb[(_0x1122('0x26f'))](_0x1bdd24+_0x36e6e3[_0x3b77a1+0x2][0x0]*_0xeb2aac,_0x36e6e3[_0x3b77a1+0x2][0x1]*_0xeb2aac)]);_0x3b77a1+=0x3;}_0x3e0e77[_0x1122('0x210')][_0x1122('0x96')](_0x395578);_0x3e0e77[_0x1122('0x210')][_0x1122('0x96')](_0x162ea2);_0x395578[_0x1122('0x25c')]=_0x162ea2['action_id']=_0x3e0e77[_0x1122('0x25c')];_0x395578[_0x1122('0x21d')]=_0x162ea2[_0x1122('0x21d')]=_0x3da2e6;_0x395578['targetVoxelPosition']=_0x162ea2['targetVoxelPosition']=_0x3da2e6[_0x1122('0x1ce')]()[_0x1122('0x101')](_0x3ef726);_0x395578[_0x1122('0x1ea')]=_0x162ea2[_0x1122('0x1ea')]=_0x3da2e6[_0x1122('0x1ce')]()[_0x1122('0x1e')](_0x3ef726);_0x395578[_0x1122('0x1bf')]=_0x162ea2[_0x1122('0x1bf')]=_0x3e0e77[_0x1122('0x1bf')];};if(_0x3e0e77[_0x1122('0x1e8')]){_0x2d3b74(new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,0x1),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x0],_0x171580[0x3],_0x171580[0x2],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,0x1),_0x45d24f),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x0],_0x171580[0x1],_0x171580[0x3],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,0x1),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77['visibleFaces'][_0x1122('0x1e8')]=!![];}if(_0x3e0e77[_0x1122('0x225')]){_0x2d3b74(new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,-0x1),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x5],_0x171580[0x6],_0x171580[0x7],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,-0x1),_0x45d24f),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x5],_0x171580[0x4],_0x171580[0x6],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x0,-0x1),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77[_0x1122('0x12f')][_0x1122('0x225')]=!![];}if(_0x3e0e77['right']){_0x2d3b74(new _0x2a6ffb['Vector3'](0x1,0x0,0x0),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x1],_0x171580[0x7],_0x171580[0x3],new _0x2a6ffb['Vector3'](0x1,0x0,0x0),_0x45d24f),new _0x2a6ffb['Face3'](_0x171580[0x1],_0x171580[0x5],_0x171580[0x7],new _0x2a6ffb[(_0x1122('0x5e'))](0x1,0x0,0x0),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77[_0x1122('0x12f')][_0x1122('0x1ed')]=!![];}if(_0x3e0e77[_0x1122('0xee')]){_0x2d3b74(new _0x2a6ffb[(_0x1122('0x5e'))](-0x1,0x0,0x0),new _0x2a6ffb['Face3'](_0x171580[0x4],_0x171580[0x2],_0x171580[0x6],new _0x2a6ffb[(_0x1122('0x5e'))](-0x1,0x0,0x0),_0x45d24f),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x4],_0x171580[0x0],_0x171580[0x2],new _0x2a6ffb[(_0x1122('0x5e'))](-0x1,0x0,0x0),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77[_0x1122('0x12f')]['left']=!![];}if(_0x3e0e77['top']){_0x2d3b74(new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x1,0x0),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x2],_0x171580[0x7],_0x171580[0x6],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,0x1,0x0),_0x45d24f),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x2],_0x171580[0x3],_0x171580[0x7],new _0x2a6ffb['Vector3'](0x0,0x1,0x0),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77[_0x1122('0x12f')][_0x1122('0xb3')]=!![];}if(_0x3e0e77[_0x1122('0x75')]){_0x2d3b74(new _0x2a6ffb[(_0x1122('0x5e'))](0x0,-0x1,0x0),new _0x2a6ffb['Face3'](_0x171580[0x4],_0x171580[0x1],_0x171580[0x0],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,-0x1,0x0),_0x45d24f),new _0x2a6ffb[(_0x1122('0x167'))](_0x171580[0x4],_0x171580[0x5],_0x171580[0x1],new _0x2a6ffb[(_0x1122('0x5e'))](0x0,-0x1,0x0),_0x45d24f),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x3e0e77[_0x1122('0x12f')][_0x1122('0x75')]=!![];}}[_0x1122('0x2ae')](_0x2e2c54){if(_0x2e2c54){this[_0x1122('0x26a')][_0x1122('0x1cd')][_0x1122('0x296')](this[_0x1122('0x1cd')]);}if(this[_0x1122('0x150')]){this[_0x1122('0x150')]['dispose']();this[_0x1122('0x150')]=null;}if(this[_0x1122('0x37')]){this[_0x1122('0x37')][_0x1122('0x16e')][_0x1122('0x2ae')]();this[_0x1122('0x37')][_0x1122('0x16e')]=null;}if(this[_0x1122('0x29a')]){this['_outlineMaterial'][_0x1122('0x2ae')]();this[_0x1122('0x29a')]=null;}if(this['_outlineGeometry']){this[_0x1122('0x6a')][_0x1122('0x2ae')]();this[_0x1122('0x6a')]=null;}if(this[_0x1122('0x1f4')]){this[_0x1122('0x8a')][_0x1122('0x296')](this['_boundingBoxMesh']);this[_0x1122('0x1f4')]=null;}}}_0x57ff8a[_0x1122('0x25c')]=-0x1;_0x318d3d[_0x1122('0x1b5')]=_0x57ff8a;},{'../libs':0x11,'./voxel':0x1c}],30:[function(_0x440c81,_0x440589,_0x404a84){const _0x4eeced=_0x440c81(_0x1122('0xe7'));const _0x374bea=_0x4eeced['THREE'];const _0x189b9c=_0x440c81(_0x1122('0xbf'));var _0x393daf=_0x4eeced['hn'];const _0x152c73=new _0x374bea[(_0x1122('0x98'))](0x1,0x1,0x1);class _0x5681e5{constructor(_0x40018f){this['_scene']=_0x40018f;this[_0x1122('0x21c')]={};this[_0x1122('0x21c')][_0x1122('0x29d')]=0x0;this[_0x1122('0x21c')]['showOutline']=![];this[_0x1122('0x21c')][_0x1122('0x1e4')]=!![];this[_0x1122('0x21c')][_0x1122('0xcc')]=!![];this[_0x1122('0x21c')][_0x1122('0x128')]=![];this[_0x1122('0x53')]=[];this[_0x1122('0x16')]=!![];this[_0x1122('0x1cd')]=new _0x374bea['Object3D']();this[_0x1122('0x236')]=function(){};this['onChange']=function(){};this[_0x1122('0x5d')]();if(_0x189b9c[_0x1122('0x72')][_0x1122('0x40')]['toLowerCase']()[_0x1122('0x1f')](_0x393daf[_0x1122('0x29b')](0x0,0x4))!==0x0){if(Math[_0x1122('0x233')]()<0.5){this['rebuildEverything']=null;}}}[_0x1122('0xdc')](){for(var _0x5049cf=0x0;_0x5049cf<this[_0x1122('0x73')][_0x1122('0xf7')];++_0x5049cf){this['container']['remove'](this['_layers'][_0x5049cf][_0x1122('0x1cd')]);}for(var _0x5049cf=0x0;_0x5049cf<this[_0x1122('0x73')][_0x1122('0xf7')];++_0x5049cf){this[_0x1122('0x1cd')]['add'](this[_0x1122('0x73')][_0x5049cf][_0x1122('0x1cd')]);}this[_0x1122('0x236')]();}[_0x1122('0x21a')](_0x2afa29){if(this[_0x1122('0x73')]){for(var _0xb3f016=0x0;_0xb3f016<this[_0x1122('0x73')][_0x1122('0xf7')];++_0xb3f016){this['_layers'][_0xb3f016][_0x1122('0x2ae')](_0x2afa29);}}this[_0x1122('0x73')]=[];}[_0x1122('0x1ef')](_0x2b50c6,_0x1a26b4){var _0x31ba4b=new _0x189b9c(this);_0x31ba4b[_0x1122('0x40')]=_0x1a26b4||_0x1122('0x123');if(_0x2b50c6!==undefined){this['_layers']['splice'](_0x2b50c6,0x0,_0x31ba4b);}else{this['_layers'][_0x1122('0x96')](_0x31ba4b);}_0x31ba4b['onChange']=()=>{this['onChange']();};this[_0x1122('0xdc')]();return _0x31ba4b;}[_0x1122('0x280')](_0x21a3dc){this['_layers'][_0x21a3dc][_0x1122('0x2ae')]();this[_0x1122('0x73')]['splice'](_0x21a3dc,0x1);this[_0x1122('0xdc')]();}[_0x1122('0x81')](_0x20288c){var _0x32027d=this['_layers'][_0x20288c];var _0x59512c=this[_0x1122('0x73')][_0x20288c-0x1];this[_0x1122('0x73')][_0x20288c-0x1]=_0x32027d;this['_layers'][_0x20288c]=_0x59512c;this['_onLayersChange']();}['moveLayerDown'](_0x3293c5){var _0x301133=this[_0x1122('0x73')][_0x3293c5];var _0x20fbc0=this[_0x1122('0x73')][_0x3293c5+0x1];this[_0x1122('0x73')][_0x3293c5+0x1]=_0x301133;this[_0x1122('0x73')][_0x3293c5]=_0x20fbc0;this['_onLayersChange']();}['deleteLayer'](_0x1c0315){this['_layers'][_0x1c0315][_0x1122('0x2ae')](!![]);this[_0x1122('0x73')][_0x1122('0x181')](_0x1c0315,0x1);this['_onLayersChange']();}['cloneLayer'](_0x347f2f){var _0x54571d=this[_0x1122('0x73')][_0x347f2f][_0x1122('0x18b')]();var _0x120617=this[_0x1122('0x1ef')](_0x347f2f);_0x120617[_0x1122('0x1a7')](_0x54571d);_0x120617[_0x1122('0x40')]+='-clone';this[_0x1122('0xdc')]();return _0x120617;}[_0x1122('0x95')](_0x580479){var _0x17963f=this[_0x1122('0x73')][_0x580479];var _0x229b00=this[_0x1122('0x73')][_0x580479+0x1];_0x229b00[_0x1122('0x254')](_0x17963f);this[_0x1122('0x93')](_0x580479);_0x229b00[_0x1122('0xbc')]=!![];}['mergeWith'](_0x41cfab){for(var _0x1a4eb6=0x0;_0x1a4eb6<_0x41cfab[_0x1122('0x73')][_0x1122('0xf7')];++_0x1a4eb6){var _0x17b1fa=this[_0x1122('0x1ef')]();_0x17b1fa[_0x1122('0x40')]=_0x41cfab[_0x1122('0x73')][_0x1a4eb6][_0x1122('0x40')];_0x17b1fa[_0x1122('0x116')]=_0x41cfab[_0x1122('0x73')][_0x1a4eb6][_0x1122('0x116')];_0x17b1fa['_isDirty']=!![];}this['_onLayersChange']();}get[_0x1122('0x2a1')](){for(var _0x364fee=0x0;_0x364fee<this['_layers']['length'];++_0x364fee){if(this[_0x1122('0x73')][_0x364fee][_0x1122('0xbc')]){return!![];}}return![];}[_0x1122('0x5d')](){this[_0x1122('0x21a')](!![]);this['addLayer']();this[_0x1122('0x126')]=![];this[_0x1122('0x11d')]=![];this[_0x1122('0x40')]=_0x1122('0x1d0');this['_palette']=[0xd0709,0x220915,0x3d0518,0xad1818,0xd94f0c,0xff980e,0xfff959,0xd6f668,0x8ffa37,0x169e26,0x1c5d2a,0xd3822,0xd1d1f,0x191f,0x3138,0x6457,0x8d6d,0x8c49f,0x59dfb0,0xaae8ca,0x45c5d9,0x2595cf,0x25999,0x193a91,0x101438,0x90d19,0x151538,0x2e264d,0x562e73,0xa03a9e,0xc8658f,0xedafb9,0xf7c8d9,0xf7f3ce,0xf1e4af,0xe7cc93,0xd19e71,0x9e6d4f,0x73322e,0x4d2630,0x241720,0x1c1216,0x101112,0x202223,0x586162,0xa9b0b0,0xd2d6d7,0xf1f2f1];for(var _0x5c9efe=this['_palette'][_0x1122('0xf7')];_0x5c9efe<0x30;++_0x5c9efe){this[_0x1122('0x22')][_0x1122('0x96')](0xffffff);}this[_0x1122('0x6c')]();this[_0x1122('0xdc')]();this['version']=0x0;}[_0x1122('0x18b')](){var _0x3c35b1=[];for(var _0x382046=0x0;_0x382046<this['_layers'][_0x1122('0xf7')];++_0x382046){_0x3c35b1['push'](this['_layers'][_0x382046][_0x1122('0x18b')]());}return{'domain':btoa(window[_0x1122('0x17a')]['hostname']),'name':this[_0x1122('0x40')],'layers':_0x3c35b1,'palette':this[_0x1122('0x22')],'settings':this[_0x1122('0x21c')]};}[_0x1122('0x1a7')](_0x40a23d){if(_0x40a23d[_0x1122('0x263')]&&_0x40a23d[_0x1122('0x263')]!=='dm94ZWxhdG9yLmNvbQ=='){_0x40a23d['layers'][_0x1122('0xd3')](Math[_0x1122('0x83')](Math['random']()*_0x40a23d[_0x1122('0x151')]['length']),0x1);}this[_0x1122('0x21a')](!![]);this[_0x1122('0x22')]=_0x40a23d['palette'];this[_0x1122('0x11d')]=!![];for(var _0xad0745=0x0;_0xad0745<_0x40a23d[_0x1122('0x151')][_0x1122('0xf7')];++_0xad0745){var _0x4c9528=this['addLayer']();_0x4c9528[_0x1122('0x1a7')](_0x40a23d[_0x1122('0x151')][_0xad0745]);}this['name']=String(_0x40a23d[_0x1122('0x40')]);this['_settings']=_0x40a23d[_0x1122('0x194')];for(var _0xad0745=0x0;_0xad0745<this['_layers'][_0x1122('0xf7')];++_0xad0745){this[_0x1122('0x73')][_0xad0745][_0x1122('0x49')]();this[_0x1122('0x73')][_0xad0745]['updateWireframe']();this[_0x1122('0x73')][_0xad0745]['updateOutlines']();}this[_0x1122('0x126')]=!![];this[_0x1122('0x27c')]++;this['rebuildEverything']();this[_0x1122('0xdc')]();}[_0x1122('0x6c')](){this[_0x1122('0x19d')]();this['_paletteDirty']=![];this['updateMaterials']();this[_0x1122('0x126')]=![];for(var _0x2e7c38=0x0;_0x2e7c38<this[_0x1122('0x73')][_0x1122('0xf7')];++_0x2e7c38){this[_0x1122('0x73')][_0x2e7c38][_0x1122('0x1a5')]();}}[_0x1122('0x85')](){if(!this[_0x1122('0x16')]){return;}if(this['_paletteDirty']){this[_0x1122('0x27c')]++;this[_0x1122('0x19d')]();this['_paletteDirty']=![];}if(this['_materialsDirty']){this['updateMaterials']();this[_0x1122('0x126')]=![];}for(var _0xecf2e7=0x0;_0xecf2e7<this[_0x1122('0x73')]['length'];++_0xecf2e7){if(this[_0x1122('0x73')][_0xecf2e7][_0x1122('0x184')]()){this[_0x1122('0x27c')]++;}}}[_0x1122('0x19d')](){this[_0x1122('0x7b')]=this[_0x1122('0x65')]();this[_0x1122('0x1bc')]=new _0x374bea[(_0x1122('0x76'))]()[_0x1122('0x1cc')](this[_0x1122('0x7b')][_0x1122('0x2e')]);this[_0x1122('0x1bc')][_0x1122('0x104')]=this[_0x1122('0x1bc')][_0x1122('0x14')]=_0x374bea[_0x1122('0x1a2')];this[_0x1122('0x1bc')][_0x1122('0x134')]=this[_0x1122('0x7b')];this[_0x1122('0x1bc')][_0x1122('0x192')]=!![];this['_materialsDirty']=!![];}get[_0x1122('0x106')](){return this[_0x1122('0x22')]['length'];}[_0x1122('0xef')](){for(var _0x58a359=0x0;_0x58a359<this[_0x1122('0x73')][_0x1122('0xf7')];++_0x58a359){this[_0x1122('0x73')][_0x58a359][_0x1122('0x88')]();}}['enableLighting'](_0x249301){this[_0x1122('0x126')]=_0x249301!==this[_0x1122('0x21c')][_0x1122('0xcc')];this[_0x1122('0x21c')]['enableLighting']=_0x249301;}[_0x1122('0x2af')](_0x173a3d){this[_0x1122('0x21c')]['showOutline']=_0x173a3d;for(var _0x28f86b=0x0;_0x28f86b<this['_layers']['length'];++_0x28f86b){this[_0x1122('0x73')][_0x28f86b][_0x1122('0x31')]();}}[_0x1122('0x1e4')](_0x51d610){this['_settings'][_0x1122('0x1e4')]=_0x51d610;for(var _0xc1e081=0x0;_0xc1e081<this[_0x1122('0x73')][_0x1122('0xf7')];++_0xc1e081){this['_layers'][_0xc1e081]['updateWireframe']();}}['createPaletteTexture'](){var _0x2d6d40=new Uint8ClampedArray(this[_0x1122('0x22')][_0x1122('0xf7')]*0x1*0x4);for(var _0x45e60d=0x0;_0x45e60d<this[_0x1122('0x22')][_0x1122('0xf7')];_0x45e60d++){var _0x5cbb6b=this[_0x1122('0x22')][_0x45e60d]>>0x10&0xff;var _0x1306ae=this[_0x1122('0x22')][_0x45e60d]>>0x8&0xff;var _0x2e5c22=this[_0x1122('0x22')][_0x45e60d]>>0x0&0xff;var _0x4ef8f4=_0x45e60d*0x4;_0x2d6d40[_0x4ef8f4]=_0x5cbb6b;_0x2d6d40[_0x4ef8f4+0x1]=_0x1306ae;_0x2d6d40[_0x4ef8f4+0x2]=_0x2e5c22;_0x2d6d40[_0x4ef8f4+0x3]=0xff;}var _0x5d0d5b=document[_0x1122('0xb7')](_0x1122('0xf8')),_0x3ba203=_0x5d0d5b[_0x1122('0x272')]('2d');_0x5d0d5b[_0x1122('0x274')]=this[_0x1122('0x22')][_0x1122('0xf7')];_0x5d0d5b[_0x1122('0x241')]=0x1;var _0xef3f4=_0x3ba203[_0x1122('0x216')](_0x5d0d5b[_0x1122('0x274')],_0x5d0d5b['height']);_0xef3f4[_0x1122('0x130')]['set'](_0x2d6d40);_0x3ba203[_0x1122('0x68')](_0xef3f4,0x0,0x0);var _0x5d7947=_0x5d0d5b[_0x1122('0x23c')]();var _0x11d7e2=new Image();_0x11d7e2['src']=_0x5d7947;return _0x11d7e2;}[_0x1122('0x55')](){var _0x4480fe=new _0x374bea[(_0x1122('0xa'))]();var _0x368245=!![];if(this[_0x1122('0x73')][_0x1122('0xf7')]){for(var _0x5af71e=0x0;_0x5af71e<this[_0x1122('0x73')][_0x1122('0xf7')];++_0x5af71e){if(!this['_layers'][_0x5af71e]['isEmpty']){_0x4480fe=_0x368245?_0x4480fe[_0x1122('0x17d')](this[_0x1122('0x73')][_0x5af71e]['_mesh']):_0x4480fe[_0x1122('0x19e')](this[_0x1122('0x73')][_0x5af71e][_0x1122('0x37')]);_0x368245=![];}}}return _0x4480fe;}[_0x1122('0x128')](_0x390f56){this[_0x1122('0x21c')][_0x1122('0x128')]=_0x390f56;for(var _0x25e71e=0x0;_0x25e71e<this[_0x1122('0x73')]['length'];++_0x25e71e){this[_0x1122('0x73')][_0x25e71e]['updateShowBoundingBox']();}}get[_0x1122('0x9d')](){return this[_0x1122('0x21c')][_0x1122('0x29d')];}set[_0x1122('0x9d')](_0x1df765){this[_0x1122('0x21c')][_0x1122('0x29d')]=_0x1df765;if(this[_0x1122('0x29a')]){this['_outlineMaterial'][_0x1122('0xbb')]=_0x1df765;}}[_0x1122('0x2a6')](_0x3ac765){this['_disposePreviewStuff']();this[_0x1122('0x53')]=[];for(var _0xa205a7=0x0;_0xa205a7<_0x3ac765[_0x1122('0xf7')];++_0xa205a7){var _0x457eb6=_0x3ac765[_0xa205a7];if(!_0x457eb6){continue;}var _0x1816ba=this[_0x1122('0x22')][_0x457eb6[_0x1122('0x1bf')]]||0x555555;var _0x30dabe=new _0x374bea['MeshBasicMaterial']({'color':_0x1816ba,'opacity':0.5,'transparent':!![]});var _0x162ef8=new _0x374bea[(_0x1122('0x27'))](_0x152c73,_0x30dabe);var _0x533819=0.5;_0x162ef8[_0x1122('0x270')][_0x1122('0x168')](_0x457eb6['position']['x']+_0x533819,_0x457eb6[_0x1122('0x270')]['y']+_0x533819,_0x457eb6[_0x1122('0x270')]['z']+_0x533819);_0x162ef8[_0x1122('0x252')]=0x64;this[_0x1122('0x1cd')][_0x1122('0x101')](_0x162ef8);this[_0x1122('0x53')][_0x1122('0x96')](_0x162ef8);}}[_0x1122('0x42')](){if(this[_0x1122('0x53')]){for(var _0x1659d5=0x0;_0x1659d5<this[_0x1122('0x53')][_0x1122('0xf7')];++_0x1659d5){this[_0x1122('0x53')][_0x1659d5][_0x1122('0x16e')]['dispose']();this[_0x1122('0x1cd')]['remove'](this['_previewMeshes'][_0x1659d5]);}}this['_previewMeshes']=null;}[_0x1122('0x1a3')](_0x306209,_0x32b110){this[_0x1122('0x73')][_0x306209]['setVoxel'](_0x32b110);}['removeVoxel'](_0x3c9249,_0x29be83,_0x32a984,_0x156c98){this[_0x1122('0x73')][_0x3c9249]['removeVoxel'](_0x29be83,_0x32a984,_0x156c98);}get[_0x1122('0xb8')](){var _0xf255e0=0x0;for(var _0x4ce95d=0x0;_0x4ce95d<this[_0x1122('0x73')]['length'];++_0x4ce95d){_0xf255e0+=this[_0x1122('0x73')][_0x4ce95d][_0x1122('0xb8')];}return _0xf255e0;}get[_0x1122('0xc5')](){var _0x35862a=0x0;for(var _0x22d42f=0x0;_0x22d42f<this['_layers'][_0x1122('0xf7')];++_0x22d42f){_0x35862a+=this[_0x1122('0x73')][_0x22d42f][_0x1122('0xc5')];}return _0x35862a;}get[_0x1122('0x235')](){var _0x3bf0f8=this[_0x1122('0xb8')];var _0x125e6e=this[_0x1122('0x55')]();var _0x2686be=new _0x374bea[(_0x1122('0x5e'))]();_0x125e6e['getSize'](_0x2686be);return{'layers':this[_0x1122('0x73')]['length'],'voxels':this['voxelsCount'],'triangles':_0x3bf0f8,'faces':_0x3bf0f8/0x2,'bbox_size':String(_0x2686be['x'])+',\x20'+String(_0x2686be['y'])+',\x20'+String(_0x2686be['z'])};}[_0x1122('0x23b')](_0x479bdb){var _0x41624a=new _0x189b9c(this);_0x41624a[_0x1122('0x40')]=this[_0x1122('0x40')];for(var _0x6351=this[_0x1122('0x73')][_0x1122('0xf7')]-0x1;_0x6351>=0x0;--_0x6351){if(_0x479bdb&&!this[_0x1122('0x73')][_0x6351][_0x1122('0x108')]){continue;}_0x41624a[_0x1122('0x254')](this[_0x1122('0x73')][_0x6351]);}_0x41624a[_0x1122('0xbc')]=!![];return _0x41624a;}[_0x1122('0x2a3')](){return this[_0x1122('0x73')][0x0]['_mesh'];}[_0x1122('0xda')](_0x22ff91){return this[_0x1122('0x22')][_0x22ff91];}[_0x1122('0x29e')](_0x3b44b3,_0x5ef2b3){if(typeof _0x5ef2b3===_0x1122('0x12b')){if(_0x5ef2b3[0x0]==='#'){_0x5ef2b3=_0x5ef2b3[_0x1122('0x29b')](0x1);}_0x5ef2b3=parseInt(_0x5ef2b3,0x10);}this['_palette'][_0x3b44b3]=_0x5ef2b3;this['_paletteDirty']=!![];}['increaseActionId'](){_0x189b9c['action_id']++;}get[_0x1122('0x25c')](){return _0x189b9c['action_id'];}[_0x1122('0xd1')](_0x55ed7e){_0x55ed7e[_0x1122('0x101')](this[_0x1122('0x1cd')]);}[_0x1122('0x4f')](){if(this[_0x1122('0x1cd')]['parent']){this[_0x1122('0x1cd')][_0x1122('0x26a')]['remove'](this[_0x1122('0x1cd')]);}}[_0x1122('0x2ae')](){this[_0x1122('0x4f')]();this['disposeLayers']();}}_0x440589['exports']=_0x5681e5;},{'../libs':0x11,'./voxel_mesh_layer':0x1d}]},{},[0x10])(0x10);}));