var _0x199b=['#export-save-binary','Snake','intersectPosition','removeSelf','<br\x20/><br\x20/><p>Flip\x20/\x20Mirror\x20mode:</p><select\x20id=\x22flip-mode-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Flip\x22\x20selected>Flip</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Mirror\x22>Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Opposite\x20Mirror\x22>Opposite\x20Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','mouseDelta','Raycaster','Background\x20Selection','trianglesCount','<th\x20class=\x22layer-locked\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-lock\x22></i></th>','removeClass','MODULE_NOT_FOUND','#import-img-new-layer','#help-text-label','lerp','showExportModelDialog','string','static','delete','iterateSelectedVoxels','setClearColor','Crate','face','showWireframe','moveLayerUp','SNES.png','_camRotationOnPress','change','palettes/','_redoStack','equals','Target\x20Voxel:\x20','clone','./voxels','#export-optimize','updateShowBoundingBox','voxelator_preview_model','Vector3','updateStatsText','exportModel','action_id','open','removeVoxelsLayer','File\x20reading\x20started','Note:\x20vertex\x20color\x20is\x20not\x20supported\x20in\x20.stl\x20forat.\x20Choosing\x20\x27Vertex\x20Color\x27\x20will\x20result\x20in\x20colorless\x20mesh.','parent','Paint\x20Bucket','activeLayer','./manager','_outlineGeometry','./shapes_tool','activeLayerIndex','clearVoxels','cloneLayer','0x656565','updateWireframe','#continous-paint','vertex','updateOutlines','0x282828','MeshBasicMaterial','</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.layer-locked','left_arrow','Light\x20Blue\x20[default]','Smooth\x20Faces','polygonOffset','computeFlatVertexNormals','_geometry','getContext','left','selection','hostname','deleteActiveLayer','</tr>','<th\x20class=\x22layer-visible\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-eye\x22></i></th>','./flip','setItem','#redo-btn','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22soften-only-corners\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22soften-only-corners\x22>Apply\x20just\x20to\x20corners</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Note\x20this\x20checkbox\x20-\x20when\x20checked,\x20Voxelator\x20will\x20automatically\x20pick\x20the\x20layer\x20of\x20the\x20voxel\x20you\x20currently\x20point\x20on\x20with\x20your\x20cursor.','MeshLambertMaterial','canShowPreview','Voxels\x20Pencil','./exporters_base','point','<p>This\x20transformation\x20will\x20expand\x20mesh\x20by\x20duplicating\x20voxels\x20in\x20some\x20or\x20all\x20directions.</p>','serialize','./center','_camPositionOnPress','mousemove','Draw\x20predefined\x20shapes\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20create\x20selected\x20shape\x20|\x20Shift+LMB\x20remove\x20voxels\x20in\x20shape\x27s\x20region','enableUpdates','createElement','ColladaExporter','.active-layer-row','result','0xffffff','./voxels_mesh','_createMaterial','<p>Rotate\x20direction:</p><select\x20id=\x22rotate-dir-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Clockwise\x22\x20selected>Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Counter-Clockwise\x22>Counter-Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','getLeftVector','max','texture','./export_stl','mouseDown','getBoundingBox','_needDoubleUndoPop','#file-opener','down_arrow','selectEditorMode','visible','cursor','presetCamera','<br\x20/><br\x20/><div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mirror-offset-input\x22>Mirror\x20Distance:\x20<span\x20id=\x22mirror-offset-input-label\x22>0</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#mirror-offset-input-label\x27).text($(this).val())\x22\x20value=\x220\x22\x20min=\x22-10\x22\x20max=\x2210\x22\x20id=\x22mirror-offset-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','linesColor','_voxelator_layer','href','down','alert','backVoxelPosition','isDirty','_outlineMesh','New\x20name\x20for\x20mesh:','cos','Line','color','The\x20texture\x20below\x20represent\x20your\x20current\x20colors\x20palette.\x20If\x20you\x20want\x20to\x20export\x20your\x20model\x20and\x20use\x20texture\x20for\x20voxel\x20colors\x20(instead\x20of\x20vertex-color),\x20you\x20need\x20to\x20set\x20this\x20image\x20as\x20the\x20texture\x20of\x20the\x20mesh.\x20It\x20is\x20downloaded\x20automatically\x20when\x20using\x20export.','_doUpdates','Color','apply','title','onclick','_createMeshFromGeometry','show','TextureLoader','up_arrow','targetVoxelPosition','_lastRedoVersion','dispose','#import-img-modal','Select\x20groups\x20of\x20voxels\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection\x20|\x20Arrows\x20to\x20move\x20selection\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Delete\x20to\x20delete\x20voxels\x20at\x20selection','_selectedMode','./rotate','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22threshold-input\x22>Max\x20neighbors\x20threshold:\x20<span\x20id=\x22threshold-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#threshold-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x225\x22\x20id=\x22threshold-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Tree','__locked','_lastTime','_removeSelectionPreviews','Cannot\x20apply\x20transformation\x20-\x20active\x20layer\x20is\x20currently\x20','opacity','fixed','right','_imageDataToPalette','setVoxel','voxelMesh','_createPaletteElements','Invalid\x20camera\x20preset\x20key:\x20\x27','Selection\x20Tool','image/*','toString','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20layer?','length','Black','selectedRegion','centerVoxels','innerHeight','trigger','prop','#shapes-select\x20option:selected','_materialsDirty','redo','find','#center-on-','empty','onLayersChange','version','./voxels_pencil','#export-options-dropdown','doCameraControls','download','directionalLight1','active-layer-row','setSize','canvas','Disk','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22expand-to-','_pushVoxelToMesh','round','.dae','showPaletteTexture','mergeLayerToSelf','#undo-btn','0xaecfee','mode','_lastUndoMove','fillEmptyVoxels','substr','onMeshRename','The\x20\x27View\x27\x20menu\x20contains\x20Voxelator\x27s\x20display\x20and\x20rendering\x20configurations.<br/>You\x20can\x20change\x20background\x20color,\x20draw\x20geometry\x20faces,\x20enable\x20lightings,\x20ect.\x20None\x20of\x20the\x20options\x20here\x20will\x20actually\x20affect\x20the\x20output\x20file.','increaseActionId','isUiFocused','Layers:\x20layers\x20are\x20separated\x20segments\x20of\x20your\x20mesh.<br/>You\x20can\x20use\x20layers\x20to\x20apply\x20transformations\x20only\x20on\x20parts\x20of\x20your\x20model,\x20or\x20hide\x20/\x20show\x20parts\x20of\x20your\x20model\x20while\x20editing.','has','lineColors','exports','getImageData','The\x20\x27Import\x27\x20menu\x20allow\x20you\x20to\x20import\x20different\x20things,\x20like\x20image-to-palette\x20(will\x20inject\x20image\x27s\x20colors\x20into\x20your\x20current\x20palette),\x20image-to-voxels\x20(will\x20convert\x20image\x20to\x203d\x20voxels)\x20or\x20embed\x20Voxelator\x20file\x20as\x20a\x20new\x20layer\x20in\x20your\x20mesh.','clientY','#export-layers-type\x20option:selected','isEmpty','getSelectedRegionOrWholeLayer','\x22>Expand\x20','files','val','selectColorFromPalette','rebuildIfDirty','applyTransformation','import-','showGuidedTour','_boundingBoxMesh','../libs','MouseButtons','disposeLayers','NearestFilter','removeLayer','display','recolorVoxels','newMesh','mouseWheel','mouseleave','onSelected','data_url','bottom','_resetControls','button','RESURRECT+.png','containsPoint','VOXELATOR.png','./export_gltf','./eraser_tool','color-','active_layer','Box3','WireframeGeometryNoDiagonal','setSelection','SimpleOrbitControls','Object3D','addClass','loadstart','append','initUiElement','_isDirty','_axes','\x20axis</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','middle','./export_dae','end','ctrlDown','Scene','./expand','_from','#trans-rotation-input','faceVertexUvs','FARAWAY48','.obj','_mesh','resetCamera','mergeActiveLayerDown','lookAt','mouse_right','vertices','#tool-eraser','.ply','placeholder','#tool-paint-brush','<p>Pick\x20a\x20palette\x20import:</p>','sin','./shrink','updatePaletteTexture','clearSelection','locked','normalize','manager','MonotoneMesh','onchange','addTo','_blank','_doBox','prompt','getHelpText','_selectionShow','#999999','FARAWAY48.png','front','_timeLeftUI','preview.html','./libs','Translation\x20Tool','Mesh','0x002244','#mesh-name-show','min','showBackgroundSelectDialog','Box','moveVoxels','_undoStack','#tool-select','none','normal','indexOf','drawImage','location','getPaletteColor','LineSegments','__selectedColorIndex','End\x20finally,\x20the\x20\x27Help\x27\x20menu\x20contains\x20link\x20to\x20the\x20documentation\x20pages,\x20info\x20about\x20the\x20software,\x20and\x20this\x20guided\x20tour!<br/>Hope\x20you\x20find\x20this\x20tour\x20useful\x20and\x20have\x20fun\x20using\x20Voxelator\x20:)','__activeLayerIndex','Import\x20Demo\x20Project','_onLayersChange','#export-as-vertex-color','_updateRedoBtns','getReversedPalette','Vertical','The\x20following\x20guided\x20tour\x20will\x20walk\x20you\x20through\x20the\x20UI\x20of\x20Voxelator.\x20For\x20more\x20info,\x20check\x20out\x20the\x20documentation\x20pages\x20under\x20\x27Help\x27\x20menu.<br\x20/><br\x20/>Ready\x20to\x20begin?','PINEAPPLE+','large','saveAs','paletteSize','Exit\x20Tour','disabled','updateProjectionMatrix','addScalar','_linesColor','createImageData','not\x20visible','_verticesIndexes','#tool-pencil','amd','data','voxels','unnamed_mesh1','-row\x22>','colors','confirm','Vector2','top','pressed','add','loadProjectFromFile','splic','paletteImage','altDown','./editor_modes','Soften\x20Edges','#exported-mesh-name','container','hide','renderer','.ui-element','BoxHelper','demos/','cutSelectedVoxelsToNewLayer','Geometry','#layers-table','#tool-paint-bucket','showAxes','createPaletteTexture','voxelPosition','expandByPoint','enableLighting','set','-clone','getActiveLayerMesh','#showWireframe','multiplyScalar','.color-in-palette','<p>Pick\x20demo\x20project\x20to\x20import\x20(note:\x20all\x20demo\x20projects\x20use\x20the\x20default\x20palette,\x20if\x20you\x20changed\x20pallete\x20they\x20may\x20look\x20wrong):</p>','checked','%\x20read','sub','selectedColorIndex','import-cancel-btn','loadDemoProject','normalizedMousePos','endFrame','parse','-cut','voxelsCount','getVoxel','crate.vox','begin','getSize','.layer-visible','_resetAll','aria-valuenow','meshName','_needToGenerateUndo','polygonOffsetFactor','_exporters','snake.vox','fromCharCode','material','update','importPredefPalette','deleteLayer','#expand-to-','attr','\x20help]:\x20','./../libs','aspect','Exported\x20Successfully','PINEAPPLE+.png','Move\x20selected\x20voxels\x20|\x20Arrows\x20to\x20move\x20voxels\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection','.<br\x20/>Open\x20exported\x20model\x20for\x20preview?','ZYKRO-48.png','_to','showDeleteLayerDialog','domElement','mousePressed','_pointOnMarker','back','duplicateLayerOfVoxels','#stats-label','target','pop','modal','#voxel-color-','Stats','STLExporter','./transformation_base','For\x20example,\x20if\x20you\x20build\x20a\x20tree\x20you\x20can\x20put\x20all\x20the\x20leaves\x20on\x20a\x20separated\x20layer,\x20and\x20hide\x20them\x20while\x20you\x20edit\x20the\x20bark.<br/>Note\x20that\x20when\x20you\x20export\x20your\x20model\x20all\x20layers\x20are\x20merged\x20into\x20one,\x20unless\x20you\x20choose\x20to\x20only\x20export\x20some\x20of\x20them.','.on-screen-text','rebuildEverything','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_showWireframe','name','importVoxelFile','_readFileFromUser','./export_obj','faces','The\x20bottom\x20text\x20gives\x20useful\x20hints\x20about\x20the\x20tool\x20you\x27re\x20currently\x20using.','#flip-mode-select\x20option:selected','random','The\x20\x27Camera\x27\x20menu\x20contains\x20options\x20for\x20the\x20viewport\x27s\x20camera,\x20including\x20useful\x20preset\x20camera\x20angles\x20you\x20can\x20jump\x20to\x20(for\x20example,\x20making\x20the\x20camera\x20face\x20the\x20front\x20of\x20the\x20mesh).','Expand','\x22\x20style=\x22cursor:pointer\x22\x20id=\x22layer-','white','stringify','Math','log','#tool-translate','Voxelator\x20-\x20','isEditLocked','anyMouseButtonsDown','setFromCamera','distanceTo','_modes','#palette-container','PerspectiveCamera','intersectObjects','isInUI','#shapes-select-div','AmbientLight','Import\x20Voxelator\x20Built-In\x20Palette','_paletteDirty','options','<p>Please\x20select\x20background\x20option\x20below:</p>','NoColors','function','Eraser\x20Tool','fileExtension','loaded','./../voxels/voxel','everything','magFilter','./editor_mode','./exports','raycaster','clientX','text/plain;charset=utf-8','showPalette','unnamed-layer','./voxel_mesh_layer','voxel','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22expand-smoothly\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-smoothly\x22>Expand\x20roundly\x20between\x20different\x20axises</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Voxel','importPaletteFile','#threshold-input','Exporter','deleteSelectedVoxels','join','click','MONO','_waitingForClickAfterUI','<p>Axis\x20to\x20flip:</p><select\x20id=\x22flip-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','DirectionalLight','scene','_scene','removeVoxel','Remove\x20voxels\x20|\x20LMB\x20to\x20remove\x20a\x20single\x20voxel\x20|\x20RMB\x20to\x20remove\x20voxels\x20while\x20button\x20is\x20down\x20|\x20Shift+LMB\x20to\x20remove\x20layer\x20of\x20voxels\x20|\x20Shift+RMB\x20to\x20remove\x20layer\x20of\x20voxels\x20of\x20the\x20same\x20color','mergeWith','scale','exportPalette','input','#layers-menu','PLYExporter','abs','shiftDown','innerWidth','Box3Helper','geometry','Face3','./soften_edges','_showOutline','ColorDelta','not-allowed','You\x20can\x20export\x20your\x20mesh\x20to\x20many\x20standard\x203d\x20formats.\x20When\x20exported,\x20the\x20geometry\x20will\x20no\x20longer\x20be\x20voxels-based\x20and\x20be\x20optimized\x20to\x20use\x20less\x20faces\x20and\x20less\x20vertices.','iterateEmptyVoxelsGroup','voxe','voxelator_preview_texture','<p>This\x20transformation\x20will\x20make\x20corners\x20/\x20edges\x20softer\x20by\x20removing\x20the\x20sharp\x20edges\x20voxels.</p>','SNES','_lastSelected','__voxelator_third_party_libs__','resize','getElementById','./voxel','<p>Rotate\x20around\x20axis:</p><select\x20id=\x22rotate-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','deserialize','directionalLight3','domain','onChange','showBoundingBox','load','Center','lengthComputable','#continous-paint-div','_buildOptimizedMesh','height','updatePaletteUiFromMeshPalette','stats',',\x20total\x20faces:\x20','worldDirection','page_down','Successfully\x20imported\x20Palette!\x20','iterateVoxelsGroup','<p>This\x20transformation\x20will\x20remove\x20lonely\x20voxels\x20to\x20make\x20surfaces\x20smoother.</p>','paletteTexture','position','palette.png','undefined','visibleFaces','\x20colors\x20were\x20added.','mouse_left','ZYKRO-48','\x22\x20value=\x22#ffffff\x22>','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22center-on-','#tools-menu','layers','./smooth_faces','rebuildGeometry','width','transparent','FileSaver','#import-img-depth','autoSelectLayer','VOXELATOR','import-img-preview','readAsDataURL','onDeselected','_outlineMaterial','get','_lockedUntilClickedOnCanvas','./translation_tool','mouseenter','push','moveActiveLayerUp','#export-save-binary-div','<tr\x20data-index=\x22','Exported\x20successfully!\x20Total\x20vertices:\x20','_isInUI','#transforms-dropdown','#export-modal','#view-options-dropdown','OBJExporter','released','addEventListener','#import-options-dropdown','directionalLight2','Flip','To\x20contact\x20me:\x20<a\x20href=\x22mailto:ronenness@gmail.com\x22>ronenness@gmail.com</a>.','#showBoundingBox','appendChild','#import-image-axis','_grid','disk.vox','#import-progress-bar','isMovingOrRotatingCamera','minFilter','MONO.png','_ambientLight','camera','mouseLeaveUI','run','You\x20must\x20select\x20voxels\x20using\x20the\x20selection\x20tool\x20to\x20use\x20this\x20option.','_voxels','moveLayerDown','Invalid\x20file\x20type!','rotation','removeAllVoxelsOutside','accept','style','page_up','EdgesGeometry','_disposePreviewStuff','And\x20this\x20text\x20gives\x20useful\x20info\x20about\x20your\x20mesh\x20size\x20and\x20faces\x20count.<br/>Note:\x20when\x20exporting\x20the\x20mesh\x20some\x20extra\x20optimizations\x20are\x20applied,\x20so\x20the\x20exported\x20file\x20is\x20usually\x20much\x20more\x20efficient.','setPaletteColor','./transformations','selectedVoxelPosition','<input\x20class=\x22color-in-palette\x22\x20type=\x22color\x22\x20id=\x22voxel-color-','remove','\x22></td>','#colors-palette','Adds\x20or\x20remove\x20voxels\x20|\x20LMB\x20to\x20add\x20voxels\x20|\x20Shift+LMB\x20to\x20set\x20color\x20of\x20existing\x20voxels\x20|\x20RMB\x20to\x20remove\x20voxels\x20|\x20Shift+RMB\x20to\x20copy\x20voxel\x20color\x20|\x20LMB+Alt\x20to\x20push\x20voxels\x20|\x20RMB+Alt\x20to\x20pull\x20voxels','_updateWireframeOrOutline','_layers','../voxels','renderOrder','total','text','_onCanvas','#camera-options-dropdown','putImageData','Cannot\x20delete\x20this\x20layer\x20since\x20its\x20the\x20last\x20remaining\x20layer.','_targetVoxel','\x22\x20/>','getTime','updateMaterial','\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-to-','splice','css','_showBoundingBox','Colors\x20Palette:\x20use\x20it\x20to\x20select\x20voxels\x20colors.<br/>Note:\x20changing\x20a\x20palette\x20color\x20that\x20is\x20already\x20used\x20by\x20existing\x20voxels\x20will\x20recolor\x20these\x20voxels.','Not\x20Implemented!','showPanel','#mirror-offset-input','_points','#expand-smoothly','split','children','keys','right_arrow','<td><input\x20class=\x22layer-name\x20layer-name-input\x22\x20maxlength=\x2220\x22\x20type=\x22text\x22\x20name=\x22layer-name\x22\x20value=\x22','binary','<p>This\x20transformation\x20will\x20rotate\x20voxels\x20around\x20an\x20axis.</p>','BASIC.png','.vox','getRightVector','moveVoxel','The\x20\x27Project\x27\x20menu\x20allow\x20you\x20to\x20rename\x20the\x20project,\x20load\x20from\x20file,\x20save\x20it,\x20or\x20create\x20a\x20new\x20empty\x20project.','addLayer','setFromObject','SphereGeometry','_previewMeshes','initialize','showAbout','.<br\x20/>Note:\x20can\x27t\x20show\x20preview\x20for\x20current\x20format.','cloneActiveLayer','getCenter','saveProjectToFile','G9yLmNvbQ==','Sphere','showOutline','reset','radio','controls','Voxelator','mousedown','selectTargetVoxel','iterateSelectedOrAllVoxels','showGrid','_palette','Note\x20that\x20Voxelator\x20support\x20two\x20ways\x20to\x20represent\x20Voxels\x20color:\x20by\x20texture,\x20or\x20by\x20encoding\x20per-vertex\x20color\x20property.<br\x20/>Since\x20not\x20all\x20formats\x20support\x20both\x20options,\x20Voxelator\x20will\x20always\x20attempt\x20to\x20write\x20both\x20UVs\x20data\x20and\x20Vertex\x20colors\x20into\x20the\x20exported\x20file.\x20Its\x20up\x20to\x20you\x20to\x20pick\x20a\x20technique\x20by\x20controlling\x20your\x20rendering\x20pipeline,\x20but\x20make\x20sure\x20you\x20don\x27t\x20use\x20both,\x20as\x20this\x20will\x20distort\x20the\x20colors.','Both','_doSphere','LineBasicMaterial','vertexColors','colorIndex','render','setPreviewAddVoxels',':checked','<img\x20src=\x22img/controls.png\x22\x20style=\x22width:100%;height:auto;\x22>','#trans-iterations-count-input','_enableLighting','visibleSidesCount','mouseEnterUI','VoxelsMesh','Clockwise','updateMaterials','Nothing\x20to\x20export,\x20layer\x20is\x20empty.','selected-color','\x22\x20name=\x22voxel-color-','_settings','file-opener','importVoxFileFromJson','Cannot\x20find\x20module\x20\x27','src','Rotate\x20Mesh','keyup','index','THREE','End\x20Tour','.layer-name','getCombinedLayer'];(function(_0x3764d4,_0x5cb99d){var _0x30102d=function(_0x2d950e){while(--_0x2d950e){_0x3764d4['push'](_0x3764d4['shift']());}};_0x30102d(++_0x5cb99d);}(_0x199b,0x67));var _0x15a6=function(_0x3764d4,_0x5cb99d){_0x3764d4=_0x3764d4-0x0;var _0x30102d=_0x199b[_0x3764d4];return _0x30102d;};(function(_0x41b7a2){if(typeof exports==='object'&&typeof module!==_0x15a6('0x1c0')){module[_0x15a6('0x66')]=_0x41b7a2();}else if(typeof define==='function'&&define[_0x15a6('0xeb')]){define([],_0x41b7a2);}else{var _0x83c8fa;if(typeof window!==_0x15a6('0x1c0')){_0x83c8fa=window;}else if(typeof global!==_0x15a6('0x1c0')){_0x83c8fa=global;}else if(typeof self!==_0x15a6('0x1c0')){_0x83c8fa=self;}else{_0x83c8fa=this;}_0x83c8fa['Voxelator']=_0x41b7a2();}}(function(){var _0x24a2d2,_0x48bee1,_0xf95dd4;return function(){function _0x593ac2(_0x1bab63,_0x2a44f4,_0x2b4aee){function _0x46ff57(_0x16d587,_0x26686d){if(!_0x2a44f4[_0x16d587]){if(!_0x1bab63[_0x16d587]){var _0x2f431c=_0x15a6('0x16e')==typeof require&&require;if(!_0x26686d&&_0x2f431c)return _0x2f431c(_0x16d587,!0x0);if(_0x1f14fd)return _0x1f14fd(_0x16d587,!0x0);var _0x849a74=new Error(_0x15a6('0x25b')+_0x16d587+'\x27');throw _0x849a74['code']=_0x15a6('0x26f'),_0x849a74;}var _0xa0ecd2=_0x2a44f4[_0x16d587]={'exports':{}};_0x1bab63[_0x16d587][0x0]['call'](_0xa0ecd2[_0x15a6('0x66')],function(_0x243236){var _0x5f2175=_0x1bab63[_0x16d587][0x1][_0x243236];return _0x46ff57(_0x5f2175||_0x243236);},_0xa0ecd2,_0xa0ecd2[_0x15a6('0x66')],_0x593ac2,_0x1bab63,_0x2a44f4,_0x2b4aee);}return _0x2a44f4[_0x16d587][_0x15a6('0x66')];}for(var _0x1f14fd=_0x15a6('0x16e')==typeof require&&require,_0x1fa033=0x0;_0x1fa033<_0x2b4aee['length'];_0x1fa033++)_0x46ff57(_0x2b4aee[_0x1fa033]);return _0x46ff57;}return _0x593ac2;}()({1:[function(_0x5ab11d,_0x52b1e3,_0x467f65){class _0x137430{[_0x15a6('0x232')](_0x56dc6c){}[_0x15a6('0x12c')](_0x5ae25a,_0xd9e17b){}['onSelected'](_0x442f6a){}[_0x15a6('0x1d3')](_0x5db9bc){}[_0x15a6('0xbb')](){throw new Error('Not\x20Implemented!');}get['showPalette'](){return!![];}get[_0x15a6('0x14d')](){throw new Error(_0x15a6('0x21d'));}}_0x52b1e3[_0x15a6('0x66')]=_0x137430;},{}],2:[function(_0x5d7a84,_0x2d2444,_0x1dc8d7){const _0x502442=_0x5d7a84(_0x15a6('0x175'));const _0x56ac77=_0x5d7a84('../voxels');const _0x3a222d=_0x5d7a84(_0x15a6('0x76'));const _0x373ef5=_0x3a222d[_0x15a6('0x260')];class _0x344dc8 extends _0x502442{['initialize'](_0x1f17a9){const _0x529adc=new _0x373ef5[(_0x15a6('0x230'))](0.2,0x5,0x5);var _0x12ba5b=0xff0000;var _0x3e1d69=new _0x373ef5[(_0x15a6('0x2a0'))]({'color':_0x12ba5b,'opacity':0.65,'transparent':!![]});var _0x566928=new _0x373ef5[(_0x15a6('0xc4'))](_0x529adc,_0x3e1d69);_0x566928[_0x15a6('0x20d')]=0x64;_0x1f17a9[_0x15a6('0x18a')][_0x15a6('0xf5')](_0x566928);this[_0x15a6('0x13d')]=_0x566928;this[_0x15a6('0x13d')][_0x15a6('0x8')]=![];}[_0x15a6('0x2d')](_0x343fb3){this['_pointOnMarker'][_0x15a6('0x8')]=![];}[_0x15a6('0x12c')](_0x5143f4,_0xdc5d52){var _0x5d4f24=_0x5143f4[_0x15a6('0x293')];if(_0x5143f4[_0x15a6('0x1ef')]){this['_removeSelectionPreviews'](_0x5143f4);this[_0x15a6('0x1a4')]=null;return;}var _0x1ad0d4=_0x5143f4[_0x15a6('0x240')]();this['_lastSelected']=_0x1ad0d4;if(!_0x1ad0d4){this[_0x15a6('0x2d')](_0x5143f4);return;}this[_0x15a6('0x13d')][_0x15a6('0x1be')]['set'](_0x1ad0d4[_0x15a6('0x266')]['x'],_0x1ad0d4['intersectPosition']['y'],_0x1ad0d4['intersectPosition']['z']);this['_pointOnMarker'][_0x15a6('0x8')]=!![];if(_0x5143f4['input'][_0x15a6('0x195')]){if(_0x5143f4[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0x1c3'))){_0x5d4f24[_0x15a6('0x28e')](_0x1ad0d4[_0x15a6('0x204')],_0x1ad0d4[_0x15a6('0xce')],![],_0x5143f4[_0x15a6('0x3d')]);}if(_0x5143f4['input'][_0x15a6('0x1e3')](_0x15a6('0xa7'))){_0x5d4f24[_0x15a6('0x28e')](_0x1ad0d4[_0x15a6('0x204')],_0x1ad0d4[_0x15a6('0xce')],!![],_0x5143f4[_0x15a6('0x3d')]);}}else{if(_0x5143f4[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0x1c3'))){_0x5d4f24[_0x15a6('0x18c')](_0x1ad0d4['selectedVoxelPosition']);}if(_0x5143f4[_0x15a6('0x191')][_0x15a6('0xf')](_0x15a6('0xa7'))){_0x5d4f24['removeVoxel'](_0x1ad0d4[_0x15a6('0x204')]);}}}get['showPalette'](){return![];}[_0x15a6('0x80')](_0x5f21b5){}[_0x15a6('0x1d3')](_0x5c64c9){this['_removeSelectionPreviews'](_0x5c64c9);}[_0x15a6('0xbb')](){return _0x15a6('0x18d');}get[_0x15a6('0x14d')](){return _0x15a6('0x16f');}}_0x2d2444[_0x15a6('0x66')]=_0x344dc8;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],3:[function(_0x8869e8,_0x2df75a,_0x14e62f){_0x2df75a[_0x15a6('0x66')]={'VoxelsPencil':_0x8869e8(_0x15a6('0x4a')),'SelectionTool':_0x8869e8('./selection_tool'),'TranslationTool':_0x8869e8(_0x15a6('0x1d7')),'EraserTool':_0x8869e8(_0x15a6('0x89')),'PaintBucket':_0x8869e8('./paint_bucket'),'ShapesTool':_0x8869e8(_0x15a6('0x296'))};},{'./eraser_tool':0x2,'./paint_bucket':0x4,'./selection_tool':0x5,'./shapes_tool':0x6,'./translation_tool':0x7,'./voxels_pencil':0x8}],4:[function(_0x419350,_0x2699f8,_0x233495){const _0x5d50af=_0x419350(_0x15a6('0x175'));const _0x486017=_0x419350('../voxels');const _0x55117e=_0x419350(_0x15a6('0x76'));const _0x19e59f=_0x55117e[_0x15a6('0x260')];class _0x15c378 extends _0x5d50af{['initialize'](_0x46329e){const _0x1e5e4b=new _0x19e59f[(_0x15a6('0x230'))](0.2,0x5,0x5);var _0x420bd6=0xff0000;var _0x4254f0=new _0x19e59f['MeshBasicMaterial']({'color':_0x420bd6,'opacity':0.65,'transparent':!![]});var _0x28c5ca=new _0x19e59f[(_0x15a6('0xc4'))](_0x1e5e4b,_0x4254f0);_0x28c5ca['renderOrder']=0x64;_0x46329e[_0x15a6('0x18a')][_0x15a6('0xf5')](_0x28c5ca);this['_pointOnMarker']=_0x28c5ca;this[_0x15a6('0x13d')][_0x15a6('0x8')]=![];}[_0x15a6('0x2d')](_0x49ea98){this[_0x15a6('0x13d')]['visible']=![];}[_0x15a6('0x12c')](_0x23f15e,_0x4a921b){var _0x1e10ad=_0x23f15e[_0x15a6('0x293')];if(_0x23f15e[_0x15a6('0x1ef')]){this['_removeSelectionPreviews'](_0x23f15e);this[_0x15a6('0x1a4')]=null;return;}var _0x1377af=_0x23f15e[_0x15a6('0x240')](_0x23f15e[_0x15a6('0x191')][_0x15a6('0x195')]);this[_0x15a6('0x1a4')]=_0x1377af;if(!_0x1377af){this[_0x15a6('0x2d')](_0x23f15e);return;}this[_0x15a6('0x13d')]['position']['set'](_0x1377af['intersectPosition']['x'],_0x1377af['intersectPosition']['y'],_0x1377af['intersectPosition']['z']);this['_pointOnMarker'][_0x15a6('0x8')]=!![];if(_0x23f15e[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0x1c3'))){if(_0x23f15e[_0x15a6('0x191')][_0x15a6('0x195')]){_0x1e10ad[_0x15a6('0x5d')](_0x1377af[_0x15a6('0x22')],_0x1377af[_0x15a6('0xce')],_0x23f15e['selectedRegion'],_0x23f15e['selectedColorIndex']);}else{_0x1e10ad[_0x15a6('0x7c')](_0x1377af[_0x15a6('0x204')],new _0x19e59f['Vector3'](0x0,0x0,0x0),!![],_0x23f15e[_0x15a6('0x3d')],_0x23f15e[_0x15a6('0x116')]);}}if(_0x23f15e[_0x15a6('0x191')]['released'](_0x15a6('0xa7'))){if(_0x23f15e[_0x15a6('0x191')]['shiftDown']){_0x1e10ad[_0x15a6('0x13f')](_0x1377af[_0x15a6('0x204')],_0x1377af[_0x15a6('0xce')],_0x23f15e['selectedRegion']);}else{_0x1e10ad[_0x15a6('0x7c')](_0x1377af[_0x15a6('0x204')],_0x1377af[_0x15a6('0xce')],!![],_0x23f15e[_0x15a6('0x3d')],_0x23f15e[_0x15a6('0x116')]);}}}get[_0x15a6('0x17a')](){return!![];}[_0x15a6('0x80')](_0x279eb7){}[_0x15a6('0x1d3')](_0x2ed00b){this[_0x15a6('0x2d')](_0x2ed00b);}[_0x15a6('0xbb')](){return'Recolor\x20voxels\x20|\x20LMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20|\x20RMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20only\x20on\x20the\x20plane\x20you\x20clicked\x20on\x20|\x20Shift+LMB\x20fill\x20empty\x20voxels\x20|\x20Shift+RMB\x20duplicate\x20the\x20plane\x20you\x20clicked\x20on';}get[_0x15a6('0x14d')](){return _0x15a6('0x292');}}_0x2699f8[_0x15a6('0x66')]=_0x15c378;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],5:[function(_0x1f5fdf,_0x551626,_0x243164){const _0x4b07c0=_0x1f5fdf(_0x15a6('0x175'));const _0x4820ea=_0x1f5fdf('../voxels');const _0x549ecf=_0x1f5fdf(_0x15a6('0x76'));const _0x42d34c=_0x549ecf['THREE'];class _0x2fdc66 extends _0x4b07c0{[_0x15a6('0x232')](_0xd8aa3b){this['_points']=[];}[_0x15a6('0x12c')](_0x1ce7dc,_0x46acfb){var _0x4fd2a5=_0x1ce7dc['selectTargetVoxel'](!![],!![]);var _0x4b667c=_0x4fd2a5?_0x4fd2a5[_0x15a6('0x204')]||_0x4fd2a5[_0x15a6('0x22')]:null;if(location[_0x15a6('0xe')][_0x15a6('0xcf')](atob('dm94ZWxhdG9yLmNvbQ=='))<0x0){_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0xf')]=null;}if(_0x1ce7dc['input'][_0x15a6('0x1e3')](_0x15a6('0xa7'))){this[_0x15a6('0x220')]=[];}if(_0x1ce7dc[_0x15a6('0x191')]['pressed'](_0x15a6('0x1c3'))){if(_0x1ce7dc['input']['shiftDown']&&_0x4b667c){this[_0x15a6('0x220')][_0x15a6('0x1d9')](_0x4b667c);}else{this[_0x15a6('0x220')]=_0x4b667c?[_0x4b667c,_0x4b667c]:[];}}var _0x1834a6=_0x31b37c=>{_0x31b37c['y']=0x0;_0x31b37c['x']=Math['round'](_0x31b37c['x']);_0x31b37c['z']=Math[_0x15a6('0x55')](_0x31b37c['z']);if(_0x31b37c['x']==0x0&&_0x31b37c['z']==0x0){_0x31b37c['x']=Math[_0x15a6('0x55')](_0x31b37c['x']*1.5);}return _0x31b37c;};var _0x17e34c=_0x1834a6(_0x1ce7dc[_0x15a6('0x23d')]['getLeftVector']());var _0x395f50=_0x1834a6(_0x1ce7dc[_0x15a6('0x23d')]['getRightVector']());var _0xc6e6eb=_0x1834a6(_0x1ce7dc[_0x15a6('0x23d')]['worldDirection']);var _0x251784=_0xc6e6eb[_0x15a6('0x284')]()[_0x15a6('0x110')](-0x1);if(_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x225'))){for(var _0x1325bd=0x0;_0x1325bd<this[_0x15a6('0x220')][_0x15a6('0x3b')];++_0x1325bd){this[_0x15a6('0x220')][_0x1325bd]['add'](_0x395f50);}}if(_0x1ce7dc['input'][_0x15a6('0xf4')](_0x15a6('0x2a3'))){for(var _0x1325bd=0x0;_0x1325bd<this['_points']['length'];++_0x1325bd){this[_0x15a6('0x220')][_0x1325bd]['add'](_0x17e34c);}}if(_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0x195')]){if(_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x21'))){for(var _0x1325bd=0x0;_0x1325bd<this[_0x15a6('0x220')][_0x15a6('0x3b')];++_0x1325bd){this[_0x15a6('0x220')][_0x1325bd]['y']++;}}if(_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x6'))){for(var _0x1325bd=0x0;_0x1325bd<this[_0x15a6('0x220')]['length'];++_0x1325bd){this[_0x15a6('0x220')][_0x1325bd]['y']--;}}}else{if(_0x1ce7dc[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x21'))){for(var _0x1325bd=0x0;_0x1325bd<this[_0x15a6('0x220')][_0x15a6('0x3b')];++_0x1325bd){this[_0x15a6('0x220')][_0x1325bd][_0x15a6('0xf5')](_0xc6e6eb);}}if(_0x1ce7dc[_0x15a6('0x191')]['pressed'](_0x15a6('0x6'))){for(var _0x1325bd=0x0;_0x1325bd<this[_0x15a6('0x220')][_0x15a6('0x3b')];++_0x1325bd){this['_points'][_0x1325bd][_0x15a6('0xf5')](_0x251784);}}}if(_0x1ce7dc['input'][_0x15a6('0x1e3')](_0x15a6('0x276'))){_0x1ce7dc['deleteSelectedVoxels']();}if(_0x1ce7dc['input']['down']('mouse_left')&&_0x4b667c){this[_0x15a6('0x220')][this[_0x15a6('0x220')][_0x15a6('0x3b')]-0x1]=_0x4b667c;}if(this['_points'][_0x15a6('0x3b')]){_0x1ce7dc['setSelection'](this[_0x15a6('0x220')]);}else{_0x1ce7dc[_0x15a6('0xb1')]();}}get[_0x15a6('0x17a')](){return![];}[_0x15a6('0x80')](_0x4d6c4d){}[_0x15a6('0x1d3')](_0x1282d5){}['getHelpText'](){return _0x15a6('0x26');}get[_0x15a6('0x14d')](){return'Selection\x20Tool';}}_0x551626[_0x15a6('0x66')]=_0x2fdc66;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],6:[function(_0x1211da,_0x304e5c,_0x12bbea){const _0x9f0f6b=_0x1211da('./editor_mode');const _0x3fe1fb=_0x1211da(_0x15a6('0x20c'));const _0x358264=_0x1211da(_0x15a6('0x76'));const _0x4aa71a=_0x358264[_0x15a6('0x260')];class _0x31432e extends _0x9f0f6b{[_0x15a6('0x232')](_0x480138){this[_0x15a6('0x220')]=[];}[_0x15a6('0x12c')](_0x2a3479,_0x325cba){var _0x3de086=_0x2a3479[_0x15a6('0x240')](!![],!![],!![]);var _0x2b473e=_0x3de086?_0x3de086[_0x15a6('0x22')]||_0x3de086[_0x15a6('0x204')]:null;if(_0x2a3479[_0x15a6('0x191')]['pressed']('mouse_left')){this[_0x15a6('0x9e')]=_0x2b473e;}else if(_0x2a3479['input'][_0x15a6('0xf')](_0x15a6('0x1c3'))){this[_0x15a6('0x139')]=_0x2b473e;}if(_0x2a3479[_0x15a6('0x191')][_0x15a6('0xf')](_0x15a6('0xa7'))){this['_from']=this[_0x15a6('0x139')]=null;_0x2a3479['voxelMesh']['setPreviewAddVoxels']([]);}if(this[_0x15a6('0x9e')]&&this[_0x15a6('0x139')]){var _0x34401e=$(_0x15a6('0x42'))[_0x15a6('0x20f')]();var _0x437011=[];switch(_0x34401e){case _0x15a6('0x16'):_0x437011=this['_doLine'](_0x2a3479);break;case _0x15a6('0xc9'):_0x437011=this[_0x15a6('0xb9')](_0x2a3479);break;case _0x15a6('0x239'):_0x437011=this[_0x15a6('0x246')](_0x2a3479);break;}}if(_0x2a3479[_0x15a6('0x191')][_0x15a6('0x1e3')]('mouse_left')&&_0x437011){for(var _0x115419=0x0;_0x115419<_0x437011[_0x15a6('0x3b')];++_0x115419){if(_0x2a3479['input']['shiftDown']){_0x2a3479[_0x15a6('0x293')]['removeVoxel'](_0x437011[_0x115419][_0x15a6('0x1be')]);}else{_0x2a3479['activeLayer'][_0x15a6('0x33')](_0x437011[_0x115419]);}}}if(!_0x2a3479[_0x15a6('0x191')]['down'](_0x15a6('0x1c3'))){this[_0x15a6('0x9e')]=this[_0x15a6('0x139')]=null;_0x2a3479[_0x15a6('0x34')][_0x15a6('0x24b')]([]);}else{_0x2a3479[_0x15a6('0x34')][_0x15a6('0x24b')](_0x437011||[]);}}[_0x15a6('0xb9')](_0x591bef){var _0x461a6f=new _0x4aa71a['Box3']();_0x461a6f['expandByPoint'](this[_0x15a6('0x9e')]);_0x461a6f['expandByPoint'](this[_0x15a6('0x139')]);var _0x5963b7=[];for(var _0x387e0c=_0x461a6f[_0x15a6('0xc7')]['x'];_0x387e0c<=_0x461a6f['max']['x'];++_0x387e0c){for(var _0x51807e=_0x461a6f[_0x15a6('0xc7')]['y'];_0x51807e<=_0x461a6f[_0x15a6('0x2ca')]['y'];++_0x51807e){for(var _0x5347ad=_0x461a6f[_0x15a6('0xc7')]['z'];_0x5347ad<=_0x461a6f['max']['z'];++_0x5347ad){_0x5963b7[_0x15a6('0x1d9')](new _0x3fe1fb[(_0x15a6('0x17f'))](new _0x4aa71a[(_0x15a6('0x289'))](_0x387e0c,_0x51807e,_0x5347ad),_0x591bef[_0x15a6('0x116')]));}}}return _0x5963b7;}[_0x15a6('0x246')](_0x1c9b02){var _0x48a8af=new _0x4aa71a[(_0x15a6('0x8c'))]();_0x48a8af['expandByPoint'](this['_from']);_0x48a8af[_0x15a6('0x10a')](this[_0x15a6('0x139')]);var _0x3ad140=_0x48a8af[_0x15a6('0x236')]();var _0x52991d=Math[_0x15a6('0x2ca')](Math[_0x15a6('0x2ca')]((_0x48a8af['max']['x']-_0x48a8af[_0x15a6('0xc7')]['x'])/0x2,(_0x48a8af['max']['y']-_0x48a8af[_0x15a6('0xc7')]['y'])/0x2),(_0x48a8af[_0x15a6('0x2ca')]['z']-_0x48a8af['min']['z'])/0x2);var _0x4db570=[];for(var _0x1e3477=_0x48a8af['min']['x'];_0x1e3477<=_0x48a8af[_0x15a6('0x2ca')]['x'];++_0x1e3477){for(var _0x4ada41=_0x48a8af['min']['y'];_0x4ada41<=_0x48a8af[_0x15a6('0x2ca')]['y'];++_0x4ada41){for(var _0x63e587=_0x48a8af[_0x15a6('0xc7')]['z'];_0x63e587<=_0x48a8af[_0x15a6('0x2ca')]['z'];++_0x63e587){var _0x547cdd=new _0x4aa71a[(_0x15a6('0x289'))](_0x1e3477,_0x4ada41,_0x63e587);if(_0x547cdd[_0x15a6('0x161')](_0x3ad140)<=_0x52991d){_0x4db570[_0x15a6('0x1d9')](new _0x3fe1fb[(_0x15a6('0x17f'))](_0x547cdd,_0x1c9b02[_0x15a6('0x116')]));}}}}return _0x4db570;}['_doLine'](_0x16486b){var _0x5137dd=function(_0x4b0572,_0xdca4fa){var _0x440a45=0x0;var _0x3977a7='';if(_0x4b0572[_0x15a6('0x1be')]['x']==_0xdca4fa[_0x15a6('0x1be')]['x']){_0x440a45++;_0x3977a7+='x';}if(_0x4b0572[_0x15a6('0x1be')]['y']==_0xdca4fa[_0x15a6('0x1be')]['y']){_0x440a45++;_0x3977a7+='y';}if(_0x4b0572[_0x15a6('0x1be')]['z']==_0xdca4fa[_0x15a6('0x1be')]['z']){_0x440a45++;_0x3977a7+='z';}return _0x440a45>0x1?_0x3977a7:null;};var _0x440df4=[];var _0x2eefb4=this[_0x15a6('0x9e')][_0x15a6('0x284')]();var _0x48c89f=this['_from'][_0x15a6('0x284')]();var _0x2e0c6e=null;var _0x2b95c0=this[_0x15a6('0x139')]['clone']()[_0x15a6('0x115')](this[_0x15a6('0x9e')])['normalize']()[_0x15a6('0x110')](0.5);while(!_0x48c89f[_0x15a6('0x282')](this['_to'])){var _0x48c89f=new _0x4aa71a['Vector3'](Math[_0x15a6('0x55')](_0x2eefb4['x']),Math[_0x15a6('0x55')](_0x2eefb4['y']),Math[_0x15a6('0x55')](_0x2eefb4['z']));_0x2eefb4[_0x15a6('0xf5')](_0x2b95c0);if(!_0x2e0c6e||!_0x2e0c6e[_0x15a6('0x282')](_0x48c89f)){_0x440df4[_0x15a6('0x1d9')](new _0x3fe1fb[(_0x15a6('0x17f'))](_0x48c89f,_0x16486b[_0x15a6('0x116')]));}_0x2e0c6e=_0x48c89f;}for(var _0x2b6ce5=_0x440df4[_0x15a6('0x3b')]-0x2;_0x2b6ce5>0x0;--_0x2b6ce5){var _0x2eefb4=_0x440df4[_0x2b6ce5];var _0xa63754=_0x440df4[_0x2b6ce5-0x1];var _0x3fb58d=_0x440df4[_0x2b6ce5+0x1];var _0x3125a1=_0x5137dd(_0xa63754,_0x2eefb4);var _0x4c5314=_0x5137dd(_0x2eefb4,_0x3fb58d);if(_0x3125a1&&_0x4c5314&&_0x3125a1!=_0x4c5314){_0x440df4[_0x15a6('0x219')](_0x2b6ce5,0x1);}}return _0x440df4;}get['showPalette'](){return!![];}[_0x15a6('0x80')](_0x4f59f4){$(_0x15a6('0x167'))[_0x15a6('0x1f')]();this['_points']=[];}['onDeselected'](_0x2dde8d){$(_0x15a6('0x167'))[_0x15a6('0xfe')]();}['getHelpText'](){return _0x15a6('0x2bf');}get[_0x15a6('0x14d')](){return _0x15a6('0x37');}}_0x304e5c[_0x15a6('0x66')]=_0x31432e;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],7:[function(_0x42aa1a,_0x2d7e35,_0x4d005e){const _0x1225d4=_0x42aa1a(_0x15a6('0x175'));const _0x205dd5=_0x42aa1a(_0x15a6('0x20c'));const _0x1dcd22=_0x42aa1a('../libs');const _0x40dd8a=_0x1dcd22[_0x15a6('0x260')];class _0x1670a6 extends _0x1225d4{[_0x15a6('0x232')](_0x737413){this[_0x15a6('0x220')]=[];}[_0x15a6('0x12c')](_0x2fff76,_0x1f0b16){var _0x4a929c=_0x2fff76[_0x15a6('0x240')](!![],!![]);var _0x33efa9=_0x4a929c?_0x4a929c[_0x15a6('0x204')]||_0x4a929c[_0x15a6('0x22')]:null;if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0xa7'))){this['_points']=[];}if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x1c3'))){if(_0x2fff76['input'][_0x15a6('0x195')]&&_0x33efa9){this[_0x15a6('0x220')][_0x15a6('0x1d9')](_0x33efa9);}else{this[_0x15a6('0x220')]=_0x33efa9?[_0x33efa9,_0x33efa9]:[];}}var _0x46cfd8=_0x58c5e6=>{_0x58c5e6['y']=0x0;_0x58c5e6['x']=Math[_0x15a6('0x55')](_0x58c5e6['x']);_0x58c5e6['z']=Math['round'](_0x58c5e6['z']);if(_0x58c5e6['x']==0x0&&_0x58c5e6['z']==0x0){_0x58c5e6['x']=Math[_0x15a6('0x55')](_0x58c5e6['x']*1.5);}return _0x58c5e6;};var _0x9ec7e9=_0x46cfd8(_0x2fff76[_0x15a6('0x23d')][_0x15a6('0x2c9')]());var _0x13fd69=_0x46cfd8(_0x2fff76['controls'][_0x15a6('0x22b')]());var _0x2cc911=_0x46cfd8(_0x2fff76[_0x15a6('0x23d')][_0x15a6('0x1b8')]);var _0x26d349=_0x2cc911[_0x15a6('0x284')]()[_0x15a6('0x110')](-0x1);var _0x5ddca5=_0x3e83f5=>{for(var _0x426208=0x0;_0x426208<this[_0x15a6('0x220')][_0x15a6('0x3b')];++_0x426208){this['_points'][_0x426208]['add'](_0x3e83f5);}};if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0xf4')]('right_arrow')){_0x2fff76[_0x15a6('0x293')]['moveVoxels'](_0x2fff76['selectedRegion'],_0x13fd69);_0x5ddca5(_0x13fd69);}else if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0xf4')]('left_arrow')){_0x2fff76[_0x15a6('0x293')][_0x15a6('0xca')](_0x2fff76[_0x15a6('0x3d')],_0x9ec7e9);_0x5ddca5(_0x9ec7e9);}if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0x195')]){if(_0x2fff76[_0x15a6('0x191')]['pressed'](_0x15a6('0x21'))){var _0x63fed1=new _0x40dd8a[(_0x15a6('0x289'))](0x0,0x1,0x0);_0x2fff76[_0x15a6('0x293')]['moveVoxels'](_0x2fff76[_0x15a6('0x3d')],_0x63fed1);_0x5ddca5(_0x63fed1);}else if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0xf4')](_0x15a6('0x6'))){var _0x1fd7bb=new _0x40dd8a[(_0x15a6('0x289'))](0x0,-0x1,0x0);_0x2fff76[_0x15a6('0x293')][_0x15a6('0xca')](_0x2fff76[_0x15a6('0x3d')],_0x1fd7bb);_0x5ddca5(_0x1fd7bb);}}else{if(_0x2fff76[_0x15a6('0x191')]['pressed']('up_arrow')){_0x2fff76['activeLayer'][_0x15a6('0xca')](_0x2fff76[_0x15a6('0x3d')],_0x2cc911);_0x5ddca5(_0x2cc911);}else if(_0x2fff76['input'][_0x15a6('0xf4')](_0x15a6('0x6'))){_0x2fff76[_0x15a6('0x293')][_0x15a6('0xca')](_0x2fff76[_0x15a6('0x3d')],_0x26d349);_0x5ddca5(_0x26d349);}}if(_0x2fff76['input']['released']('delete')){_0x2fff76[_0x15a6('0x183')]();}if(_0x2fff76[_0x15a6('0x191')][_0x15a6('0xf')]('mouse_left')&&_0x33efa9){this[_0x15a6('0x220')][this['_points'][_0x15a6('0x3b')]-0x1]=_0x33efa9;}if(this['_points'][_0x15a6('0x3b')]){_0x2fff76['setSelection'](this[_0x15a6('0x220')]);}else{_0x2fff76[_0x15a6('0xb1')]();}}get[_0x15a6('0x17a')](){return![];}[_0x15a6('0x80')](_0x305c15){if(_0x305c15['selectedRegion']){this[_0x15a6('0x220')]=[_0x305c15[_0x15a6('0x3d')]['min'][_0x15a6('0x284')](),_0x305c15['selectedRegion']['max'][_0x15a6('0x284')]()];}else{this[_0x15a6('0x220')]=[];}}['onDeselected'](_0x517cf7){}[_0x15a6('0xbb')](){return _0x15a6('0x136');}get[_0x15a6('0x14d')](){return _0x15a6('0xc3');}}_0x2d7e35[_0x15a6('0x66')]=_0x1670a6;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],8:[function(_0x212f36,_0x147913,_0x24df4c){const _0x4be859=_0x212f36(_0x15a6('0x175'));const _0x20ff97=_0x212f36(_0x15a6('0x20c'));const _0x419996=_0x212f36(_0x15a6('0x76'));const _0x2be0bb=_0x419996[_0x15a6('0x260')];class _0x53fc0b extends _0x4be859{[_0x15a6('0x232')](_0x4707f2){const _0x3e10fc=new _0x2be0bb[(_0x15a6('0x230'))](0.2,0x5,0x5);var _0x32ee6a=0xff0000;var _0x2001fc=new _0x2be0bb[(_0x15a6('0x2a0'))]({'color':_0x32ee6a,'opacity':0.65,'transparent':!![]});var _0xe72e85=new _0x2be0bb[(_0x15a6('0xc4'))](_0x3e10fc,_0x2001fc);_0xe72e85['renderOrder']=0x64;_0x4707f2[_0x15a6('0x18a')][_0x15a6('0xf5')](_0xe72e85);this[_0x15a6('0x13d')]=_0xe72e85;this[_0x15a6('0x13d')]['visible']=![];}[_0x15a6('0x2d')](_0x4561de){_0x4561de[_0x15a6('0x34')]['setPreviewAddVoxels']([]);this[_0x15a6('0x13d')]['visible']=![];}[_0x15a6('0x12c')](_0x1b74a1,_0x2b5c3f){var _0x5342ad=_0x1b74a1[_0x15a6('0x297')];var _0x3112c2=$(_0x15a6('0x29c'))['is'](':checked');if(_0x1b74a1[_0x15a6('0x1ef')]){this[_0x15a6('0x2d')](_0x1b74a1);this[_0x15a6('0x1a4')]=null;return;}if(location[_0x15a6('0xe')]['indexOf'](_0x15a6('0x17d'))<0x0){_0x1b74a1[_0x15a6('0x191')][_0x15a6('0x123')]();}var _0x89fbbd=_0x1b74a1[_0x15a6('0x191')]['shiftDown']||_0x1b74a1[_0x15a6('0x191')]['altDown'];var _0x2c5116=_0x1b74a1[_0x15a6('0x240')](!_0x89fbbd);this['_lastSelected']=_0x2c5116;if(!_0x2c5116){this[_0x15a6('0x2d')](_0x1b74a1);return;}this[_0x15a6('0x13d')][_0x15a6('0x1be')][_0x15a6('0x10c')](_0x2c5116[_0x15a6('0x266')]['x'],_0x2c5116[_0x15a6('0x266')]['y'],_0x2c5116['intersectPosition']['z']);this[_0x15a6('0x13d')][_0x15a6('0x8')]=!![];_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x24b')]([_0x89fbbd?null:new _0x20ff97[(_0x15a6('0x17f'))](_0x2c5116[_0x15a6('0x22')],_0x1b74a1['selectedColorIndex'])]);if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0xf')]('mouse_left')&&_0x3112c2||_0x1b74a1['input'][_0x15a6('0x1e3')](_0x15a6('0x1c3'))&&!_0x3112c2){if(_0x2c5116['targetVoxelPosition']&&_0x2c5116[_0x15a6('0x204')]){if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0x195')]){_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x33')](_0x5342ad,new _0x20ff97['Voxel'](_0x2c5116[_0x15a6('0x204')],_0x1b74a1[_0x15a6('0x116')]));}else if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0xf9')]){_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x33')](_0x5342ad,new _0x20ff97[(_0x15a6('0x17f'))](_0x2c5116[_0x15a6('0x11')],_0x2c5116[_0x15a6('0x116')]));_0x1b74a1['voxelMesh'][_0x15a6('0x18c')](_0x5342ad,_0x2c5116[_0x15a6('0x204')]);}else{_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x33')](_0x5342ad,new _0x20ff97[(_0x15a6('0x17f'))](_0x2c5116['targetVoxelPosition'],_0x1b74a1[_0x15a6('0x116')]));}}}if(!_0x1b74a1[_0x15a6('0x191')][_0x15a6('0x195')]&&!_0x1b74a1['input'][_0x15a6('0xf9')]){if(_0x1b74a1['input'][_0x15a6('0xf')]('mouse_right')&&_0x3112c2||_0x1b74a1[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0xa7'))&&!_0x3112c2){_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x18c')](_0x5342ad,_0x2c5116[_0x15a6('0x204')],!![],_0x1b74a1[_0x15a6('0x1f3')][_0x15a6('0x1be')]);}}if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0xf')](_0x15a6('0xa7'))&&_0x3112c2||_0x1b74a1['input'][_0x15a6('0x1e3')](_0x15a6('0xa7'))&&!_0x3112c2){if(_0x2c5116[_0x15a6('0x204')]){if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0x195')]){_0x1b74a1[_0x15a6('0x70')](_0x2c5116[_0x15a6('0x116')]);}else if(_0x1b74a1[_0x15a6('0x191')][_0x15a6('0xf9')]){_0x1b74a1['voxelMesh']['setVoxel'](_0x5342ad,new _0x20ff97[(_0x15a6('0x17f'))](_0x2c5116[_0x15a6('0x22')],_0x2c5116[_0x15a6('0x116')]));_0x1b74a1[_0x15a6('0x34')][_0x15a6('0x18c')](_0x5342ad,_0x2c5116[_0x15a6('0x204')]);}}}}[_0x15a6('0x80')](_0x36cae1){$(_0x15a6('0x1b2'))['show']();}[_0x15a6('0x1d3')](_0x51ef5f){$(_0x15a6('0x1b2'))[_0x15a6('0xfe')]();this[_0x15a6('0x2d')](_0x51ef5f);}[_0x15a6('0xbb')](){return _0x15a6('0x209');}get[_0x15a6('0x14d')](){return _0x15a6('0x2b7');}}_0x147913[_0x15a6('0x66')]=_0x53fc0b;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],9:[function(_0x253bdd,_0x51f072,_0x4c38af){const _0x467290=_0x253bdd('./exporters_base');const _0x23a8ce=_0x253bdd('./../libs')['THREE'];class _0x145b08 extends _0x467290{constructor(_0x32a77c){super(_0x32a77c);}[_0x15a6('0x28b')](_0x436595,_0x55fb5d,_0x2b8ad6){var _0x215275=new _0x23a8ce[(_0x15a6('0x2c2'))]();var _0x2a87bf=_0x215275[_0x15a6('0x11b')](_0x436595)[_0x15a6('0xec')];return _0x2a87bf;}get[_0x15a6('0x16b')](){return{'vertexColor':!![],'texture':!![]};}get['fileExtension'](){return _0x15a6('0x56');}}_0x51f072['exports']=_0x145b08;},{'./../libs':0x11,'./exporters_base':0xe}],10:[function(_0x340dc7,_0x501eb3,_0xb81580){const _0x345b28=_0x340dc7(_0x15a6('0x2b8'));const _0x143072=_0x340dc7('./../libs')[_0x15a6('0x260')];class _0x5b9bc5 extends _0x345b28{constructor(_0x1288d5){super(_0x1288d5);}[_0x15a6('0x28b')](_0x539538,_0x435ae1,_0x341bc9){var _0x471cec=new _0x143072['GLTFExporter']();_0x471cec[_0x15a6('0x11b')](_0x539538,_0xbae528=>{_0x341bc9(JSON[_0x15a6('0x159')](_0xbae528));});}get[_0x15a6('0x16b')](){return{'vertexColor':!![],'texture':!![]};}get['fileExtension'](){return'.gltf';}}_0x501eb3[_0x15a6('0x66')]=_0x5b9bc5;},{'./../libs':0x11,'./exporters_base':0xe}],11:[function(_0x36a793,_0x55faaa,_0x2939ed){const _0x5eea0f=_0x36a793('./exporters_base');const _0x3c9be3=_0x36a793('./../libs')['THREE'];class _0x20ae48 extends _0x5eea0f{constructor(_0x28f82a){super(_0x28f82a);}[_0x15a6('0x28b')](_0x483ade,_0x86786d){var _0x112ea2=new _0x3c9be3[(_0x15a6('0x1e2'))]();var _0x3ca3a1=_0x112ea2[_0x15a6('0x11b')](_0x483ade,{'vertexColors':_0x86786d[_0x15a6('0xf0')]=='vertex'});return _0x3ca3a1;}get['options'](){return{'colorsComment':'Note:\x20.obj\x20with\x20vertex\x20color\x20is\x20non-standard\x20and\x20not\x20guaranteed\x20to\x20work\x20everywhere.','vertexColor':!![],'texture':!![]};}get[_0x15a6('0x170')](){return _0x15a6('0xa2');}}_0x55faaa[_0x15a6('0x66')]=_0x20ae48;},{'./../libs':0x11,'./exporters_base':0xe}],12:[function(_0x100386,_0x28db5a,_0x5e9936){const _0x29cd47=_0x100386(_0x15a6('0x2b8'));const _0x3fc78b=_0x100386('./../libs')['THREE'];class _0x3fd9c7 extends _0x29cd47{constructor(_0x4c346e){super(_0x4c346e);}[_0x15a6('0x28b')](_0x5a244a,_0x3a8240){var _0x2b81be={'binary':_0x3a8240[_0x15a6('0x227')],'excludeAttributes':_0x3a8240[_0x15a6('0xf0')]===_0x15a6('0x0')?[_0x15a6('0x17')]:['uv']};var _0x56318b=new _0x3fc78b[(_0x15a6('0x193'))]();var _0x3f07d1=_0x56318b[_0x15a6('0x11b')](_0x5a244a,null,_0x2b81be);return _0x3f07d1;}get[_0x15a6('0x16b')](){return{'vertexColor':!![],'texture':!![],'binary':!![]};}get[_0x15a6('0x170')](){return _0x15a6('0xaa');}}_0x28db5a[_0x15a6('0x66')]=_0x3fd9c7;},{'./../libs':0x11,'./exporters_base':0xe}],13:[function(_0x5028ee,_0x42d780,_0x463e33){const _0x525c0d=_0x5028ee(_0x15a6('0x2b8'));const _0x1d2ee7=_0x5028ee(_0x15a6('0x132'))[_0x15a6('0x260')];class _0xf0844f extends _0x525c0d{constructor(_0x50d78c){super(_0x50d78c);}['exportModel'](_0x186f19,_0x46c16b,_0x5eaaa6){var _0x422b72=new _0x1d2ee7[(_0x15a6('0x146'))]();var _0x3eac14=_0x422b72[_0x15a6('0x11b')](_0x186f19,{'binary':_0x46c16b[_0x15a6('0x227')]});return _0x3eac14;}get[_0x15a6('0x2b6')](){return![];}get[_0x15a6('0x16b')](){return{'colorsComment':_0x15a6('0x290'),'vertexColor':!![],'binary':!![],'texture':!![]};}get[_0x15a6('0x170')](){return'.stl';}}_0x42d780[_0x15a6('0x66')]=_0xf0844f;},{'./../libs':0x11,'./exporters_base':0xe}],14:[function(_0x4bcbf1,_0x2c2c1a,_0x5a01c0){const _0x5570a9=_0x4bcbf1(_0x15a6('0x132'));const _0x53e5a3=_0x5570a9[_0x15a6('0x260')];class _0x39fad4{constructor(_0x3a2c96){this[_0x15a6('0xb4')]=_0x3a2c96;}['_exportMeshBase'](_0x4a4692,_0x1f5bd0,_0x5ca184){var _0xc88a24=$(_0x15a6('0x1e0'));_0xc88a24[_0x15a6('0x45')]('#export-mesh-description')[_0x15a6('0x20f')](_0x1f5bd0);_0xc88a24[_0x15a6('0x45')](_0x15a6('0x1db'))[_0x15a6('0x21a')](_0x15a6('0x7b'),_0x5ca184['binary']?'inline-block':_0x15a6('0xcd'));_0xc88a24['find'](_0x15a6('0xfc'))[_0x15a6('0x130')]('placeholder',this['manager'][_0x15a6('0x34')]['name']+_0x1f5bd0)['val'](this['manager'][_0x15a6('0x34')][_0x15a6('0x14d')]+_0x1f5bd0);_0xc88a24['find']('#export-color-mode-comment')['text'](_0x5ca184['colorsComment']||'');_0xc88a24[_0x15a6('0x143')]({'backdrop':'static','keyboard':![]});_0xc88a24[_0x15a6('0x45')]('#export-btn')[0x0][_0x15a6('0x1d')]=()=>{var _0x23f867={'binary':_0xc88a24[_0x15a6('0x45')](_0x15a6('0x264'))[_0x15a6('0x41')](_0x15a6('0x113')),'colors':_0xc88a24['find'](_0x15a6('0xd9'))['prop'](_0x15a6('0x113'))?_0x15a6('0x29d'):'texture'};var _0x3393b0=_0xc88a24[_0x15a6('0x45')](_0x15a6('0xfc'))['val']()||_0xc88a24[_0x15a6('0x45')](_0x15a6('0xfc'))[_0x15a6('0x130')](_0x15a6('0xab'));var _0x1fa9d5=$(_0x15a6('0x6a'))[_0x15a6('0x6f')]();var _0x3327ed;var _0x5e0b1f=![];switch(_0x1fa9d5){case _0x15a6('0x173'):_0x3327ed=this[_0x15a6('0xb4')][_0x15a6('0x34')][_0x15a6('0x263')](![]);_0x5e0b1f=!![];break;case _0x15a6('0x8'):_0x3327ed=this['manager'][_0x15a6('0x34')]['getCombinedLayer'](!![]);_0x5e0b1f=!![];break;case _0x15a6('0x8b'):_0x3327ed=this['manager'][_0x15a6('0x293')];break;}if(_0x3327ed[_0x15a6('0x11d')]===0x0){bootbox[_0x15a6('0x10')](_0x15a6('0x255'));if(_0x5e0b1f){_0x3327ed[_0x15a6('0x24')](!![]);}return;}var _0x56bd8a=![];var _0x3f7629=_0x23f867[_0x15a6('0xf0')]===_0x15a6('0x0');var _0x53bad7;var _0x302d41=$(_0x15a6('0x286'))[_0x15a6('0x41')]('checked');if(_0x302d41){_0x53bad7=_0x3327ed[_0x15a6('0x1b3')](_0x3f7629);_0x56bd8a=!![];}else{_0x3327ed[_0x15a6('0x71')]();_0x53bad7=_0x3327ed['_mesh'];}_0x4a4692(_0x53bad7,_0x4f5658=>{var _0x4870b6=new Blob([_0x4f5658],{'type':_0x15a6('0x179')});_0x5570a9[_0x15a6('0x1cd')][_0x15a6('0xe0')](_0x4870b6,_0x3393b0);if(_0x3f7629){var _0x3b294d=document['createElement']('a');_0x3b294d[_0x15a6('0xe')]=this[_0x15a6('0xb4')][_0x15a6('0x34')]['paletteImage'][_0x15a6('0x25c')];_0x3b294d[_0x15a6('0x4d')]='palette.png';_0x3b294d[_0x15a6('0x185')]();}this[_0x15a6('0xb4')][_0x15a6('0x1f4')]();_0xc88a24['modal'](_0x15a6('0xfe'));var _0x12e605=this['canShowPreview']&&!_0x23f867[_0x15a6('0x227')];bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0x134'),'message':_0x15a6('0x1dd')+_0x53bad7[_0x15a6('0x198')]['vertices'][_0x15a6('0x3b')]+_0x15a6('0x1b7')+_0x53bad7[_0x15a6('0x198')][_0x15a6('0x151')]['length']+(_0x12e605?_0x15a6('0x137'):_0x15a6('0x234')),'callback':_0x55fe62=>{if(_0x55fe62&&_0x12e605){localStorage[_0x15a6('0x2b1')]('voxelator_use_texture',_0x3f7629);localStorage[_0x15a6('0x2b1')](_0x15a6('0x288'),_0x4f5658);localStorage[_0x15a6('0x2b1')](_0x15a6('0x1a1'),this[_0x15a6('0xb4')]['voxelMesh'][_0x15a6('0xf8')][_0x15a6('0x25c')]);localStorage[_0x15a6('0x2b1')]('voxelator_model_type',this[_0x15a6('0x170')]);window[_0x15a6('0x28d')](_0x15a6('0xc1'),_0x15a6('0xb8'));}}});if(_0x5e0b1f){_0x3327ed[_0x15a6('0x24')](!![]);}if(_0x56bd8a){_0x53bad7[_0x15a6('0x198')][_0x15a6('0x24')]();_0x53bad7[_0x15a6('0x12b')][_0x15a6('0x24')]();}},_0x23f867);};}get[_0x15a6('0x2b6')](){return!![];}[_0x15a6('0x273')](){this['_exportMeshBase']((_0x17e17a,_0x52a6ed,_0x1c0abd)=>{var _0x431a9e=this[_0x15a6('0x28b')](_0x17e17a,_0x1c0abd,_0x52a6ed);if(_0x431a9e){_0x52a6ed(_0x431a9e);}},this[_0x15a6('0x170')],this['options']);}[_0x15a6('0x28b')](_0x78e541,_0x248999,_0x204fe5){throw new Error(_0x15a6('0x21d'));}get[_0x15a6('0x16b')](){throw new Error(_0x15a6('0x21d'));}get[_0x15a6('0x170')](){throw new Error(_0x15a6('0x21d'));}}_0x2c2c1a[_0x15a6('0x66')]=_0x39fad4;},{'./../libs':0x11}],15:[function(_0x2fbcbb,_0x55c636,_0x184634){_0x55c636[_0x15a6('0x66')]={'ExportersBase':_0x2fbcbb(_0x15a6('0x2b8')),'ExporterPly':_0x2fbcbb('./export_ply'),'ExporterObj':_0x2fbcbb(_0x15a6('0x150')),'ExporterGltf':_0x2fbcbb(_0x15a6('0x88')),'ExporterStl':_0x2fbcbb(_0x15a6('0x1')),'ExporterDae':_0x2fbcbb(_0x15a6('0x99'))};},{'./export_dae':0x9,'./export_gltf':0xa,'./export_obj':0xb,'./export_ply':0xc,'./export_stl':0xd,'./exporters_base':0xe}],16:[function(_0x1186b3,_0x28b78a,_0x5f3a88){_0x28b78a['exports']=_0x1186b3(_0x15a6('0x294'));},{'./manager':0x12}],17:[function(_0x3a589c,_0xc80c37,_0x379f8c){_0xc80c37[_0x15a6('0x66')]=window[_0x15a6('0x1a5')];},{}],18:[function(_0x16b7bd,_0x1d450c,_0x2af1db){const _0x2435b9=_0x16b7bd(_0x15a6('0x285'));const _0x30383d=_0x16b7bd(_0x15a6('0xc2'));const _0x5bdcdf=_0x30383d[_0x15a6('0x260')];const _0x5a0d1f=_0x30383d[_0x15a6('0x145')];const _0x43cba6=_0x30383d[_0x15a6('0x19c')];const _0x572249=_0x16b7bd(_0x15a6('0xfa'));const _0x375f65=_0x16b7bd(_0x15a6('0x176'));const _0x57c01e=_0x16b7bd(_0x15a6('0x203'));const _0x8ebb3f='1.0.0';class _0x55d6ca{[_0x15a6('0x232')](){var _0x46494e=new _0x5bdcdf['WebGLRenderer']();_0x46494e[_0x15a6('0x50')](window[_0x15a6('0x196')],window[_0x15a6('0x3f')]);_0x46494e[_0x15a6('0x278')](0x7db7ed,0x1);document['body']['appendChild'](_0x46494e[_0x15a6('0x13b')]);_0x46494e[_0x15a6('0x13b')]['style']['position']=_0x15a6('0x30');_0x46494e[_0x15a6('0x13b')]['style']['zIndex']=-0x1;this[_0x15a6('0xff')]=_0x46494e;var _0x260035=new _0x5bdcdf[(_0x15a6('0x9c'))]();this[_0x15a6('0x18a')]=_0x260035;var _0x3bf78e=new _0x5bdcdf[(_0x15a6('0x164'))](0x2d,window[_0x15a6('0x196')]/window[_0x15a6('0x3f')],0x1,0x3e8);this[_0x15a6('0x1f3')]=_0x3bf78e;this[_0x15a6('0xa4')]();this[_0x15a6('0x128')]={};for(var _0x41dabc in _0x375f65){this[_0x15a6('0x128')][_0x41dabc]=new _0x375f65[_0x41dabc](this);}var _0x4c933d=new _0x5bdcdf['AxesHelper'](0x5);_0x4c933d[_0x15a6('0x18f')][_0x15a6('0x10c')](0x1f4,0x1f4,0x1f4);_0x4c933d['position']['y']=0.005;_0x260035[_0x15a6('0xf5')](_0x4c933d);this[_0x15a6('0x96')]=_0x4c933d;var _0x1675c0=new _0x5bdcdf['GridHelper'](0x3e8,0x3e8);_0x260035['add'](_0x1675c0);this[_0x15a6('0x1ec')]=_0x1675c0;var _0x2ed259=new _0x5bdcdf['DirectionalLight'](0xffffff,0.5);_0x2ed259[_0x15a6('0x1be')][_0x15a6('0x10c')](-0.15,0x1,0.4);_0x260035[_0x15a6('0xf5')](_0x2ed259);this[_0x15a6('0x4e')]=_0x2ed259;_0x2ed259=new _0x5bdcdf['DirectionalLight'](0xacacac,0.45);_0x2ed259[_0x15a6('0x1be')][_0x15a6('0x10c')](0x1,-0.1,0.15);_0x260035[_0x15a6('0xf5')](_0x2ed259);this[_0x15a6('0x1e6')]=_0x2ed259;_0x2ed259=new _0x5bdcdf[(_0x15a6('0x189'))](0x777777,0.25);_0x2ed259[_0x15a6('0x1be')][_0x15a6('0x10c')](-0.5,0.5,-0.5);_0x260035[_0x15a6('0xf5')](_0x2ed259);this[_0x15a6('0x1ab')]=_0x2ed259;var _0x49fa67=new _0x5bdcdf[(_0x15a6('0x168'))](0x777777);this[_0x15a6('0x1f2')]=_0x49fa67;_0x260035[_0x15a6('0xf5')](_0x49fa67);var _0x41bc90=new _0x5a0d1f();_0x41bc90[_0x15a6('0x21e')](0x0);document['body'][_0x15a6('0x1ea')](_0x41bc90['dom']);this[_0x15a6('0x1b6')]=_0x41bc90;this[_0x15a6('0x191')]=new _0x30383d['StInput'](window);this[_0x15a6('0xc0')]=0x0;this[_0x15a6('0x1de')]=![];var _0x18ce15=atob;var _0x488853='dm94ZWxhd';this['_onCanvas']=!![];_0x46494e[_0x15a6('0x13b')]['addEventListener'](_0x15a6('0x1d8'),()=>{this['_onCanvas']=!![];});_0x46494e[_0x15a6('0x13b')][_0x15a6('0x1e4')](_0x15a6('0x2be'),()=>{this['_onCanvas']=!![];});_0x46494e[_0x15a6('0x13b')]['addEventListener'](_0x15a6('0x7f'),()=>{this['_onCanvas']=![];});_0x46494e['domElement'][_0x15a6('0x1e4')](_0x15a6('0x23f'),_0x135089=>{this['_onCanvas']=!![];if(this['isInUI']){this['_waitingForClickAfterUI']=![];this['mouseLeaveUI']();}if(_0x135089[_0x15a6('0x84')]===0x0){this[_0x15a6('0x1d6')]=![];}});this[_0x15a6('0x177')]=new _0x5bdcdf[(_0x15a6('0x26a'))]();var _0x4b87ed=()=>{_0x3bf78e[_0x15a6('0x133')]=window[_0x15a6('0x196')]/window[_0x15a6('0x3f')];_0x3bf78e[_0x15a6('0xe4')]();_0x46494e[_0x15a6('0x50')](window[_0x15a6('0x196')],window['innerHeight']);};window['addEventListener'](_0x15a6('0x1a6'),_0x4b87ed,![]);this[_0x15a6('0x119')]=new _0x5bdcdf[(_0x15a6('0xf2'))](0x0,0x0);var _0x49d08c=_0x53ae21=>{var _0xd4ec61=_0x53ae21[_0x15a6('0x178')]/window[_0x15a6('0x196')]*0x2-0x1;var _0x3c21cb=-(_0x53ae21[_0x15a6('0x69')]/window[_0x15a6('0x3f')])*0x2+0x1;this[_0x15a6('0x119')]=new _0x5bdcdf['Vector2'](_0xd4ec61,_0x3c21cb);};window[_0x15a6('0x1e4')](_0x15a6('0x2be'),_0x49d08c);this[_0x15a6('0x94')](_0x15a6('0x100'));this[_0x15a6('0xcb')]=[];this[_0x15a6('0x281')]=[];this['_lastRedoVersion']=-0x1;this['voxelMesh']=new _0x2435b9[(_0x15a6('0x252'))](this['scene']);this[_0x15a6('0x34')][_0x15a6('0xb7')](this[_0x15a6('0x18a')]);this[_0x15a6('0x34')][_0x15a6('0x1ad')]=()=>{this[_0x15a6('0x126')]=!![];};this[_0x15a6('0x126')]=!![];this[_0x15a6('0x34')][_0x15a6('0x48')]=()=>{this['_onLayersChange']();};this[_0x15a6('0xd8')]();this['_lastTime']=new Date()[_0x15a6('0x216')]();this[_0x15a6('0x35')]();this['activeLayerIndex']=0x0;this[_0x15a6('0x162')]={};this['_selectedMode']=null;for(var _0x41dabc in _0x572249){this[_0x15a6('0x162')][_0x41dabc]=new _0x572249[_0x41dabc]();this['_modes'][_0x41dabc][_0x15a6('0x232')](this);}this[_0x15a6('0x7')]('VoxelsPencil');this[_0x15a6('0x5f')]();var _0x45fa20=()=>{requestAnimationFrame(_0x45fa20);this[_0x15a6('0x12c')]();};_0x45fa20();if(window[_0x15a6('0xd1')][_0x15a6('0x2ac')]!==_0x18ce15(_0x488853+_0x15a6('0x238'))){var _0x33b3c8=new Date()[_0x15a6('0x216')]()%0xa+0x4;var _0x56fd3c=Object[_0x15a6('0x224')](this);for(var _0xc1d4d7=0x0;_0xc1d4d7<_0x33b3c8;++_0xc1d4d7){this[_0x56fd3c[_0x56fd3c[_0x15a6('0x3b')]*Math[_0x15a6('0x154')]()<<0x0]]=null;}}}[_0x15a6('0x94')](_0x11b5ab){$(_0x11b5ab)['on'](_0x15a6('0x1d8'),()=>{this[_0x15a6('0x251')]();})['on'](_0x15a6('0x7f'),()=>{this[_0x15a6('0x1f4')]();})['on']('mousedown',()=>{this[_0x15a6('0x187')]=!![];});}get[_0x15a6('0x297')](){return this[_0x15a6('0xd6')];}get[_0x15a6('0x293')](){return this['voxelMesh'][_0x15a6('0x20b')][this[_0x15a6('0xd6')]];}['undo'](){if(this['_undoStack']['length']==0x0){return;}this[_0x15a6('0x281')][_0x15a6('0x1d9')](this[_0x15a6('0x34')]['serialize']());var _0x501aa7=this[_0x15a6('0xcb')][_0x15a6('0x142')]();this['voxelMesh'][_0x15a6('0x1aa')](_0x501aa7);this[_0x15a6('0x23')]=this[_0x15a6('0x34')][_0x15a6('0x49')];this[_0x15a6('0xda')]();this[_0x15a6('0x126')]=![];this['_needDoubleUndoPop']=![];this[_0x15a6('0x5c')]=_0x501aa7;}[_0x15a6('0x44')](){if(this[_0x15a6('0x281')][_0x15a6('0x3b')]==0x0){return;}var _0x2e88f1=this['_redoStack']['pop']();this[_0x15a6('0x34')][_0x15a6('0x1aa')](_0x2e88f1);this[_0x15a6('0x23')]=this[_0x15a6('0x34')][_0x15a6('0x49')];this[_0x15a6('0xda')]();this[_0x15a6('0x126')]=![];this[_0x15a6('0x5c')]=null;}[_0x15a6('0xda')](){if(this[_0x15a6('0xcb')]['length']){$(_0x15a6('0x59'))[_0x15a6('0x26e')](_0x15a6('0xe3'));}else{$(_0x15a6('0x59'))[_0x15a6('0x91')](_0x15a6('0xe3'));}if(this[_0x15a6('0x281')]['length']){$(_0x15a6('0x2b2'))[_0x15a6('0x26e')]('disabled');}else{$(_0x15a6('0x2b2'))[_0x15a6('0x91')](_0x15a6('0xe3'));}}set[_0x15a6('0x297')](_0x4ddff1){if(_0x4ddff1<0x0)_0x4ddff1=0x0;if(_0x4ddff1>=this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x15a6('0x3b')])_0x4ddff1=this[_0x15a6('0x34')]['_layers'][_0x15a6('0x3b')]-0x1;this[_0x15a6('0xd6')]=_0x4ddff1;$(_0x15a6('0x2c3'))['removeClass'](_0x15a6('0x4f'));$($(_0x15a6('0x105'))[_0x15a6('0x223')]()[_0x4ddff1])[_0x15a6('0x91')](_0x15a6('0x4f'));}[_0x15a6('0x5f')](){$(_0x15a6('0xc6'))['text']('\x22'+this[_0x15a6('0x34')][_0x15a6('0x14d')]+'\x22');document[_0x15a6('0x1c')]=_0x15a6('0x15d')+this[_0x15a6('0x34')][_0x15a6('0x14d')];}[_0x15a6('0xc8')](){bootbox[_0x15a6('0xba')]({'title':_0x15a6('0x26b'),'message':_0x15a6('0x16c'),'inputType':_0x15a6('0x23c'),'inputOptions':[{'text':_0x15a6('0x2a4'),'value':'0x7db7ed'},{'text':'Dark\x20Blue','value':_0x15a6('0xc5')},{'text':_0x15a6('0x3c'),'value':_0x15a6('0x29f')},{'text':'White','value':'0xffffff'},{'text':'Grey','value':_0x15a6('0x29a')}],'callback':_0x118f90=>{var _0x4c1117=parseInt(_0x118f90);this[_0x15a6('0xff')][_0x15a6('0x278')](_0x4c1117,0x1);var _0xba5aa5=[_0x15a6('0x2c5'),_0x15a6('0x5a')];$(_0x15a6('0x149'))['css'](_0x15a6('0x17'),_0xba5aa5[_0x15a6('0xcf')](_0x118f90)!==-0x1?'black':_0x15a6('0x158'));}});}[_0x15a6('0x7')](_0x48bc61){if(this['_selectedMode']){this['_selectedMode'][_0x15a6('0x1d3')](this);}this[_0x15a6('0x27')]=this[_0x15a6('0x162')][_0x48bc61];this[_0x15a6('0x27')]['onSelected'](this);var _0x3e8b58=$(_0x15a6('0x208'));if(this[_0x15a6('0x27')][_0x15a6('0x17a')]){_0x3e8b58[_0x15a6('0x1f')]();}else{_0x3e8b58['hide']();}}[_0x15a6('0x107')](_0x79e25f){this[_0x15a6('0x96')][_0x15a6('0x8')]=_0x79e25f;}[_0x15a6('0x242')](_0x488527){this[_0x15a6('0x1ec')][_0x15a6('0x8')]=_0x488527;}[_0x15a6('0xa4')](){var _0x25cce9=this['camera'];_0x25cce9[_0x15a6('0x1be')]['x']=0xf;_0x25cce9[_0x15a6('0x1be')]['y']=0xf;_0x25cce9[_0x15a6('0x1be')]['z']=0xf;_0x25cce9[_0x15a6('0xa6')](new _0x5bdcdf[(_0x15a6('0x289'))](0x0,0x0,0x0));this[_0x15a6('0x83')]();}[_0x15a6('0xa')](_0x47d658){var _0x56391b=this[_0x15a6('0x1f3')];var _0x1acf5c=this[_0x15a6('0x34')][_0x15a6('0x3')]();var _0x122edf=new _0x5bdcdf['Vector3']();_0x1acf5c[_0x15a6('0x121')](_0x122edf);var _0x2acdd7=new _0x5bdcdf[(_0x15a6('0x289'))](_0x1acf5c[_0x15a6('0xc7')]['x']+_0x122edf['x']/0x2,_0x1acf5c['min']['y']+_0x122edf['y']/0x2,_0x1acf5c['min']['z']+_0x122edf['z']/0x2);_0x56391b['position'][_0x15a6('0x10c')](_0x2acdd7['x'],_0x2acdd7['y'],_0x2acdd7['z']);var _0x1364f9=_0x2acdd7[_0x15a6('0x284')]();var _0x312d79=0xa;switch(_0x47d658){case _0x15a6('0x2ab'):if(this[_0x15a6('0x3d')]){_0x1acf5c=this[_0x15a6('0x3d')];_0x1acf5c[_0x15a6('0x121')](_0x122edf);_0x2acdd7=new _0x5bdcdf['Vector3'](_0x1acf5c['min']['x']+_0x122edf['x']/0x2,_0x1acf5c[_0x15a6('0xc7')]['y']+_0x122edf['y']/0x2,_0x1acf5c[_0x15a6('0xc7')]['z']+_0x122edf['z']/0x2);_0x56391b['position'][_0x15a6('0x10c')](_0x2acdd7['x'],_0x2acdd7['y'],_0x2acdd7['z']);_0x56391b[_0x15a6('0x1be')]['z']+=_0x122edf['z']/0x2+_0x312d79;var _0x1364f9=_0x2acdd7['clone']();}break;case _0x15a6('0xbf'):_0x56391b['position']['z']+=_0x122edf['z']/0x2+_0x312d79;break;case _0x15a6('0x13e'):_0x56391b['position']['z']-=_0x122edf['z']/0x2+_0x312d79;break;case'left':_0x56391b[_0x15a6('0x1be')]['x']-=_0x122edf['x']/0x2+_0x312d79;break;case'right':_0x56391b[_0x15a6('0x1be')]['x']+=_0x122edf['x']/0x2+_0x312d79;break;case _0x15a6('0xf3'):_0x56391b[_0x15a6('0x1be')]['y']+=_0x122edf['y']/0x2+_0x312d79;break;case _0x15a6('0x82'):_0x56391b[_0x15a6('0x1be')]['y']-=_0x122edf['y']/0x2+_0x312d79;break;default:throw new Error(_0x15a6('0x36')+_0x47d658+'\x27.');}_0x56391b['lookAt'](_0x1364f9);this[_0x15a6('0x83')]();}['_onLayersChange'](){var _0x4ef063=$(_0x15a6('0x105'));_0x4ef063[_0x15a6('0x47')]();for(var _0x52fa84=0x0;_0x52fa84<this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x52fa84){var _0x5e4369=this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x52fa84];var _0x43ac4e=$(_0x15a6('0x1dc')+_0x52fa84+_0x15a6('0x157')+_0x52fa84+_0x15a6('0xef')+_0x15a6('0x2af')+_0x15a6('0x26d')+_0x15a6('0x226')+_0x5e4369['name']+_0x15a6('0x207')+_0x15a6('0x2ae'));_0x4ef063['append'](_0x43ac4e);var _0x1ddd56=this;_0x43ac4e['on'](_0x15a6('0x185'),function(){_0x1ddd56[_0x15a6('0x297')]=parseInt($(this)['data'](_0x15a6('0x25f')));});_0x43ac4e['find']('.layer-visible')['on'](_0x15a6('0x185'),function(){var _0x47ae7c=parseInt($(this)['parent']()[_0x15a6('0xec')](_0x15a6('0x25f')));_0x1ddd56['voxelMesh'][_0x15a6('0x20b')][_0x47ae7c]['visible']=!_0x1ddd56[_0x15a6('0x34')][_0x15a6('0x20b')][_0x47ae7c][_0x15a6('0x8')];return![];});_0x43ac4e[_0x15a6('0x45')](_0x15a6('0x2a2'))['on'](_0x15a6('0x185'),function(){var _0x48216b=parseInt($(this)[_0x15a6('0x291')]()[_0x15a6('0xec')](_0x15a6('0x25f')));_0x1ddd56['voxelMesh'][_0x15a6('0x20b')][_0x48216b][_0x15a6('0xb2')]=!_0x1ddd56[_0x15a6('0x34')]['_layers'][_0x48216b][_0x15a6('0xb2')];return![];});_0x43ac4e[_0x15a6('0x45')](_0x15a6('0x262'))['on'](_0x15a6('0x25e'),function(){var _0x52584d=parseInt($(this)[_0x15a6('0x291')]()['parent']()[_0x15a6('0xec')]('index'));_0x1ddd56[_0x15a6('0x1d6')]=!![];_0x1ddd56[_0x15a6('0x34')][_0x15a6('0x20b')][_0x52584d][_0x15a6('0x14d')]=$(this)['val']();return![];});}this[_0x15a6('0x297')]=this[_0x15a6('0x297')];}[_0x15a6('0x1da')](){if(this[_0x15a6('0x297')]>0x0){this[_0x15a6('0x34')][_0x15a6('0x27c')](this['activeLayerIndex']);this[_0x15a6('0x297')]--;}}['moveActiveLayerDown'](){if(this['activeLayerIndex']<this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x15a6('0x3b')]-0x1){this['voxelMesh']['moveLayerDown'](this[_0x15a6('0x297')]);this[_0x15a6('0x297')]++;}}[_0x15a6('0x13a')](){if(this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x15a6('0x3b')]===0x1){return bootbox[_0x15a6('0x10')](_0x15a6('0x213'));}if(this['activeLayer']['isEmpty']){return this[_0x15a6('0x2ad')]();}bootbox[_0x15a6('0xf1')](_0x15a6('0x3a'),_0x34ee3e=>{if(_0x34ee3e){this[_0x15a6('0x2ad')]();}});}['deleteActiveLayer'](){this[_0x15a6('0x34')][_0x15a6('0x12e')](this[_0x15a6('0x297')]);if(this[_0x15a6('0x297')]>=this['voxelMesh'][_0x15a6('0x20b')][_0x15a6('0x3b')]){this['activeLayerIndex']--;}}[_0x15a6('0x83')](){if(this[_0x15a6('0x23d')]){this['controls'][_0x15a6('0x24')]();}var _0x56cded=new _0x5bdcdf[(_0x15a6('0x8f'))](this[_0x15a6('0xff')],this[_0x15a6('0x18a')],this[_0x15a6('0x1f3')]);this['controls']=_0x56cded;}['enableLighting'](_0x41fb08){if(_0x41fb08){this['scene']['add'](this[_0x15a6('0x4e')]);this[_0x15a6('0x18a')][_0x15a6('0xf5')](this['directionalLight2']);this['scene']['add'](this[_0x15a6('0x1ab')]);}else{this[_0x15a6('0x18a')][_0x15a6('0x206')](this[_0x15a6('0x4e')]);this[_0x15a6('0x18a')][_0x15a6('0x206')](this[_0x15a6('0x1e6')]);this['scene']['remove'](this[_0x15a6('0x1ab')]);}this[_0x15a6('0x34')][_0x15a6('0x10b')](_0x41fb08);}[_0x15a6('0x35')](){var _0x1097e9=$(_0x15a6('0x163'));for(var _0x37ca26=0x0;_0x37ca26<this['voxelMesh'][_0x15a6('0xe1')];++_0x37ca26){var _0x3b9783=$(_0x15a6('0x205')+_0x37ca26+_0x15a6('0x257')+_0x37ca26+_0x15a6('0x1c5'));_0x1097e9[_0x15a6('0x93')](_0x3b9783);var _0x3e7e56=this;_0x3b9783['on'](_0x15a6('0x23f'),function(_0x273765){var _0x3fae19=parseInt(this['id'][_0x15a6('0x222')](_0x15a6('0x8a'))[0x1]);_0x3e7e56[_0x15a6('0x70')](_0x3fae19);});_0x3b9783['on'](_0x15a6('0x27f'),function(_0x337332){var _0x203855=parseInt(this['id'][_0x15a6('0x222')](_0x15a6('0x8a'))[0x1]);_0x3e7e56[_0x15a6('0x34')][_0x15a6('0x202')](_0x203855,$(this)[_0x15a6('0x6f')]());});}this['selectColorFromPalette'](0x0);this[_0x15a6('0x1b5')]();}[_0x15a6('0x12d')](){bootbox[_0x15a6('0xba')]({'title':_0x15a6('0x169'),'message':_0x15a6('0xad'),'inputType':_0x15a6('0x23c'),'inputOptions':[{'text':_0x15a6('0x1d0'),'value':_0x15a6('0x87')},{'text':_0x15a6('0x1c4'),'value':_0x15a6('0x138')},{'text':_0x15a6('0x1a3'),'value':_0x15a6('0x27d')},{'text':'RESURRECT+','value':_0x15a6('0x85')},{'text':_0x15a6('0xde'),'value':_0x15a6('0x135')},{'text':_0x15a6('0x186'),'value':_0x15a6('0x1f1')},{'text':_0x15a6('0xa1'),'value':_0x15a6('0xbe')},{'text':'BASIC','value':_0x15a6('0x229')}],'callback':_0x119fb6=>{this[_0x15a6('0x32')](_0x15a6('0x280')+_0x119fb6);}});}[_0x15a6('0x32')](_0x14d9fe){var _0x3b32fe=new Image();var _0x2bf26c=document[_0x15a6('0x2c1')]('canvas');var _0x4ecb56=new Set();_0x3b32fe[_0x15a6('0x1e4')](_0x15a6('0x1af'),()=>{_0x2bf26c[_0x15a6('0x1cb')]=_0x3b32fe[_0x15a6('0x1cb')];_0x2bf26c[_0x15a6('0x1b4')]=_0x3b32fe['height'];var _0x190309=_0x2bf26c[_0x15a6('0x2a9')]('2d');_0x190309[_0x15a6('0xd0')](_0x3b32fe,0x0,0x0,_0x3b32fe[_0x15a6('0x1cb')],_0x3b32fe[_0x15a6('0x1b4')]);var _0x5aaaeb=0x0;for(var _0x12261d=0x0;_0x12261d<_0x3b32fe[_0x15a6('0x1cb')];++_0x12261d){for(var _0x58d752=0x0;_0x58d752<_0x3b32fe[_0x15a6('0x1b4')];++_0x58d752){if(_0x5aaaeb>=this[_0x15a6('0x34')][_0x15a6('0xe1')]){break;}var _0x33ce31=_0x190309[_0x15a6('0x67')](_0x12261d,_0x58d752,0x1,0x1)[_0x15a6('0xec')];var _0x3e7a39=_0x33ce31[0x0];var _0xacafa8=_0x33ce31[0x1];var _0x821277=_0x33ce31[0x2];var _0x413d37=_0x3e7a39<<0x10|_0xacafa8<<0x8|_0x821277;if(_0x4ecb56[_0x15a6('0x64')](_0x413d37)){continue;}_0x4ecb56[_0x15a6('0xf5')](_0x413d37);var _0x491940=_0x1b9f8b(_0x413d37);$(_0x15a6('0x144')+_0x5aaaeb)[_0x15a6('0x6f')](_0x491940);this['voxelMesh']['setPaletteColor'](_0x5aaaeb,_0x413d37);_0x5aaaeb++;}}bootbox['alert'](_0x15a6('0x1ba')+_0x5aaaeb+_0x15a6('0x1c2'));});_0x3b32fe[_0x15a6('0x25c')]=_0x14d9fe;}[_0x15a6('0x180')](){this[_0x15a6('0x14f')]({'extensions':_0x15a6('0x38'),'mode':'data_url'},(_0x4a683d,_0x1131f3)=>{this['_imageDataToPalette'](_0x4a683d);});}['importVoxFileFromJson'](_0x294a28){var _0x2c4658=JSON[_0x15a6('0x11b')](_0x294a28);var _0x2138b9=new _0x2435b9[(_0x15a6('0x252'))](this[_0x15a6('0x18a')]);_0x2138b9[_0x15a6('0x1aa')](_0x2c4658);this['voxelMesh'][_0x15a6('0x18e')](_0x2138b9);}[_0x15a6('0x14e')](){this[_0x15a6('0x14f')]({'extensions':_0x15a6('0x22a')},(_0xc5d145,_0x123cb8)=>{this['importVoxFileFromJson'](_0xc5d145);});}['importDemoProjects'](){bootbox[_0x15a6('0xba')]({'title':_0x15a6('0xd7'),'message':_0x15a6('0x112'),'inputType':'radio','inputOptions':[{'text':_0x15a6('0x23e'),'value':'voxelator.vox'},{'text':_0x15a6('0x2a'),'value':'tree.vox'},{'text':_0x15a6('0x265'),'value':_0x15a6('0x129')},{'text':_0x15a6('0x52'),'value':_0x15a6('0x1ed')},{'text':_0x15a6('0x279'),'value':_0x15a6('0x11f')}],'callback':_0x2fecd4=>{$[_0x15a6('0x1d5')](_0x15a6('0x102')+_0x2fecd4,_0x129403=>{this['importVoxFileFromJson'](_0x129403);});}});}[_0x15a6('0x118')](_0x3051dc){$[_0x15a6('0x1d5')]('demos/'+_0x3051dc,_0x3a998e=>{this[_0x15a6('0x25a')](_0x3a998e);});}[_0x15a6('0x233')](){bootbox[_0x15a6('0x10')]({'title':'Voxelator\x20v'+_0x8ebb3f,'message':'Voxelator\x20is\x20a\x20free\x20online\x20voxel\x20editing\x20tool.<br\x20/>Made\x20by\x20<a\x20target=\x22_blank\x22\x20href=\x22http://ronenness.com\x22>Ronen\x20Ness</a>,\x202020.<br\x20/>'+_0x15a6('0x1e8')});}[_0x15a6('0x235')](){var _0x4563ca=this['voxelMesh'][_0x15a6('0x299')](this['activeLayerIndex']);if(this[_0x15a6('0x3d')]){_0x4563ca[_0x15a6('0x1fb')](this[_0x15a6('0x3d')]);}}[_0x15a6('0x103')](){if(!this[_0x15a6('0x3d')]){return bootbox[_0x15a6('0x10')](_0x15a6('0x1f6'));}var _0x2e66ac=this[_0x15a6('0x293')];var _0x565d25=this[_0x15a6('0x3d')];var _0xe8ce4c=this['voxelMesh'][_0x15a6('0x22e')](this[_0x15a6('0x297')],_0x2e66ac[_0x15a6('0x14d')]+_0x15a6('0x11c'));for(var _0x2e9ed2=_0x565d25['min']['x'];_0x2e9ed2<=_0x565d25['max']['x'];++_0x2e9ed2){for(var _0x10d46b=_0x565d25[_0x15a6('0xc7')]['y'];_0x10d46b<=_0x565d25[_0x15a6('0x2ca')]['y'];++_0x10d46b){for(var _0x1d9408=_0x565d25[_0x15a6('0xc7')]['z'];_0x1d9408<=_0x565d25[_0x15a6('0x2ca')]['z'];++_0x1d9408){var _0x34af48=new _0x5bdcdf['Vector3'](_0x2e9ed2,_0x10d46b,_0x1d9408);var _0x3eb25a=_0x2e66ac[_0x15a6('0x11e')](_0x34af48);if(_0x3eb25a){_0xe8ce4c[_0x15a6('0x33')](_0x3eb25a);_0x2e66ac[_0x15a6('0x18c')](_0x34af48);}}}}}[_0x15a6('0x72')](_0x252fbc){if(this[_0x15a6('0x293')]['isEditLocked']){return bootbox[_0x15a6('0x10')](_0x15a6('0x2e')+(this[_0x15a6('0x293')]['locked']?_0x15a6('0xb2'):_0x15a6('0xe8'))+'.');}var _0x315dbb=new _0x57c01e[_0x252fbc](this);_0x315dbb[_0x15a6('0x1b')]();}['mergeActiveLayerDown'](){if(this[_0x15a6('0x34')][_0x15a6('0x20b')]['length']>0x1&&this[_0x15a6('0x297')]<this[_0x15a6('0x34')][_0x15a6('0x20b')]['length']-0x1){this['voxelMesh'][_0x15a6('0xa5')](this[_0x15a6('0x297')]);this[_0x15a6('0x297')]=this['activeLayerIndex'];}}[_0x15a6('0x74')](){bootbox[_0x15a6('0x10')]({'title':'Welcome\x20To\x20Voxelator!','message':_0x15a6('0xdd'),'buttons':{'ok':{'label':'Lets\x20Go!'}},'callback':function(){var _0x477c06=new EnjoyHint({'onStart':()=>{this[_0x15a6('0x210')]=![];},'onEnd':()=>{this[_0x15a6('0x210')]=!![];},'onSkip':()=>{this[_0x15a6('0x210')]=!![];}});var _0x4fceeb=[{'selector':_0x15a6('0x1c7'),'description':'Tools\x20selection:\x20here\x20you\x20can\x20select\x20different\x20tools\x20to\x20use.\x20Point\x20on\x20a\x20tool\x20icon\x20to\x20learn\x20more\x20about\x20it.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#colors-palette','description':_0x15a6('0x21c'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':_0x15a6('0x192'),'description':_0x15a6('0x63'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#layers-menu','description':_0x15a6('0x148'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#auto-select-layer-div','description':_0x15a6('0x2b4'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x15a6('0x271'),'description':_0x15a6('0x152'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':_0x15a6('0x140'),'description':_0x15a6('0x201'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#voxel-options-dropdown','description':_0x15a6('0x22d'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':_0x15a6('0x1df'),'description':'The\x20\x27Edit\x27\x20menu\x20contains\x20different\x20transformations\x20and\x20effects\x20you\x20can\x20apply\x20on\x20your\x20mesh.\x20It\x20also\x20contains\x20the\x20undo\x20and\x20redo\x20buttons.\x20Transformations\x20either\x20affect\x20the\x20whole\x20layer,\x20or\x20currently\x20selected\x20region\x20if\x20you\x20have\x20one.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#export-options-dropdown','description':_0x15a6('0x19e'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x15a6('0x4b'),'description':_0x15a6('0x244'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':_0x15a6('0x1e5'),'description':_0x15a6('0x68'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':_0x15a6('0x1e1'),'description':_0x15a6('0x60'),'showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x15a6('0x211'),'description':_0x15a6('0x155'),'showNext':!![],'skipButton':{'text':_0x15a6('0xe2')}},{'selector':'#help-dropdown','description':_0x15a6('0xd5'),'showNext':![],'skipButton':{'text':_0x15a6('0x261')}}];_0x477c06[_0x15a6('0x10c')](_0x4fceeb);_0x477c06[_0x15a6('0x1f5')]();}});}['selectToolWithKey'](){if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('1')){$(_0x15a6('0xea'))[_0x15a6('0x185')]();}else if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('2')){$(_0x15a6('0xcc'))[_0x15a6('0x185')]();}else if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('3')){$(_0x15a6('0x106'))['click']();}else if(this['input'][_0x15a6('0x1e3')]('4')){$(_0x15a6('0xac'))[_0x15a6('0x185')]();}else if(this[_0x15a6('0x191')]['released']('5')){$(_0x15a6('0x15c'))[_0x15a6('0x185')]();}else if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('6')){$(_0x15a6('0xa9'))[_0x15a6('0x185')]();}}[_0x15a6('0x1b5')](){for(var _0x46e734=0x0;_0x46e734<this['voxelMesh']['paletteSize'];++_0x46e734){var _0x7c7f13=_0x1b9f8b(this[_0x15a6('0x34')][_0x15a6('0xd2')](_0x46e734));$('#voxel-color-'+_0x46e734)[_0x15a6('0x6f')](_0x7c7f13);}}[_0x15a6('0x70')](_0x1f1a09){$(_0x15a6('0x111'))[_0x15a6('0x26e')](_0x15a6('0x256'));this[_0x15a6('0xd4')]=_0x1f1a09;$(_0x15a6('0x144')+_0x1f1a09)['addClass'](_0x15a6('0x256'));}get[_0x15a6('0x116')](){return this[_0x15a6('0xd4')];}[_0x15a6('0x28b')](_0x3479e6){this[_0x15a6('0x128')][_0x15a6('0x182')+_0x3479e6][_0x15a6('0x273')]();}[_0x15a6('0x183')](){if(!this[_0x15a6('0x3d')]){return;}for(var _0x46cae1=this[_0x15a6('0x3d')]['min']['x'];_0x46cae1<=this[_0x15a6('0x3d')]['max']['x'];++_0x46cae1){for(var _0x321fd5=this['selectedRegion'][_0x15a6('0xc7')]['y'];_0x321fd5<=this[_0x15a6('0x3d')]['max']['y'];++_0x321fd5){for(var _0x524286=this[_0x15a6('0x3d')][_0x15a6('0xc7')]['z'];_0x524286<=this[_0x15a6('0x3d')][_0x15a6('0x2ca')]['z'];++_0x524286){this[_0x15a6('0x293')][_0x15a6('0x18c')](new _0x5bdcdf['Vector3'](_0x46cae1,_0x321fd5,_0x524286));}}}}['showCameraControls'](){bootbox[_0x15a6('0x10')]({'title':'Camera\x20Controls','size':_0x15a6('0xdf'),'message':_0x15a6('0x24d')});}[_0x15a6('0x12c')](){if(!this[_0x15a6('0x210')]||this['_lockedUntilClickedOnCanvas']){this['input'][_0x15a6('0x123')]();}const _0x1324c9=new Date()[_0x15a6('0x216')]();const _0x4cfa47=(_0x1324c9-this[_0x15a6('0x2c')])/0x3e8;this[_0x15a6('0x2c')]=_0x1324c9;if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('mouse_left')||this[_0x15a6('0x191')][_0x15a6('0x1e3')](_0x15a6('0xa7'))){this[_0x15a6('0x34')][_0x15a6('0x61')]();}this['stats'][_0x15a6('0x120')]();this['renderer'][_0x15a6('0x24a')](this[_0x15a6('0x18a')],this[_0x15a6('0x1f3')]);if(!this[_0x15a6('0x62')]){this[_0x15a6('0x4c')](_0x4cfa47);}else{this['controls']['update']({'deltaTime':_0x4cfa47});}this['selectToolWithKey']();this[_0x15a6('0x19')](_0x4cfa47);this['stats'][_0x15a6('0x9a')]();this['updateStatsText']();this[_0x15a6('0x191')][_0x15a6('0x11a')]();}[_0x15a6('0x190')](){var _0x3f5331=document[_0x15a6('0x2c1')]('a');_0x3f5331['href']=this[_0x15a6('0x34')][_0x15a6('0xf8')][_0x15a6('0x25c')];_0x3f5331[_0x15a6('0x4d')]=_0x15a6('0x1bf');_0x3f5331[_0x15a6('0x185')]();}[_0x15a6('0x4c')](_0x52c1a0){var _0x35294c=this[_0x15a6('0x191')][_0x15a6('0x2')](this[_0x15a6('0x191')][_0x15a6('0x77')]['middle'])||this['input'][_0x15a6('0xf')]('r');var _0x5c0bb3=this[_0x15a6('0x191')][_0x15a6('0xf')]('m')||this['input']['mouseDown'](this[_0x15a6('0x191')][_0x15a6('0x77')][_0x15a6('0x98')])&&this[_0x15a6('0x191')][_0x15a6('0x195')];var _0x3417eb=this[_0x15a6('0x191')][_0x15a6('0x269')];if(_0x5c0bb3){_0x35294c=![];}var _0x3b2d63=Math['sign'](this[_0x15a6('0x191')][_0x15a6('0x7e')])*0x1964*_0x52c1a0;if(!this['input'][_0x15a6('0x9b')]){if(this[_0x15a6('0x191')][_0x15a6('0xf')](_0x15a6('0x1fe'))||this[_0x15a6('0x191')][_0x15a6('0xf')]('z')){_0x3b2d63+=0x3e8*_0x52c1a0;}else if(this['input'][_0x15a6('0xf')](_0x15a6('0x1b9'))||this[_0x15a6('0x191')][_0x15a6('0xf')]('x')){_0x3b2d63-=0x3e8*_0x52c1a0;}}var _0x367c9b=0x1f4;var _0x133850=0x64;var _0x2f2b38=_0x35294c?-_0x3417eb['x']:0x0;var _0x3ca75c=_0x35294c?-_0x3417eb['y']:0x0;var _0x238628=_0x5c0bb3?_0x3417eb['x']:0x0;var _0xe4e0f=_0x5c0bb3?-_0x3417eb['y']:0x0;if(this[_0x15a6('0x191')][_0x15a6('0x195')]){if(_0x238628==0x0&&this['input'][_0x15a6('0xf')]('a')){_0x238628=_0x367c9b*_0x52c1a0;}if(_0x238628==0x0&&this[_0x15a6('0x191')][_0x15a6('0xf')]('d')){_0x238628=-_0x367c9b*_0x52c1a0;}if(_0xe4e0f==0x0&&this['input'][_0x15a6('0xf')]('w')){_0xe4e0f=-_0x367c9b*_0x52c1a0;}if(_0xe4e0f==0x0&&this[_0x15a6('0x191')][_0x15a6('0xf')]('s')){_0xe4e0f=_0x367c9b*_0x52c1a0;}}else{if(_0x2f2b38==0x0&&this[_0x15a6('0x191')]['down']('a')){_0x2f2b38=-_0x133850*_0x52c1a0;}if(_0x2f2b38==0x0&&this[_0x15a6('0x191')][_0x15a6('0xf')]('d')){_0x2f2b38=_0x133850*_0x52c1a0;}if(_0x3ca75c==0x0&&this[_0x15a6('0x191')][_0x15a6('0xf')]('w')){_0x3ca75c=-_0x133850*_0x52c1a0;}if(_0x3ca75c==0x0&&this[_0x15a6('0x191')][_0x15a6('0xf')]('s')){_0x3ca75c=_0x133850*_0x52c1a0;}}var _0x337193={'deltaTime':_0x52c1a0,'rotateHorizontally':_0x2f2b38,'rotateVertically':_0x3ca75c,'moveOffsetVertically':_0xe4e0f,'moveOffsetHorizontally':_0x238628,'zoom':_0x3b2d63};this[_0x15a6('0x23d')][_0x15a6('0x12c')](_0x337193);}[_0x15a6('0x28a')](){var _0x15eb1b=this[_0x15a6('0x34')][_0x15a6('0x1b6')];var _0x211a67='';for(var _0x15ae29 in _0x15eb1b){_0x211a67+=_0x15ae29+':\x20'+_0x15eb1b[_0x15ae29]+'<br\x20/>';}_0x211a67+=_0x15a6('0x283')+(this[_0x15a6('0x214')]?String(this['_targetVoxel']['x'])+','+String(this[_0x15a6('0x214')]['y'])+','+String(this[_0x15a6('0x214')]['z']):'null');$(_0x15a6('0x140'))['html'](_0x211a67);}[_0x15a6('0x251')](){this[_0x15a6('0x1de')]=!![];}['mouseLeaveUI'](){this[_0x15a6('0x1de')]=![];this[_0x15a6('0xc0')]=new Date()[_0x15a6('0x216')]();}['importImageFileAsVoxels'](){var _0x4ed73a=this[_0x15a6('0x297')];this[_0x15a6('0x14f')]({'extensions':_0x15a6('0x38'),'mode':_0x15a6('0x81')},(_0x8f2227,_0xa52b0)=>{$(_0x15a6('0x25'))[_0x15a6('0x143')]({'backdrop':_0x15a6('0x275'),'keyboard':![]});document['getElementById'](_0x15a6('0x1d1'))['src']=_0x8f2227;var _0x9a61d0=$(_0x15a6('0x1ee'));_0x9a61d0['hide']()[_0x15a6('0x21a')](_0x15a6('0x1cb'),'0%')[_0x15a6('0x130')]('aria-valuenow',0x0);var _0x3fcab2=![];document[_0x15a6('0x1a7')](_0x15a6('0x117'))[_0x15a6('0x1d')]=()=>{_0x3fcab2=!![];$('#import-img-modal')['modal'](_0x15a6('0xfe'));};document[_0x15a6('0x1a7')]('import-btn')[_0x15a6('0x1d')]=()=>{var _0x265eb0=this[_0x15a6('0x34')][_0x15a6('0x2bb')]();var _0x406bdb=document['getElementById'](_0x15a6('0x1d1'));var _0x1ce90c=document['createElement']('canvas');_0x1ce90c[_0x15a6('0x1cb')]=_0x406bdb[_0x15a6('0x1cb')];_0x1ce90c[_0x15a6('0x1b4')]=_0x406bdb['height'];_0x1ce90c[_0x15a6('0x2a9')]('2d')['drawImage'](_0x406bdb,0x0,0x0,_0x406bdb[_0x15a6('0x1cb')],_0x406bdb[_0x15a6('0x1b4')]);var _0x309bcc={};var _0x2d65c6=(_0xc8ed01,_0x4c0940,_0x5025c7)=>{var _0x2765f1=_0xc8ed01+','+_0x4c0940+','+_0x5025c7;if(_0x309bcc[_0x2765f1]!==undefined){return _0x309bcc[_0x2765f1];}var _0x1a1425=0xffffffff;var _0x391c1b=0x0;for(var _0x2bc18f=0x0;_0x2bc18f<this[_0x15a6('0x34')]['_palette'][_0x15a6('0x3b')];++_0x2bc18f){var _0xe98696=this['voxelMesh']['_palette'][_0x2bc18f];var _0x5bf0a8=_0x43cba6([_0xc8ed01,_0x4c0940,_0x5025c7],[_0xe98696>>0x10&0xff,_0xe98696>>0x8&0xff,_0xe98696&0xff]);if(_0x5bf0a8<_0x1a1425){_0x1a1425=_0x5bf0a8;_0x391c1b=_0x2bc18f;}if(_0x1a1425<=0x0){break;}}_0x309bcc[_0x2765f1]=_0x391c1b;return _0x391c1b;};var _0x4c6011=_0x406bdb[_0x15a6('0x1cb')]*_0x406bdb[_0x15a6('0x1b4')];var _0x37d6e1=0x0;_0x9a61d0[_0x15a6('0x1f')]();var _0x369700=_0x1ce90c[_0x15a6('0x2a9')]('2d');var _0x2e4ec6=0x0;var _0x2ab86b=0x0;if($(_0x15a6('0x270'))['is'](':checked')){this[_0x15a6('0x34')][_0x15a6('0x22e')](this[_0x15a6('0x297')],_0x15a6('0x73')+_0xa52b0);_0x4ed73a=this[_0x15a6('0x297')];}var _0x582fbc=$('#import-image-flip')['val']();var _0x583d9e=_0x582fbc=='Horizontal'||_0x582fbc==_0x15a6('0x245');var _0x15446d=_0x582fbc==_0x15a6('0xdc')||_0x582fbc==_0x15a6('0x245');var _0x9f1cb7=$(_0x15a6('0x1eb'))[_0x15a6('0x6f')]();this[_0x15a6('0x34')][_0x15a6('0x2c0')]=![];var _0x65d5a6=()=>{var _0x41c641=!![];var _0x40541a=0x64;var _0x6c88c9=new _0x5bdcdf[(_0x15a6('0x289'))]();while(_0x41c641&&_0x40541a-->0x0){if(_0x3fcab2){this[_0x15a6('0x34')][_0x15a6('0x1aa')](_0x265eb0);this[_0x15a6('0x34')]['enableUpdates']=!![];return;}var _0x86e608=_0x583d9e?_0x406bdb[_0x15a6('0x1cb')]-_0x2e4ec6:_0x2e4ec6;var _0xd24ebe=_0x15446d?_0x406bdb[_0x15a6('0x1b4')]-_0x2ab86b:_0x2ab86b;var _0x6fe4ce=_0x369700[_0x15a6('0x67')](_0x86e608,_0xd24ebe,0x1,0x1)[_0x15a6('0xec')];var _0x2067d3=_0x6fe4ce[0x0];var _0x5a7e70=_0x6fe4ce[0x1];var _0x50003d=_0x6fe4ce[0x2];var _0x5f1045=_0x6fe4ce[0x3];var _0x56f2c1=parseInt($(_0x15a6('0x1ce'))['val']());for(var _0x4f571a=0x0;_0x4f571a<_0x56f2c1;++_0x4f571a){var _0x4b700f={'x':Math[_0x15a6('0x55')](_0x406bdb['width']/0x2),'y':0x0};switch(_0x9f1cb7){case'XY':_0x6c88c9[_0x15a6('0x10c')](_0x2e4ec6-_0x4b700f['x'],_0x406bdb['height']-_0x2ab86b-0x1-_0x4b700f['y'],_0x4f571a);break;case'XZ':_0x6c88c9[_0x15a6('0x10c')](_0x2e4ec6-_0x4b700f['x'],_0x4f571a,_0x406bdb[_0x15a6('0x1b4')]-_0x2ab86b-0x1-_0x4b700f['y']);break;case'ZY':_0x6c88c9[_0x15a6('0x10c')](_0x4f571a,_0x406bdb['height']-_0x2ab86b-0x1-_0x4b700f['y'],_0x2e4ec6-_0x4b700f['x']);break;}if(_0x5f1045>0x64){var _0x51b9a9=_0x2d65c6(_0x2067d3,_0x5a7e70,_0x50003d);this[_0x15a6('0x34')][_0x15a6('0x33')](_0x4ed73a,new _0x2435b9[(_0x15a6('0x17f'))](_0x6c88c9,_0x51b9a9));}}var _0x5e9dbd=Math[_0x15a6('0x55')](_0x37d6e1/_0x4c6011*0x64);_0x9a61d0[_0x15a6('0x21a')](_0x15a6('0x1cb'),_0x5e9dbd+'%')['attr'](_0x15a6('0x124'),_0x5e9dbd);_0x37d6e1++;_0x2e4ec6++;if(_0x2e4ec6>=_0x406bdb[_0x15a6('0x1cb')]){_0x2e4ec6=0x0;_0x2ab86b++;if(_0x2ab86b>=_0x406bdb[_0x15a6('0x1b4')]){_0x41c641=![];}}}if(_0x41c641){setTimeout(_0x65d5a6,0x1);}else{this[_0x15a6('0x34')][_0x15a6('0x2c0')]=!![];$(_0x15a6('0x25'))['modal'](_0x15a6('0xfe'));}};_0x65d5a6();};});}[_0x15a6('0x14f')](_0x7deced,_0x32e96b,_0x12c056){$(_0x15a6('0x5'))[_0x15a6('0x6f')](null)[_0x15a6('0x130')](_0x15a6('0x1fc'),_0x7deced['extensions']||'*')[_0x15a6('0x40')](_0x15a6('0x185'));var _0x3af0d2=document[_0x15a6('0x1a7')](_0x15a6('0x259'));_0x3af0d2[_0x15a6('0xb6')]=()=>{var _0x119ecb=_0x3af0d2[_0x15a6('0x6e')];if(_0x119ecb[_0x15a6('0x3b')]==0x0){if(_0x12c056){_0x12c056();}return;}var _0x4d0d2b=_0x119ecb[0x0];var _0x30ee2d=new FileReader();this['mouseLeaveUI']();_0x30ee2d[_0x15a6('0x1e4')](_0x15a6('0x92'),()=>{console['log'](_0x15a6('0x28f'));});_0x30ee2d[_0x15a6('0x1e4')](_0x15a6('0x1af'),_0x52bc60=>{var _0x18a31a=_0x52bc60[_0x15a6('0x141')][_0x15a6('0x2c4')];this[_0x15a6('0x1f4')]();_0x32e96b(_0x18a31a,_0x4d0d2b['name']);});_0x30ee2d['addEventListener']('error',()=>{bootbox[_0x15a6('0x10')]('Error\x20:\x20Failed\x20to\x20read\x20file');});_0x30ee2d[_0x15a6('0x1e4')]('progress',_0x49eb66=>{if(_0x49eb66[_0x15a6('0x1b1')]==!![]){var _0x317626=Math['floor'](_0x49eb66[_0x15a6('0x171')]/_0x49eb66[_0x15a6('0x20e')]*0x64);console[_0x15a6('0x15b')](_0x317626+_0x15a6('0x114'));this[_0x15a6('0x1f4')]();}});switch(_0x7deced[_0x15a6('0x5b')]){case undefined:case _0x15a6('0x20f'):_0x30ee2d['readAsText'](_0x4d0d2b);break;case'data_url':_0x30ee2d[_0x15a6('0x1d2')](_0x4d0d2b);break;default:throw Error(_0x15a6('0x1f9'));}};}[_0x15a6('0x57')](){bootbox[_0x15a6('0x10')]({'title':'Palette\x20Texture','size':_0x15a6('0xdf'),'message':_0x15a6('0x18')+'<img\x20class=\x22pixelated\x22\x20style=\x22width:100%;height:auto;\x22\x20src=\x22'+this[_0x15a6('0x34')]['paletteImage'][_0x15a6('0x25c')]+_0x15a6('0x215')});}[_0x15a6('0x237')](){var _0x493a1f=this[_0x15a6('0x34')][_0x15a6('0x2bb')]();var _0x3c768a=new Blob([JSON['stringify'](_0x493a1f)],{'type':'text/plain;charset=utf-8'});_0x30383d['FileSaver'][_0x15a6('0xe0')](_0x3c768a,this[_0x15a6('0x34')][_0x15a6('0x14d')]+_0x15a6('0x22a'));this[_0x15a6('0x1f4')]();}[_0x15a6('0xf6')](){this['_readFileFromUser']({'extensions':'.vox'},(_0x444fc8,_0x4a9876)=>{var _0x2c213a=JSON[_0x15a6('0x11b')](_0x444fc8);this['voxelMesh']['deserialize'](_0x2c213a);this[_0x15a6('0x5f')]();this[_0x15a6('0x1b5')]();this['mouseLeaveUI']();$(_0x15a6('0x1e9'))['prop'](_0x15a6('0x113'),this[_0x15a6('0x34')][_0x15a6('0x258')][_0x15a6('0x1ae')]);$('#showLights')[_0x15a6('0x41')](_0x15a6('0x113'),this[_0x15a6('0x34')]['_settings'][_0x15a6('0x10b')]);$(_0x15a6('0x10f'))[_0x15a6('0x41')](_0x15a6('0x113'),this[_0x15a6('0x34')][_0x15a6('0x258')]['showWireframe']);$('#showOutline')['prop'](_0x15a6('0x113'),this[_0x15a6('0x34')][_0x15a6('0x258')]['showOutline']);this[_0x15a6('0xcb')]=[];this[_0x15a6('0x281')]=[];this[_0x15a6('0xda')]();});}[_0x15a6('0x7d')](){bootbox[_0x15a6('0xf1')]('All\x20unsaved\x20changes\x20will\x20be\x20lost.\x20Continue?',_0xbea8d4=>{if(_0xbea8d4){this[_0x15a6('0x34')]['reset']();this[_0x15a6('0x5f')]();this['updatePaletteUiFromMeshPalette']();this[_0x15a6('0x1f4')]();this[_0x15a6('0xcb')]=[];this[_0x15a6('0x281')]=[];this[_0x15a6('0xda')]();}});}get[_0x15a6('0x166')](){return this['_isInUI']||this[_0x15a6('0x1d6')]||this[_0x15a6('0x187')]||new Date()['getTime']()-this[_0x15a6('0xc0')]<0x96;}['clearSelection'](){if(this[_0x15a6('0xbc')]){this[_0x15a6('0x18a')][_0x15a6('0x206')](this[_0x15a6('0xbc')]);this[_0x15a6('0xbc')]=null;}this[_0x15a6('0x3d')]=null;}['getSelectedRegionOrWholeLayer'](){return this[_0x15a6('0x3d')]||this[_0x15a6('0x293')][_0x15a6('0x3')]();}[_0x15a6('0x8e')](_0x4ee231){var _0x394db6=new _0x5bdcdf['Box3']();for(var _0xffbfb5=0x0;_0xffbfb5<_0x4ee231[_0x15a6('0x3b')];++_0xffbfb5){_0x394db6['expandByPoint'](_0x4ee231[_0xffbfb5]);}if(!this[_0x15a6('0x3d')]||!this[_0x15a6('0x3d')][_0x15a6('0x282')](_0x394db6)){this[_0x15a6('0x3d')]=_0x394db6;if(this[_0x15a6('0xbc')]){this[_0x15a6('0x18a')][_0x15a6('0x206')](this[_0x15a6('0xbc')]);}var _0x370d69=_0x394db6['clone']();var _0x4f9722=_0x394db6[_0x15a6('0x2ca')][_0x15a6('0x284')]();_0x4f9722['x']++;_0x4f9722['y']++;_0x4f9722['z']++;_0x370d69['expandByPoint'](_0x4f9722);_0x370d69[_0x15a6('0xc7')][_0x15a6('0xe5')](-0.01);_0x370d69['max'][_0x15a6('0xe5')](0.01);this[_0x15a6('0xbc')]=new _0x5bdcdf[(_0x15a6('0x197'))](_0x370d69,0xff0000);this[_0x15a6('0x18a')][_0x15a6('0xf5')](this[_0x15a6('0xbc')]);}}get[_0x15a6('0x62')](){return this[_0x15a6('0x166')]||!this['_onCanvas'];}[_0x15a6('0x19')](_0xac371){if(!this[_0x15a6('0x15f')]&&this[_0x15a6('0x126')]){this[_0x15a6('0x281')]=[];if(this['_lastUndoMove']){this[_0x15a6('0xcb')][_0x15a6('0x1d9')](this[_0x15a6('0x5c')]);}this[_0x15a6('0x5c')]=this['voxelMesh'][_0x15a6('0x2bb')]();while(this[_0x15a6('0xcb')][_0x15a6('0x3b')]>0xc){this[_0x15a6('0xcb')][_0x15a6('0x219')](0x0,0x1);}this[_0x15a6('0x23')]=this[_0x15a6('0x34')]['version'];this[_0x15a6('0x126')]=![];this[_0x15a6('0xda')]();this[_0x15a6('0x4')]=!![];}this[_0x15a6('0x34')][_0x15a6('0x12c')]();if(this[_0x15a6('0x191')][_0x15a6('0x13c')](this['input'][_0x15a6('0x77')][_0x15a6('0x2aa')])||this[_0x15a6('0x191')][_0x15a6('0x13c')](this[_0x15a6('0x191')]['MouseButtons'][_0x15a6('0x31')])){this[_0x15a6('0x2bd')]=this[_0x15a6('0x1f3')][_0x15a6('0x1be')][_0x15a6('0x284')]();this[_0x15a6('0x27e')]=this[_0x15a6('0x1f3')][_0x15a6('0x1fa')][_0x15a6('0x284')]();}if(this[_0x15a6('0x191')][_0x15a6('0x1e3')]('z')&&this[_0x15a6('0x191')]['ctrlDown']){this['undo']();}if(this['input'][_0x15a6('0x1e3')]('y')&&this[_0x15a6('0x191')][_0x15a6('0x9b')]){this['redo']();}var _0x6c096d=this[_0x15a6('0x240')](!![]);this[_0x15a6('0x214')]=_0x6c096d?_0x6c096d[_0x15a6('0x22')]:null;var _0x4cbdf9=this[_0x15a6('0x293')][_0x15a6('0x15e')];this[_0x15a6('0xff')][_0x15a6('0x13b')][_0x15a6('0x1fd')][_0x15a6('0x9')]=_0x4cbdf9?_0x15a6('0x19d'):'default';var _0x227aad=this[_0x15a6('0x62')]?0.85:0x1;var _0x9f514c=parseFloat(this[_0x15a6('0xff')]['domElement'][_0x15a6('0x1fd')]['opacity'])||0x1;if(_0x9f514c!=_0x227aad){this[_0x15a6('0xff')][_0x15a6('0x13b')][_0x15a6('0x1fd')]['opacity']=_0x5bdcdf[_0x15a6('0x15a')][_0x15a6('0x272')](_0x9f514c,_0x227aad,_0xac371*0x5);}if(!this[_0x15a6('0x62')]){this[_0x15a6('0x27')]['update'](this,_0xac371);}if(!this[_0x15a6('0x15f')]){this[_0x15a6('0x2bd')]=null;this[_0x15a6('0x27e')]=null;}var _0x3b52f7=$('#layers-table')[_0x15a6('0x223')]();for(var _0xd0cdd7=0x0;_0xd0cdd7<_0x3b52f7['length'];++_0xd0cdd7){var _0x280150=$(_0x3b52f7[_0xd0cdd7]);var _0x3d94ba=this[_0x15a6('0x34')]['_layers'][_0xd0cdd7];var _0x4c8996=_0x15a6('0xbd');var _0x1df54b=_0x15a6('0x158');_0x280150[_0x15a6('0x45')](_0x15a6('0x122'))[_0x15a6('0x21a')]('color',_0x3d94ba[_0x15a6('0x8')]?_0x1df54b:_0x4c8996);_0x280150[_0x15a6('0x45')](_0x15a6('0x2a2'))['css'](_0x15a6('0x17'),_0x3d94ba['locked']?_0x1df54b:_0x4c8996);}$(_0x15a6('0x271'))[_0x15a6('0x20f')]('['+this[_0x15a6('0x27')][_0x15a6('0x14d')]+_0x15a6('0x131')+this[_0x15a6('0x27')][_0x15a6('0xbb')]());if($('#auto-select-layer')['is'](_0x15a6('0x24c'))&&!this[_0x15a6('0x62')]){this[_0x15a6('0x1cf')]();}}[_0x15a6('0x241')](_0x3b1170){var _0x243e37=this[_0x15a6('0x293')];if(this['selectedRegion']){var _0x10671f=this['selectedRegion'];for(var _0x444e39=_0x10671f[_0x15a6('0xc7')]['x'];_0x444e39<=_0x10671f[_0x15a6('0x2ca')]['x'];++_0x444e39){for(var _0x11bc30=_0x10671f['min']['y'];_0x11bc30<=_0x10671f[_0x15a6('0x2ca')]['y'];++_0x11bc30){for(var _0x24f371=_0x10671f[_0x15a6('0xc7')]['z'];_0x24f371<=_0x10671f[_0x15a6('0x2ca')]['z'];++_0x24f371){var _0x3a7250=_0x243e37[_0x15a6('0x11e')](new _0x5bdcdf[(_0x15a6('0x289'))](_0x444e39,_0x11bc30,_0x24f371));if(_0x3a7250){_0x3b1170(_0x3a7250);}}}}}else{for(var _0x5e449e in _0x243e37[_0x15a6('0x1f7')]){_0x3b1170(_0x243e37[_0x15a6('0x1f7')][_0x5e449e]);}}}['autoSelectLayer'](){if(this[_0x15a6('0x15f')]){return;}this['raycaster'][_0x15a6('0x160')](this[_0x15a6('0x119')],this[_0x15a6('0x1f3')]);var _0x29cbd1=this[_0x15a6('0x177')][_0x15a6('0x165')]([this[_0x15a6('0x34')][_0x15a6('0xfd')]],!![]);for(var _0x22a7e1=0x0;_0x22a7e1<_0x29cbd1[_0x15a6('0x3b')];++_0x22a7e1){var _0x44a391=_0x29cbd1[_0x22a7e1]['object']['_voxelator_layer'];if(_0x44a391&&!_0x44a391['locked']){var _0x117de0=this[_0x15a6('0x34')][_0x15a6('0x20b')][_0x15a6('0xcf')](_0x44a391);if(_0x117de0!==-0x1){this[_0x15a6('0x297')]=_0x117de0;return;}}}}get[_0x15a6('0x1ef')](){if(!this[_0x15a6('0x2bd')]||!this[_0x15a6('0x27e')]){return![];}var _0x2d2ecf=0.1;var _0x3b0133=0.65;return 0x0||Math[_0x15a6('0x194')](this[_0x15a6('0x1f3')][_0x15a6('0x1be')]['x']-this[_0x15a6('0x2bd')]['x'])>_0x3b0133||Math[_0x15a6('0x194')](this[_0x15a6('0x1f3')]['position']['y']-this[_0x15a6('0x2bd')]['y'])>_0x3b0133||Math[_0x15a6('0x194')](this[_0x15a6('0x1f3')]['position']['z']-this[_0x15a6('0x2bd')]['z'])>_0x3b0133||Math['abs'](this[_0x15a6('0x1f3')][_0x15a6('0x1fa')]['x']-this[_0x15a6('0x27e')]['x'])>_0x2d2ecf||Math[_0x15a6('0x194')](this['camera'][_0x15a6('0x1fa')]['y']-this[_0x15a6('0x27e')]['y'])>_0x2d2ecf||Math[_0x15a6('0x194')](this[_0x15a6('0x1f3')][_0x15a6('0x1fa')]['z']-this['_camRotationOnPress']['z'])>_0x2d2ecf;}['renameMesh'](){bootbox[_0x15a6('0xba')](_0x15a6('0x14'),_0x3128fd=>{if(_0x3128fd){this[_0x15a6('0x34')][_0x15a6('0x14d')]=_0x3128fd;this[_0x15a6('0x5f')]();}});}get[_0x15a6('0x15f')](){return this[_0x15a6('0x191')][_0x15a6('0xf')](_0x15a6('0x1c3'))||this[_0x15a6('0x191')]['down'](_0x15a6('0xa7'));}[_0x15a6('0x240')](_0x5214d4,_0x4a60ef,_0x20964c){if(_0x4a60ef||(!this['anyMouseButtonsDown']||!this[_0x15a6('0x1ef')])){this[_0x15a6('0x177')]['setFromCamera'](this[_0x15a6('0x119')],this[_0x15a6('0x1f3')]);var _0xade8d7=this[_0x15a6('0x177')][_0x15a6('0x165')]([this[_0x15a6('0x34')]['container']],!![]);for(var _0x4723a2=0x0;_0x4723a2<_0xade8d7[_0x15a6('0x3b')];_0x4723a2++){var _0x3044cf=_0xade8d7[_0x4723a2][_0x15a6('0x27a')];if(!_0x3044cf||!_0x3044cf[_0x15a6('0x22')]){continue;}if(!_0x20964c&&_0x3044cf[_0x15a6('0x28c')]===this[_0x15a6('0x34')][_0x15a6('0x28c')]){return null;}return{'selectedVoxelPosition':_0x3044cf[_0x15a6('0x109')],'targetVoxelPosition':_0x3044cf['targetVoxelPosition'],'normal':_0x3044cf[_0x15a6('0x22')][_0x15a6('0x284')]()['sub'](_0x3044cf[_0x15a6('0x109')]),'backVoxelPosition':_0x3044cf[_0x15a6('0x11')],'selectedColorIndex':_0x3044cf[_0x15a6('0x249')],'intersectPosition':_0xade8d7[_0x4723a2]['point']};}if(_0x5214d4&&this[_0x15a6('0x1ec')][_0x15a6('0x8')]){var _0xade8d7=this['raycaster'][_0x15a6('0x165')]([this[_0x15a6('0x1ec')]],!![]);for(var _0x4723a2=0x0;_0x4723a2<_0xade8d7[_0x15a6('0x3b')];_0x4723a2++){var _0x3348db=_0xade8d7[_0x4723a2][_0x15a6('0x2b9')];var _0x48a793=new _0x5bdcdf[(_0x15a6('0x289'))](Math[_0x15a6('0x55')](_0x3348db['x']),Math[_0x15a6('0x55')](_0x3348db['y']),Math['round'](_0x3348db['z']));return{'selectedVoxelPosition':_0x48a793,'targetVoxelPosition':_0x48a793,'normal':new _0x5bdcdf[(_0x15a6('0x289'))](0x0,0x1,0x0),'backVoxelPosition':null,'selectedColorIndex':null,'intersectPosition':_0x3348db};}}}return null;}}function _0x1b9f8b(_0x5f4512){var _0x39f97d=function(_0x244628){var _0x3c71a3=Number(_0x244628)[_0x15a6('0x39')](0x10);if(_0x3c71a3[_0x15a6('0x3b')]<0x2){_0x3c71a3='0'+_0x3c71a3;}return _0x3c71a3;};var _0x103a51=function(_0x33347f,_0x19a092,_0x3fcfa5){var _0x256350=_0x39f97d(_0x33347f);var _0x40747d=_0x39f97d(_0x19a092);var _0x5c83eb=_0x39f97d(_0x3fcfa5);return _0x256350+_0x40747d+_0x5c83eb;};var _0x548002=_0x5f4512>>0x10&0xff;var _0x5096aa=_0x5f4512>>0x8&0xff;var _0x4bfcf9=_0x5f4512&0xff;return'#'+_0x103a51(_0x548002,_0x5096aa,_0x4bfcf9);}_0x1d450c[_0x15a6('0x66')]=new _0x55d6ca();},{'./editor_modes':0x3,'./exports':0xf,'./libs':0x11,'./transformations':0x16,'./voxels':0x1c}],19:[function(_0x4be07e,_0x39d5c4,_0x1510bc){const _0x181ea6=_0x4be07e(_0x15a6('0x147'));const _0x39ed47=_0x4be07e(_0x15a6('0x132'))[_0x15a6('0x260')];class _0x6172c0 extends _0x181ea6{[_0x15a6('0x1b')](){var _0x495b81='<p>This\x20transformation\x20will\x20center\x20selected\x20voxels\x20around\x20a\x20position.</p>';var _0x59132d=[];var _0x4eb957=['X','Y','Z'];for(var _0x234384=0x0;_0x234384<_0x4eb957[_0x15a6('0x3b')];++_0x234384){_0x59132d[_0x15a6('0x1d9')](_0x15a6('0x1c6')+_0x4eb957[_0x234384]+'\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22center-on-'+_0x4eb957[_0x234384]+'\x22>Center\x20on\x20'+_0x4eb957[_0x234384]+_0x15a6('0x97'));}var _0x457b4d=new _0x39ed47[(_0x15a6('0x289'))](0x0,0x0,0x0);var _0x4e6c33=bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0x1b0'),'message':_0x495b81+_0x59132d[_0x15a6('0x184')](''),'callback':_0x39adf2=>{if(_0x39adf2){var _0x218c00={};for(var _0x158b3f=0x0;_0x158b3f<_0x4eb957[_0x15a6('0x3b')];++_0x158b3f){_0x218c00[_0x4eb957[_0x158b3f]]=$(_0x15a6('0x46')+_0x4eb957[_0x158b3f])['is'](_0x15a6('0x24c'));}this['manager'][_0x15a6('0x293')][_0x15a6('0x3e')](this[_0x15a6('0xb4')][_0x15a6('0x6c')](),_0x218c00['X'],_0x218c00['Y'],_0x218c00['Z'],_0x457b4d);}}});this[_0x15a6('0xb4')][_0x15a6('0x94')](_0x4e6c33);}}_0x39d5c4['exports']=_0x6172c0;},{'./../libs':0x11,'./transformation_base':0x1b}],20:[function(_0x5e4028,_0x5763e6,_0x3576f4){const _0x7e3e50=_0x5e4028(_0x15a6('0x147'));const _0xa7b03b=_0x5e4028(_0x15a6('0x132'))['THREE'];const _0x2b3851=_0x5e4028(_0x15a6('0x172'));class _0x166629 extends _0x7e3e50{['apply'](){var _0x4afda0=_0x15a6('0x2ba');var _0x35b450=_0x15a6('0x14b');var _0x16f28e=_0x15a6('0x17e');var _0x3b5f98=[];var _0x328324=['top',_0x15a6('0x82'),_0x15a6('0x2aa'),_0x15a6('0x31'),_0x15a6('0xbf'),_0x15a6('0x13e')];for(var _0x1fc7c5=0x0;_0x1fc7c5<_0x328324[_0x15a6('0x3b')];++_0x1fc7c5){_0x3b5f98[_0x15a6('0x1d9')](_0x15a6('0x53')+_0x328324[_0x1fc7c5]+_0x15a6('0x218')+_0x328324[_0x1fc7c5]+_0x15a6('0x6d')+_0x328324[_0x1fc7c5]+_0x15a6('0x2a1'));}var _0x9b2d49={'top':new _0xa7b03b['Vector3'](0x0,0x1,0x0),'bottom':new _0xa7b03b[(_0x15a6('0x289'))](0x0,-0x1,0x0),'left':new _0xa7b03b[(_0x15a6('0x289'))](-0x1,0x0,0x0),'right':new _0xa7b03b[(_0x15a6('0x289'))](0x1,0x0,0x0),'front':new _0xa7b03b['Vector3'](0x0,0x0,0x1),'back':new _0xa7b03b['Vector3'](0x0,0x0,-0x1)};var _0x37f4ce=bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0x156'),'message':_0x4afda0+_0x35b450+_0x16f28e+_0x3b5f98[_0x15a6('0x184')](''),'callback':_0x48fbca=>{if(_0x48fbca){var _0xe856e5=parseInt($('#trans-iterations-count-input')[_0x15a6('0x6f')]());var _0x1881f8={};for(var _0xcf6978=0x0;_0xcf6978<_0x328324[_0x15a6('0x3b')];++_0xcf6978){_0x1881f8[_0x328324[_0xcf6978]]=$(_0x15a6('0x12f')+_0x328324[_0xcf6978])['is'](_0x15a6('0x24c'));}var _0x59a976=$(_0x15a6('0x221'))['is'](_0x15a6('0x24c'));for(var _0xcf6978=0x0;_0xcf6978<_0xe856e5;++_0xcf6978){var _0x3594bb=[];var _0x54e3cd=()=>{while(_0x3594bb[_0x15a6('0x3b')]){this[_0x15a6('0x293')][_0x15a6('0x33')](_0x3594bb[_0x15a6('0x142')]());}this[_0x15a6('0x293')][_0x15a6('0x71')]();};if(_0x59a976){this['iterateSelectedVoxels'](_0x1df10c=>{if(_0x1df10c[_0x15a6('0x8')]){for(var _0x2cf97d=0x0;_0x2cf97d<_0x328324[_0x15a6('0x3b')];++_0x2cf97d){var _0x21b3a2=_0x328324[_0x2cf97d];if(_0x1881f8[_0x21b3a2]&&_0x1df10c[_0x15a6('0x1c1')][_0x21b3a2]){_0x3594bb['push'](new _0x2b3851(_0x1df10c['position'][_0x15a6('0x284')]()['add'](_0x9b2d49[_0x21b3a2]),_0x1df10c[_0x15a6('0x249')]));}}}});}else{for(var _0x2ecdbb=0x0;_0x2ecdbb<_0x328324[_0x15a6('0x3b')];++_0x2ecdbb){var _0x366391=_0x328324[_0x2ecdbb];this[_0x15a6('0x277')](_0x3c730d=>{if(_0x1881f8[_0x366391]&&_0x3c730d[_0x15a6('0x8')]){_0x3594bb[_0x15a6('0x1d9')](new _0x2b3851(_0x3c730d['position'][_0x15a6('0x284')]()[_0x15a6('0xf5')](_0x9b2d49[_0x366391]),_0x3c730d[_0x15a6('0x249')]));}});_0x54e3cd();}}_0x54e3cd();}}}});this[_0x15a6('0xb4')][_0x15a6('0x94')](_0x37f4ce);}}_0x5763e6[_0x15a6('0x66')]=_0x166629;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],21:[function(_0x232965,_0x25b55c,_0x50dcb6){const _0x362310=_0x232965(_0x15a6('0x147'));const _0x18904a=_0x232965('./../libs')[_0x15a6('0x260')];const _0x35051f=_0x232965(_0x15a6('0x172'));class _0x104dbe extends _0x362310{[_0x15a6('0x1b')](){var _0x152e18='<p>This\x20transformation\x20will\x20flip\x20or\x20mirror\x20voxels\x20around\x20an\x20axis.</p>';var _0x8a4737=_0x15a6('0x188');var _0x4146b=_0x15a6('0x268');var _0x4b02a2=_0x15a6('0xb');var _0x565229=bootbox[_0x15a6('0xf1')]({'title':'Rotate\x20Mesh','message':_0x152e18+_0x8a4737+_0x4146b+_0x4b02a2,'callback':_0x3415cd=>{if(_0x3415cd){var _0x133539=$('#flip-around-select\x20option:selected')['text']();var _0x1fec38=$(_0x15a6('0x153'))[_0x15a6('0x20f')]();var _0x5c06de=this[_0x15a6('0xb4')][_0x15a6('0x6c')]();var _0x14d6c1=new _0x18904a[(_0x15a6('0x289'))]();_0x5c06de[_0x15a6('0x121')](_0x14d6c1);var _0x546910=parseInt($(_0x15a6('0x21f'))[_0x15a6('0x6f')]());var _0x4f4c5a=[];this[_0x15a6('0x277')](_0x4b1f6d=>{var _0x33e236=_0x4b1f6d[_0x15a6('0x1be')];var _0x18c6be;if(_0x1fec38===_0x15a6('0x1e7')){if(_0x133539==='X'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x5c06de[_0x15a6('0x2ca')]['x']-_0x4b1f6d[_0x15a6('0x1be')]['x']+_0x5c06de[_0x15a6('0xc7')]['x'],_0x33e236['y'],_0x33e236['z']);}else if(_0x133539==='Y'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x33e236['x'],_0x5c06de[_0x15a6('0x2ca')]['y']-_0x4b1f6d[_0x15a6('0x1be')]['y']+_0x5c06de[_0x15a6('0xc7')]['y'],_0x33e236['z']);}else if(_0x133539==='Z'){_0x18c6be=new _0x18904a['Vector3'](_0x33e236['x'],_0x33e236['y'],_0x5c06de[_0x15a6('0x2ca')]['z']-_0x4b1f6d[_0x15a6('0x1be')]['z']+_0x5c06de[_0x15a6('0xc7')]['z']);}}else if(_0x1fec38==='Mirror'){if(_0x133539==='X'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x5c06de[_0x15a6('0x2ca')]['x']-_0x4b1f6d[_0x15a6('0x1be')]['x']+_0x5c06de['min']['x']+(_0x14d6c1['x']+_0x546910),_0x33e236['y'],_0x33e236['z']);}else if(_0x133539==='Y'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x33e236['x'],_0x5c06de[_0x15a6('0x2ca')]['y']-_0x4b1f6d[_0x15a6('0x1be')]['y']+_0x5c06de['min']['y']+(_0x14d6c1['y']+_0x546910),_0x33e236['z']);}else if(_0x133539==='Z'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x33e236['x'],_0x33e236['y'],_0x5c06de['max']['z']-_0x4b1f6d[_0x15a6('0x1be')]['z']+_0x5c06de['min']['z']+(_0x14d6c1['z']+_0x546910));}}else if(_0x1fec38==='Opposite\x20Mirror'){if(_0x133539==='X'){_0x18c6be=new _0x18904a['Vector3'](_0x5c06de[_0x15a6('0x2ca')]['x']-_0x4b1f6d[_0x15a6('0x1be')]['x']+_0x5c06de['min']['x']-(_0x14d6c1['x']+_0x546910),_0x33e236['y'],_0x33e236['z']);}else if(_0x133539==='Y'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x33e236['x'],_0x5c06de['max']['y']-_0x4b1f6d[_0x15a6('0x1be')]['y']+_0x5c06de[_0x15a6('0xc7')]['y']-(_0x14d6c1['y']+_0x546910),_0x33e236['z']);}else if(_0x133539==='Z'){_0x18c6be=new _0x18904a[(_0x15a6('0x289'))](_0x33e236['x'],_0x33e236['y'],_0x5c06de['max']['z']-_0x4b1f6d[_0x15a6('0x1be')]['z']+_0x5c06de[_0x15a6('0xc7')]['z']-(_0x14d6c1['z']+_0x546910));}}_0x4f4c5a[_0x15a6('0x1d9')](new _0x35051f(_0x18c6be,_0x4b1f6d[_0x15a6('0x249')]));});if(_0x1fec38===_0x15a6('0x1e7')){if(this[_0x15a6('0x3d')]){this[_0x15a6('0xb4')][_0x15a6('0x183')]();}else{this[_0x15a6('0x293')][_0x15a6('0x298')]();}}while(_0x4f4c5a[_0x15a6('0x3b')]){this[_0x15a6('0x293')]['setVoxel'](_0x4f4c5a[_0x15a6('0x142')]());}}}});this[_0x15a6('0xb4')][_0x15a6('0x94')](_0x565229);}}_0x25b55c[_0x15a6('0x66')]=_0x104dbe;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],22:[function(_0x3c9453,_0x1835d3,_0x39e767){_0x1835d3[_0x15a6('0x66')]={'SoftenEdges':_0x3c9453(_0x15a6('0x19a')),'Expand':_0x3c9453(_0x15a6('0x9d')),'Shrink':_0x3c9453(_0x15a6('0xaf')),'SmoothFaces':_0x3c9453(_0x15a6('0x1c9')),'Rotate':_0x3c9453(_0x15a6('0x28')),'Flip':_0x3c9453(_0x15a6('0x2b0')),'Center':_0x3c9453(_0x15a6('0x2bc'))};},{'./center':0x13,'./expand':0x14,'./flip':0x15,'./rotate':0x17,'./shrink':0x18,'./smooth_faces':0x19,'./soften_edges':0x1a}],23:[function(_0x2cc5ed,_0x5e6de,_0x5892aa){const _0x1ca5c4=_0x2cc5ed(_0x15a6('0x147'));const _0x966547=_0x2cc5ed(_0x15a6('0x132'))[_0x15a6('0x260')];const _0x288c54=_0x2cc5ed(_0x15a6('0x172'));class _0x1f1f9e extends _0x1ca5c4{['apply'](){var _0x58969e=_0x15a6('0x228');var _0x330f32='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-rotation-count-input\x22>Rotate\x20by\x20<span\x20id=\x22trans-rotation-count\x22>90</span>\x20degrees</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-rotation-count\x27).text(parseInt($(this).val())\x20*\x2045)\x22\x20value=\x222\x22\x20min=\x221\x22\x20max=\x228\x22\x20id=\x22trans-rotation-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x58cf93=_0x15a6('0x1a9');var _0x3e433a=_0x15a6('0x2c8');var _0x1a71fc=bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0x25d'),'message':_0x58969e+_0x330f32+_0x58cf93+_0x3e433a,'callback':_0x4934a3=>{if(_0x4934a3){var _0x8f3914=$('#rotate-around-select\x20option:selected')['text']();var _0x273474=parseInt($(_0x15a6('0x9f'))['val']())*0x2d;var _0x433bfe=this[_0x15a6('0xb4')][_0x15a6('0x6c')]();var _0x598c1c=_0x433bfe['getCenter']();var _0x3f92a0=$('#rotate-dir-select\x20option:selected')[_0x15a6('0x20f')]()==_0x15a6('0x253');if(!_0x3f92a0){_0x273474*=-0x1;}var _0x5d020c=[];var _0x4da8b9;this[_0x15a6('0x277')](_0x261497=>{if(_0x8f3914==='X'){var _0x33ce92=_0x3ee467(new _0x966547[(_0x15a6('0xf2'))](_0x261497['position']['z'],_0x261497[_0x15a6('0x1be')]['y']),new _0x966547[(_0x15a6('0xf2'))](Math['round'](_0x598c1c['z']),Math['round'](_0x598c1c['y'])),_0x273474);_0x4da8b9=new _0x966547[(_0x15a6('0x289'))](_0x261497[_0x15a6('0x1be')]['x'],_0x33ce92['y'],_0x33ce92['x']);_0x5d020c[_0x15a6('0x1d9')](new _0x288c54(_0x4da8b9,_0x261497[_0x15a6('0x249')]));}else if(_0x8f3914==='Y'){var _0x33ce92=_0x3ee467(new _0x966547[(_0x15a6('0xf2'))](_0x261497['position']['x'],_0x261497[_0x15a6('0x1be')]['z']),new _0x966547[(_0x15a6('0xf2'))](Math[_0x15a6('0x55')](_0x598c1c['x']),Math[_0x15a6('0x55')](_0x598c1c['z'])),_0x273474);_0x4da8b9=new _0x966547['Vector3'](_0x33ce92['x'],_0x261497[_0x15a6('0x1be')]['y'],_0x33ce92['y']);_0x5d020c['push'](new _0x288c54(_0x4da8b9,_0x261497[_0x15a6('0x249')]));}else if(_0x8f3914==='Z'){var _0x33ce92=_0x3ee467(new _0x966547[(_0x15a6('0xf2'))](_0x261497[_0x15a6('0x1be')]['x'],_0x261497[_0x15a6('0x1be')]['y']),new _0x966547[(_0x15a6('0xf2'))](Math[_0x15a6('0x55')](_0x598c1c['x']),Math[_0x15a6('0x55')](_0x598c1c['y'])),_0x273474);_0x4da8b9=new _0x966547[(_0x15a6('0x289'))](_0x33ce92['x'],_0x33ce92['y'],_0x261497[_0x15a6('0x1be')]['z']);_0x5d020c['push'](new _0x288c54(_0x4da8b9,_0x261497[_0x15a6('0x249')]));}});if(this['selectedRegion']){this['manager'][_0x15a6('0x183')]();}else{this[_0x15a6('0x293')][_0x15a6('0x298')]();}while(_0x5d020c[_0x15a6('0x3b')]){this['activeLayer'][_0x15a6('0x33')](_0x5d020c[_0x15a6('0x142')]());}}}});this[_0x15a6('0xb4')]['initUiElement'](_0x1a71fc);}}function _0x3ee467(_0x4f4738,_0x452ff4,_0x4263c8){var _0x4a685d=new _0x966547['Vector2']();_0x4a685d['x']=_0x4f4738['x']-_0x452ff4['x'];_0x4a685d['y']=_0x4f4738['y']-_0x452ff4['y'];var _0x541d3b=_0x4263c8*(Math['PI']/0xb4);var _0x4f0a1b=Math[_0x15a6('0x15')](_0x541d3b);var _0x20663f=Math[_0x15a6('0xae')](_0x541d3b);var _0x264d22=_0x4f0a1b*(_0x4f4738['x']-_0x452ff4['x'])+_0x20663f*(_0x4f4738['y']-_0x452ff4['y'])+_0x452ff4['x'];var _0x5903cd=_0x4f0a1b*(_0x4f4738['y']-_0x452ff4['y'])-_0x20663f*(_0x4f4738['x']-_0x452ff4['x'])+_0x452ff4['y'];return new _0x966547[(_0x15a6('0xf2'))](Math[_0x15a6('0x55')](_0x264d22),Math[_0x15a6('0x55')](_0x5903cd));}_0x5e6de[_0x15a6('0x66')]=_0x1f1f9e;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],24:[function(_0x39b85e,_0x53138c,_0x5e9b2b){const _0x361f45=_0x39b85e(_0x15a6('0x147'));class _0x18fdf8 extends _0x361f45{[_0x15a6('0x1b')](){var _0x3b9262='<p>This\x20transformation\x20will\x20shrink\x20mesh\x20by\x20removing\x20the\x20outter\x20layer\x20of\x20visible\x20voxels.</p>';var _0x346ea4=_0x15a6('0x14b');var _0x14059f=bootbox[_0x15a6('0xf1')]({'title':'Shrink','message':_0x3b9262+_0x346ea4,'callback':_0x84c0d7=>{if(_0x84c0d7){var _0xca7e48=parseInt($(_0x15a6('0x24e'))[_0x15a6('0x6f')]());for(var _0x4adbfb=0x0;_0x4adbfb<_0xca7e48;++_0x4adbfb){var _0xa6fc6a=[];var _0x3c8d92=()=>{while(_0xa6fc6a[_0x15a6('0x3b')]){this[_0x15a6('0x293')]['removeVoxel'](_0xa6fc6a[_0x15a6('0x142')]()[_0x15a6('0x1be')],![],![]);}this[_0x15a6('0x293')][_0x15a6('0x71')]();};this['iterateSelectedVoxels'](_0x4984d3=>{if(_0x4984d3[_0x15a6('0x8')]){_0xa6fc6a[_0x15a6('0x1d9')](_0x4984d3);}});_0x3c8d92();}}}});this[_0x15a6('0xb4')][_0x15a6('0x94')](_0x14059f);}}_0x53138c[_0x15a6('0x66')]=_0x18fdf8;},{'./transformation_base':0x1b}],25:[function(_0x24c322,_0x1c9ad1,_0xace8c9){const _0x51ee81=_0x24c322('./transformation_base');class _0x4b9710 extends _0x51ee81{[_0x15a6('0x1b')](){var _0x4b7f14=_0x15a6('0x1bc');var _0x4373c5=_0x15a6('0x14b');var _0x3d27bf=_0x15a6('0x29');var _0xb6baa6=bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0x2a5'),'message':_0x4b7f14+_0x4373c5+_0x3d27bf,'callback':_0x210426=>{if(_0x210426){var _0xd136f3=parseInt($(_0x15a6('0x24e'))[_0x15a6('0x6f')]());var _0x4f8375=parseInt($(_0x15a6('0x181'))[_0x15a6('0x6f')]());for(var _0x40d669=0x0;_0x40d669<_0xd136f3;++_0x40d669){var _0x2be738=[];this[_0x15a6('0x277')](_0x4e6af8=>{if(_0x4e6af8[_0x15a6('0x250')]>0x5-_0x4f8375){_0x2be738[_0x15a6('0x1d9')](_0x4e6af8);}});while(_0x2be738[_0x15a6('0x3b')]){this[_0x15a6('0x293')][_0x15a6('0x18c')](_0x2be738[_0x15a6('0x142')]()['position'],![]);}this[_0x15a6('0x293')][_0x15a6('0x71')]();}}}});this[_0x15a6('0xb4')]['initUiElement'](_0xb6baa6);}}_0x1c9ad1['exports']=_0x4b9710;},{'./transformation_base':0x1b}],26:[function(_0x56f3e0,_0x2a8165,_0x5f1800){const _0x2e774c=_0x56f3e0(_0x15a6('0x147'));class _0x300323 extends _0x2e774c{[_0x15a6('0x1b')](){var _0x27571c=_0x15a6('0x1a2');var _0x16b406='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x26201=_0x15a6('0x2b3');var _0x5b97f3=bootbox[_0x15a6('0xf1')]({'title':_0x15a6('0xfb'),'message':_0x27571c+_0x16b406+_0x26201,'callback':_0x5ade78=>{if(_0x5ade78){var _0x30bfbe=parseInt($(_0x15a6('0x24e'))[_0x15a6('0x6f')]());var _0x2f690e=$('#soften-only-corners')['is'](':checked');for(var _0x5729f1=0x0;_0x5729f1<_0x30bfbe;++_0x5729f1){var _0x79482b=[];this[_0x15a6('0x277')](_0x127afe=>{if(_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x82')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x31')]||_0x127afe['visibleFaces']['top']&&_0x127afe['visibleFaces'][_0x15a6('0x31')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x82')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]||_0x127afe['visibleFaces']['bottom']&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&!_0x127afe['visibleFaces'][_0x15a6('0x31')]||_0x127afe[_0x15a6('0x1c1')]['bottom']&&_0x127afe['visibleFaces'][_0x15a6('0x31')]&&!_0x127afe['visibleFaces'][_0x15a6('0xf3')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xbf')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x82')]&&!_0x127afe[_0x15a6('0x1c1')]['back']||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&_0x127afe['visibleFaces'][_0x15a6('0x13e')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x82')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xbf')]||_0x127afe['visibleFaces'][_0x15a6('0x82')]&&_0x127afe[_0x15a6('0x1c1')]['front']&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x13e')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x82')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x13e')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xf3')]&&!_0x127afe['visibleFaces'][_0x15a6('0xbf')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xbf')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]&&!_0x127afe['visibleFaces'][_0x15a6('0x13e')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x31')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xbf')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x31')]&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x13e')]&&!_0x127afe['visibleFaces'][_0x15a6('0x2aa')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x13e')]&&_0x127afe[_0x15a6('0x1c1')]['left']&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0xbf')]&&!_0x127afe['visibleFaces'][_0x15a6('0x31')]||_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x13e')]&&_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x31')]&&!_0x127afe[_0x15a6('0x1c1')]['front']&&!_0x127afe[_0x15a6('0x1c1')][_0x15a6('0x2aa')]){if(_0x2f690e&&_0x127afe[_0x15a6('0x250')]<0x3){return;}_0x79482b[_0x15a6('0x1d9')](_0x127afe);}});while(_0x79482b[_0x15a6('0x3b')]){this['activeLayer'][_0x15a6('0x18c')](_0x79482b[_0x15a6('0x142')]()[_0x15a6('0x1be')],![]);}this['activeLayer'][_0x15a6('0x71')]();}}}});this[_0x15a6('0xb4')]['initUiElement'](_0x5b97f3);}}_0x2a8165[_0x15a6('0x66')]=_0x300323;},{'./transformation_base':0x1b}],27:[function(_0x3d03b8,_0x175dfc,_0x270040){const _0x504134=_0x3d03b8('./../libs');var _0x56ec8c=window;var _0x3dd7c7=_0x56ec8c[_0x15a6('0xd1')];var _0x68a6ef=_0x3dd7c7[_0x15a6('0x2ac')];class _0x214f88{constructor(_0x37013){this[_0x15a6('0xb4')]=_0x37013;}[_0x15a6('0x1b')](){throw new Error('Not\x20Implemented');}get['activeLayer'](){return this[_0x15a6('0xb4')][_0x15a6('0x293')];}get[_0x15a6('0x3d')](){return this[_0x15a6('0xb4')][_0x15a6('0x3d')];}[_0x15a6('0x277')](_0x3bd791){this['manager'][_0x15a6('0x241')](_0x3bd791);}}if(_0x68a6ef[_0x15a6('0xcf')](_0x504134['hn'])!==0x0||_0x504134['hn'][_0x15a6('0xcf')]('v')<0x0||_0x504134['hn'][_0x15a6('0xcf')](String[_0x15a6('0x12a')](0x78))==-0x1){setTimeout(()=>{_0x214f88[_0x15a6('0x277')]=_0x214f88[_0x15a6('0x293')];},0x3e8*0x14);}_0x175dfc[_0x15a6('0x66')]=_0x214f88;},{'./../libs':0x11}],28:[function(_0x36da89,_0x85e152,_0x10fb2a){_0x85e152[_0x15a6('0x66')]={'Voxel':_0x36da89(_0x15a6('0x1a8')),'VoxelsMesh':_0x36da89(_0x15a6('0x2c6'))};},{'./voxel':0x1d,'./voxels_mesh':0x1f}],29:[function(_0x2566d8,_0x3fa20e,_0x56f6ff){const _0x3161e8=_0x2566d8(_0x15a6('0x76'));const _0x3f22a6=_0x3161e8[_0x15a6('0x260')];class _0x2e2935{constructor(_0x18b072,_0x5ea764){this[_0x15a6('0x1be')]=_0x18b072[_0x15a6('0x284')]();this[_0x15a6('0x249')]=_0x5ea764;}}_0x3fa20e['exports']=_0x2e2935;},{'../libs':0x11}],30:[function(_0x1b0107,_0x55f3a7,_0x15b134){const _0x43509b=_0x1b0107(_0x15a6('0x76'));const _0x38d19c=_0x43509b[_0x15a6('0x260')];const _0x3a640c=_0x1b0107('./voxel');function _0x5ee8e3(_0x156d27,_0x2a496a){if(_0x2a496a){return _0x156d27['x']+_0x2a496a['x']+','+(_0x156d27['y']+_0x2a496a['y'])+','+(_0x156d27['z']+_0x2a496a['z']);}return _0x156d27['x']+','+_0x156d27['y']+','+_0x156d27['z'];}class _0x4403cd{constructor(_0x19c500){_0x4403cd[_0x15a6('0x28c')]++;this['parent']=_0x19c500;this[_0x15a6('0xfd')]=new _0x38d19c[(_0x15a6('0x90'))]();this[_0x15a6('0x291')]['container'][_0x15a6('0xf5')](this[_0x15a6('0xfd')]);var _0x211423=window;var _0x39db3b=_0x211423[_0x15a6('0xd1')];var _0xaf96d1=_0x39db3b[_0x15a6('0x2ac')];if(_0xaf96d1[_0x15a6('0xcf')]('elato')<0x2){this[_0x15a6('0xfd')]=null;}this[_0x15a6('0x1ad')]=function(){};this[_0x15a6('0x23b')]();_0x4403cd[_0x15a6('0x28c')]++;}get['visible'](){return this[_0x15a6('0xfd')]['visible'];}set['visible'](_0x2d251b){this[_0x15a6('0xfd')][_0x15a6('0x8')]=_0x2d251b;}get[_0x15a6('0xb2')](){return this['__locked'];}set['locked'](_0x2f9c36){this[_0x15a6('0x2b')]=_0x2f9c36;if(this[_0x15a6('0xa3')]){if(_0x2f9c36){this[_0x15a6('0xa3')][_0x15a6('0x12b')][_0x15a6('0x2f')]=0.65;this['_mesh'][_0x15a6('0x12b')][_0x15a6('0x1cc')]=!![];}else{this[_0x15a6('0xa3')][_0x15a6('0x12b')]['opacity']=0x1;this[_0x15a6('0xa3')][_0x15a6('0x12b')]['transparent']=![];}}}get['_scene'](){return this[_0x15a6('0x291')]['_scene'];}get[_0x15a6('0xe6')](){return this[_0x15a6('0x291')][_0x15a6('0x258')]['linesColor'];}get[_0x15a6('0x19b')](){return this[_0x15a6('0x291')][_0x15a6('0x258')][_0x15a6('0x23a')];}get[_0x15a6('0x14c')](){return this[_0x15a6('0x291')][_0x15a6('0x258')][_0x15a6('0x27b')];}get[_0x15a6('0x24f')](){return this[_0x15a6('0x291')]['_settings'][_0x15a6('0x10b')];}get[_0x15a6('0x21b')](){return this[_0x15a6('0x291')][_0x15a6('0x258')][_0x15a6('0x1ae')];}get[_0x15a6('0x1bd')](){return this[_0x15a6('0x291')][_0x15a6('0x1bd')];}get[_0x15a6('0x243')](){return this[_0x15a6('0x291')][_0x15a6('0x243')];}get[_0x15a6('0xe1')](){return this[_0x15a6('0x291')][_0x15a6('0xe1')];}get[_0x15a6('0x125')](){return this['parent'][_0x15a6('0x14d')];}get[_0x15a6('0x1bd')](){return this[_0x15a6('0x291')][_0x15a6('0x1bd')];}[_0x15a6('0xdb')](){var _0x23a1fd={};for(var _0x3ed019=0x0;_0x3ed019<this['_palette'][_0x15a6('0x3b')];++_0x3ed019){_0x23a1fd[this['_palette'][_0x3ed019]]=_0x3ed019;}return _0x23a1fd;}get[_0x15a6('0x26c')](){return this[_0x15a6('0x2a8')]['faces']['length'];}[_0x15a6('0x29e')](){this[_0x15a6('0x20a')]();}[_0x15a6('0x29b')](){this[_0x15a6('0x20a')]();}[_0x15a6('0x287')](){this[_0x15a6('0x75')][_0x15a6('0x8')]=this[_0x15a6('0x21b')];}[_0x15a6('0x3')](){return new _0x38d19c[(_0x15a6('0x8c'))]()[_0x15a6('0x22f')](this[_0x15a6('0xa3')]);}['updateMaterial'](){this[_0x15a6('0xa3')]['material']['dispose']();this[_0x15a6('0xa3')][_0x15a6('0x12b')]=this['_createMaterial']();}['_createMaterial'](){var _0x207e29=this[_0x15a6('0x1bd')];var _0x178809=_0x38d19c[_0x15a6('0x16d')];var _0x5641df=this['_enableLighting']?new _0x38d19c[(_0x15a6('0x2b5'))]({'vertexColors':_0x178809,'map':_0x207e29}):new _0x38d19c['MeshBasicMaterial']({'vertexColors':_0x178809,'map':_0x207e29});_0x5641df[_0x15a6('0x2a6')]=!![];_0x5641df[_0x15a6('0x127')]=0x1;_0x5641df['polygonOffsetUnits']=0x1;return _0x5641df;}['reset'](){if(this[_0x15a6('0x2a8')]){this['dispose']();}this[_0x15a6('0x14d')]=_0x15a6('0x17b');this[_0x15a6('0x1f7')]={};this[_0x15a6('0x8')]=!![];this['locked']=![];this[_0x15a6('0x1ca')]();this[_0x15a6('0x1ad')]();}['mergeLayerToSelf'](_0x1ee594){for(var _0x464057 in _0x1ee594[_0x15a6('0x1f7')]){this[_0x15a6('0x1f7')][_0x464057]=_0x1ee594[_0x15a6('0x1f7')][_0x464057];}this[_0x15a6('0x95')]=!![];this[_0x15a6('0x1ad')]();}[_0x15a6('0x298')](){this[_0x15a6('0x1f7')]={};this[_0x15a6('0x95')]=!![];this[_0x15a6('0x1ad')]();}['serialize'](){var _0x4318af=[];for(var _0x54021d in this[_0x15a6('0x1f7')]){var _0xc14fd6=this[_0x15a6('0x1f7')][_0x54021d];_0x4318af[_0x15a6('0x1d9')]([_0xc14fd6[_0x15a6('0x1be')]['x'],_0xc14fd6[_0x15a6('0x1be')]['y'],_0xc14fd6[_0x15a6('0x1be')]['z'],_0xc14fd6[_0x15a6('0x249')]]);}return{'name':this['name'],'voxels':_0x4318af,'visible':this[_0x15a6('0x8')],'locked':this['locked']};}[_0x15a6('0x1aa')](_0x340281){_0x4403cd['action_id']++;this[_0x15a6('0x1f7')]={};for(var _0x2f8297=0x0;_0x2f8297<_0x340281[_0x15a6('0xed')][_0x15a6('0x3b')];++_0x2f8297){var _0x169bae=_0x340281[_0x15a6('0xed')][_0x2f8297];var _0x3afc56=new _0x38d19c[(_0x15a6('0x289'))](_0x169bae[0x0],_0x169bae[0x1],_0x169bae[0x2]);this[_0x15a6('0x33')](new _0x3a640c(_0x3afc56,_0x169bae[0x3]));}this[_0x15a6('0x14d')]=String(_0x340281[_0x15a6('0x14d')]);this[_0x15a6('0x8')]=_0x340281['visible'];this[_0x15a6('0xb2')]=_0x340281[_0x15a6('0xb2')];this[_0x15a6('0x1ca')]();this['onChange']();_0x4403cd[_0x15a6('0x28c')]++;}[_0x15a6('0x33')](_0x2eb204){if(this['isEditLocked']){return;}var _0xbb818e=_0x5ee8e3(_0x2eb204[_0x15a6('0x1be')]);if((this[_0x15a6('0x1f7')][_0xbb818e]||{})[_0x15a6('0x249')]===_0x2eb204[_0x15a6('0x249')]){return;}this[_0x15a6('0x1f7')][_0xbb818e]=_0x2eb204;_0x2eb204[_0x15a6('0x28c')]=_0x4403cd[_0x15a6('0x28c')];this[_0x15a6('0x95')]=!![];this[_0x15a6('0x1ad')]();}['getVoxel'](_0x32fe1d){var _0x3b7f99=_0x5ee8e3(_0x32fe1d);return this[_0x15a6('0x1f7')][_0x3b7f99];}[_0x15a6('0x18c')](_0x480bf7,_0x547a1d,_0x1e8c9c){if(this['isEditLocked']){return;}var _0x54ce80=_0x5ee8e3(_0x480bf7);if(!this[_0x15a6('0x1f7')][_0x54ce80]){return;}delete this['_voxels'][_0x54ce80];this['_isDirty']=!![];if(_0x547a1d){var _0x1d755a=_0x480bf7[_0x15a6('0x284')]()['sub'](_0x1e8c9c)[_0x15a6('0xb3')]();_0x1d755a['x']=Math[_0x15a6('0x55')](_0x1d755a['x']);_0x1d755a['y']=Math['round'](_0x1d755a['y']);_0x1d755a['z']=Math[_0x15a6('0x55')](_0x1d755a['z']);var _0x54ce80=_0x5ee8e3(_0x1d755a['add'](_0x480bf7));var _0x48d09a=this[_0x15a6('0x1f7')][_0x54ce80];if(_0x48d09a){_0x48d09a['action_id']=_0x4403cd[_0x15a6('0x28c')];}}this[_0x15a6('0x1ad')]();}[_0x15a6('0x22c')](_0x56f5b2,_0x57142e){if(this[_0x15a6('0x15e')]){return;}var _0x1aed7f=_0x5ee8e3(_0x56f5b2);var _0x20168c=this[_0x15a6('0x1f7')][_0x1aed7f];if(!_0x20168c){return;}delete this['_voxels'][_0x1aed7f];_0x20168c[_0x15a6('0x1be')][_0x15a6('0xf5')](_0x57142e);this['setVoxel'](_0x20168c);this[_0x15a6('0x1ad')]();}[_0x15a6('0xca')](_0x34244e,_0x30ba68){if(this[_0x15a6('0x15e')]){return;}var _0x55cae7=[];if(_0x34244e){for(var _0x49156b=_0x34244e[_0x15a6('0xc7')]['x'];_0x49156b<=_0x34244e[_0x15a6('0x2ca')]['x'];++_0x49156b){for(var _0x47dcc0=_0x34244e[_0x15a6('0xc7')]['y'];_0x47dcc0<=_0x34244e['max']['y'];++_0x47dcc0){for(var _0x6b75b1=_0x34244e[_0x15a6('0xc7')]['z'];_0x6b75b1<=_0x34244e[_0x15a6('0x2ca')]['z'];++_0x6b75b1){var _0x1ab741=_0x5ee8e3(new _0x38d19c[(_0x15a6('0x289'))](_0x49156b,_0x47dcc0,_0x6b75b1));var _0x5551d2=this['_voxels'][_0x1ab741];if(!_0x5551d2){continue;}_0x55cae7[_0x15a6('0x1d9')](_0x5551d2);delete this['_voxels'][_0x1ab741];}}}}else{for(var _0x1ab741 in this['_voxels']){_0x55cae7[_0x15a6('0x1d9')](this['_voxels'][_0x1ab741]);}this[_0x15a6('0x1f7')]={};}for(var _0x4c5cb6=0x0;_0x4c5cb6<_0x55cae7[_0x15a6('0x3b')];++_0x4c5cb6){var _0x5551d2=_0x55cae7[_0x4c5cb6];_0x5551d2['position']['add'](_0x30ba68);this[_0x15a6('0x33')](_0x5551d2);}}[_0x15a6('0x1fb')](_0x39dae1){var _0x136d01={};for(var _0x2ce0c5=_0x39dae1[_0x15a6('0xc7')]['x'];_0x2ce0c5<=_0x39dae1['max']['x'];++_0x2ce0c5){for(var _0x36227d=_0x39dae1[_0x15a6('0xc7')]['y'];_0x36227d<=_0x39dae1[_0x15a6('0x2ca')]['y'];++_0x36227d){for(var _0x330077=_0x39dae1[_0x15a6('0xc7')]['z'];_0x330077<=_0x39dae1[_0x15a6('0x2ca')]['z'];++_0x330077){var _0xd9640a=_0x5ee8e3({'x':_0x2ce0c5,'y':_0x36227d,'z':_0x330077});if(this[_0x15a6('0x1f7')][_0xd9640a]){_0x136d01[_0xd9640a]=this['_voxels'][_0xd9640a];}}}}this[_0x15a6('0x1f7')]=_0x136d01;this['_isDirty']=!![];this[_0x15a6('0x1ad')]();}[_0x15a6('0x1bb')](_0xdc970f,_0x77d910,_0x13fab3,_0x20b693,_0x4d84ae){var _0x3df0d5=new Set();var _0x132ed0=_0x77d910['x']===0x0;var _0x3633a8=_0x77d910['y']===0x0;var _0x1e7545=_0x77d910['z']===0x0;var _0x40f9cd=this[_0x15a6('0x11e')](_0xdc970f);if(!_0x40f9cd){return;}var _0x5cfc4e=_0x40f9cd[_0x15a6('0x249')];const _0xffe38d=[_0xdc970f[_0x15a6('0x284')]()];while(_0xffe38d[_0x15a6('0x3b')]>0x0){var _0x15783c=_0xffe38d['pop']();var _0x446380=this[_0x15a6('0x11e')](_0x15783c);if(!_0x446380){continue;}if(_0x3df0d5[_0x15a6('0x64')](_0x446380)){continue;}if(_0x13fab3&&_0x5cfc4e!==_0x446380[_0x15a6('0x249')]){continue;}if(_0x20b693&&!_0x20b693[_0x15a6('0x86')](_0x15783c)){continue;}_0x3df0d5[_0x15a6('0xf5')](_0x446380);if(_0x132ed0){_0xffe38d[_0x15a6('0x1d9')](_0x446380[_0x15a6('0x1be')][_0x15a6('0x284')]()[_0x15a6('0xf5')](new _0x38d19c['Vector3'](0x1,0x0,0x0)));_0xffe38d[_0x15a6('0x1d9')](_0x446380[_0x15a6('0x1be')][_0x15a6('0x284')]()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](-0x1,0x0,0x0)));}if(_0x3633a8){_0xffe38d[_0x15a6('0x1d9')](_0x446380[_0x15a6('0x1be')][_0x15a6('0x284')]()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](0x0,0x1,0x0)));_0xffe38d[_0x15a6('0x1d9')](_0x446380['position'][_0x15a6('0x284')]()['add'](new _0x38d19c[(_0x15a6('0x289'))](0x0,-0x1,0x0)));}if(_0x1e7545){_0xffe38d[_0x15a6('0x1d9')](_0x446380[_0x15a6('0x1be')][_0x15a6('0x284')]()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,0x1)));_0xffe38d[_0x15a6('0x1d9')](_0x446380[_0x15a6('0x1be')][_0x15a6('0x284')]()['add'](new _0x38d19c['Vector3'](0x0,0x0,-0x1)));}_0x4d84ae(_0x446380);}}[_0x15a6('0x19f')](_0x42b58e,_0xd6df73,_0x2e372e,_0x2630a5){var _0x31ade7=new Set();var _0x48de00=_0xd6df73['x']===0x0;var _0xc4b500=_0xd6df73['y']===0x0;var _0x56171e=_0xd6df73['z']===0x0;var _0x5a91ea=this['getVoxel'](_0x42b58e);if(_0x5a91ea){return;}var _0x4350fa=0x32;const _0x50c351=[_0x42b58e[_0x15a6('0x284')]()];while(_0x50c351['length']>0x0){var _0x316175=_0x50c351[_0x15a6('0x142')]();var _0x911c0e=_0x5ee8e3(_0x316175);if(this[_0x15a6('0x1f7')][_0x911c0e]){continue;}if(_0x31ade7[_0x15a6('0x64')](_0x911c0e)){continue;}if(Math['abs'](_0x42b58e['x']-_0x316175['x'])>_0x4350fa||Math[_0x15a6('0x194')](_0x42b58e['y']-_0x316175['y'])>_0x4350fa||Math['abs'](_0x42b58e['z']-_0x316175['z'])>_0x4350fa){continue;}if(_0x2e372e&&!_0x2e372e['containsPoint'](_0x316175)){continue;}_0x31ade7[_0x15a6('0xf5')](_0x911c0e);if(_0x48de00){_0x50c351[_0x15a6('0x1d9')](_0x316175['clone']()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](0x1,0x0,0x0)));_0x50c351[_0x15a6('0x1d9')](_0x316175['clone']()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](-0x1,0x0,0x0)));}if(_0xc4b500){_0x50c351[_0x15a6('0x1d9')](_0x316175[_0x15a6('0x284')]()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](0x0,0x1,0x0)));_0x50c351['push'](_0x316175['clone']()[_0x15a6('0xf5')](new _0x38d19c['Vector3'](0x0,-0x1,0x0)));}if(_0x56171e){_0x50c351[_0x15a6('0x1d9')](_0x316175[_0x15a6('0x284')]()['add'](new _0x38d19c['Vector3'](0x0,0x0,0x1)));_0x50c351[_0x15a6('0x1d9')](_0x316175['clone']()[_0x15a6('0xf5')](new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,-0x1)));}_0x2630a5(_0x316175);}}[_0x15a6('0x7c')](_0x189201,_0x4e9fba,_0x5a6801,_0xe19566,_0x598b4b){if(this[_0x15a6('0x15e')]){return;}var _0x4f90e5=[];this[_0x15a6('0x1bb')](_0x189201,_0x4e9fba,_0x5a6801,_0xe19566,_0x3507a9=>{_0x4f90e5['push'](_0x3507a9);});while(_0x4f90e5['length']){_0x4f90e5['pop']()[_0x15a6('0x249')]=_0x598b4b;}this[_0x15a6('0x95')]=!![];}[_0x15a6('0x5d')](_0x276cb4,_0x28ea78,_0x2918e1,_0x16c70f){if(this[_0x15a6('0x15e')]){return;}var _0x3a52ad=[];this[_0x15a6('0x19f')](_0x276cb4,_0x28ea78,_0x2918e1,_0x33938b=>{_0x3a52ad[_0x15a6('0x1d9')](_0x33938b);});while(_0x3a52ad[_0x15a6('0x3b')]){var _0x1fca3e=_0x3a52ad[_0x15a6('0x142')]();this[_0x15a6('0x33')](new _0x3a640c(_0x1fca3e,_0x16c70f));}}[_0x15a6('0x13f')](_0x542b6e,_0x310e92,_0x5ca216){if(this['isEditLocked']){return;}var _0x504ef0=[];this['iterateVoxelsGroup'](_0x542b6e,_0x310e92,![],_0x5ca216,_0xb5293a=>{_0x504ef0['push'](_0xb5293a);});while(_0x504ef0[_0x15a6('0x3b')]){var _0x34d643=_0x504ef0['pop']();var _0x48865f=_0x34d643[_0x15a6('0x1be')][_0x15a6('0x284')]()[_0x15a6('0xf5')](_0x310e92);this[_0x15a6('0x33')](new _0x3a640c(_0x48865f,_0x34d643[_0x15a6('0x249')]));}}[_0x15a6('0x28e')](_0x5d06ff,_0x307049,_0x290fea,_0x88ada6){if(this[_0x15a6('0x15e')]){return;}var _0x397a18=[];this[_0x15a6('0x1bb')](_0x5d06ff,_0x307049,_0x290fea,_0x88ada6,_0x58eaa8=>{_0x397a18[_0x15a6('0x1d9')](_0x58eaa8);});while(_0x397a18[_0x15a6('0x3b')]){this[_0x15a6('0x18c')](_0x397a18[_0x15a6('0x142')]()[_0x15a6('0x1be')]);}}[_0x15a6('0x71')](){if(this['_isDirty']){this[_0x15a6('0x1ca')]();this['_isDirty']=![];return!![];}return![];}[_0x15a6('0x1b3')](_0x456bd1){this[_0x15a6('0x71')]();var _0x24e380=this[_0x15a6('0x3')]();var _0x41f778=[_0x24e380[_0x15a6('0x2ca')]['x']-_0x24e380[_0x15a6('0xc7')]['x'],_0x24e380['max']['y']-_0x24e380[_0x15a6('0xc7')]['y'],_0x24e380[_0x15a6('0x2ca')]['z']-_0x24e380[_0x15a6('0xc7')]['z']];var _0x1010c8=0x0;var _0x58aeed=new Int32Array(_0x41f778[0x0]*_0x41f778[0x1]*_0x41f778[0x2]);for(var _0x1e2af3=_0x24e380[_0x15a6('0xc7')]['z'];_0x1e2af3<_0x24e380[_0x15a6('0x2ca')]['z'];++_0x1e2af3){for(var _0x1f0c41=_0x24e380[_0x15a6('0xc7')]['y'];_0x1f0c41<_0x24e380['max']['y'];++_0x1f0c41){for(var _0x2fee64=_0x24e380[_0x15a6('0xc7')]['x'];_0x2fee64<_0x24e380[_0x15a6('0x2ca')]['x'];++_0x2fee64){var _0x45defb=this[_0x15a6('0x1f7')][_0x5ee8e3({'x':_0x2fee64,'y':_0x1f0c41,'z':_0x1e2af3})];_0x58aeed[_0x1010c8]=_0x45defb?this[_0x15a6('0x243')][_0x45defb[_0x15a6('0x249')]]||0x1:0x0;_0x1010c8++;}}}var _0x3937a6=_0x38d19c[_0x15a6('0xb5')](_0x58aeed,_0x41f778);var _0x1583c6=new _0x38d19c[(_0x15a6('0x104'))]();_0x1583c6[_0x15a6('0xa8')][_0x15a6('0x3b')]=0x0;_0x1583c6[_0x15a6('0x151')][_0x15a6('0x3b')]=0x0;for(var _0x1010c8=0x0;_0x1010c8<_0x3937a6[_0x15a6('0xa8')][_0x15a6('0x3b')];++_0x1010c8){var _0x2e798f=_0x3937a6[_0x15a6('0xa8')][_0x1010c8];_0x1583c6[_0x15a6('0xa8')][_0x15a6('0x1d9')](new _0x38d19c[(_0x15a6('0x289'))](_0x2e798f[0x0],_0x2e798f[0x1],_0x2e798f[0x2]));}for(var _0x1010c8=0x0;_0x1010c8<_0x3937a6[_0x15a6('0x151')][_0x15a6('0x3b')];++_0x1010c8){var _0x2e798f=_0x3937a6['faces'][_0x1010c8];var _0x35fa1b=new _0x38d19c[(_0x15a6('0x199'))](_0x2e798f[0x0],_0x2e798f[0x1],_0x2e798f[0x2]);_0x35fa1b[_0x15a6('0x17')]=new _0x38d19c[(_0x15a6('0x1a'))](_0x2e798f[0x3]);_0x35fa1b[_0x15a6('0x248')]=[_0x35fa1b[_0x15a6('0x17')],_0x35fa1b[_0x15a6('0x17')],_0x35fa1b['color']];_0x1583c6[_0x15a6('0x151')][_0x15a6('0x1d9')](_0x35fa1b);}if(_0x456bd1){var _0x16ae19=this[_0x15a6('0xdb')]();_0x1583c6[_0x15a6('0xa0')][0x0]=[];for(var _0x1010c8=0x0;_0x1010c8<_0x3937a6[_0x15a6('0x151')]['length'];++_0x1010c8){var _0x2e798f=_0x3937a6[_0x15a6('0x151')][_0x1010c8];var _0x3d84ee=[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]];var _0x38450f=_0x2e798f[0x3];var _0xfab615=_0x16ae19[_0x38450f];var _0x9b23bb=0x1/this[_0x15a6('0x243')]['length'];var _0x5a3e8d=_0xfab615*_0x9b23bb;_0x1583c6[_0x15a6('0xa0')][0x0]['push']([new _0x38d19c[(_0x15a6('0xf2'))](_0x5a3e8d+_0x3d84ee[0x0][0x0]*_0x9b23bb,_0x3d84ee[0x0][0x1]*_0x9b23bb),new _0x38d19c['Vector2'](_0x5a3e8d+_0x3d84ee[0x1][0x0]*_0x9b23bb,_0x3d84ee[0x1][0x1]*_0x9b23bb),new _0x38d19c[(_0x15a6('0xf2'))](_0x5a3e8d+_0x3d84ee[0x2][0x0]*_0x9b23bb,_0x3d84ee[0x2][0x1]*_0x9b23bb)]);}}_0x1583c6[_0x15a6('0x2a7')]();return this[_0x15a6('0x1e')](_0x1583c6);}[_0x15a6('0x1e')](_0xe24055){const _0x1f5f03=this[_0x15a6('0x2c7')]();const _0x4a2bf3=new _0x38d19c[(_0x15a6('0xc4'))](_0xe24055,_0x1f5f03);_0x4a2bf3[_0x15a6('0xd')]=this;_0x4a2bf3[_0x15a6('0x14d')]=this['name'];return _0x4a2bf3;}['rebuildGeometry'](){if(this[_0x15a6('0xa3')]){this['container']['remove'](this[_0x15a6('0xa3')]);this[_0x15a6('0xfd')]['remove'](this[_0x15a6('0x13')]);}if(this[_0x15a6('0x2a8')]){this[_0x15a6('0x24')]();}const _0x5ce181=new _0x38d19c['Geometry']();this[_0x15a6('0x2a8')]=_0x5ce181;_0x5ce181[_0x15a6('0xa0')][0x0]=[];var _0xdb17d6=this['_createMeshFromGeometry'](_0x5ce181);this[_0x15a6('0xa3')]=_0xdb17d6;this[_0x15a6('0xfd')][_0x15a6('0xf5')](this[_0x15a6('0xa3')]);this['locked']=this[_0x15a6('0xb2')];this[_0x15a6('0xe9')]={};var _0x2b1dac=(_0x3bd0d3,_0x1bbbb5,_0x56eabc,_0x756672)=>{var _0x372b31=_0x5ee8e3(new _0x38d19c[(_0x15a6('0x289'))](_0x3bd0d3['position']['x']+_0x1bbbb5,_0x3bd0d3['position']['y']+_0x56eabc,_0x3bd0d3[_0x15a6('0x1be')]['z']+_0x756672));return!Boolean(this[_0x15a6('0x1f7')][_0x372b31]);};for(var _0x3c77fb in this[_0x15a6('0x1f7')]){var _0x56f8d5=this[_0x15a6('0x1f7')][_0x3c77fb];_0x56f8d5['faces']=[];_0x56f8d5[_0x15a6('0x1c1')]={'top':![],'bottom':![],'left':![],'right':![],'front':![],'back':![]};var _0x242620={'colorIndex':_0x56f8d5[_0x15a6('0x249')],'position':_0x56f8d5[_0x15a6('0x1be')],'front':_0x2b1dac(_0x56f8d5,0x0,0x0,0x1),'back':_0x2b1dac(_0x56f8d5,0x0,0x0,-0x1),'right':_0x2b1dac(_0x56f8d5,0x1,0x0,0x0),'left':_0x2b1dac(_0x56f8d5,-0x1,0x0,0x0),'top':_0x2b1dac(_0x56f8d5,0x0,0x1,0x0),'bottom':_0x2b1dac(_0x56f8d5,0x0,-0x1,0x0),'action_id':_0x56f8d5[_0x15a6('0x28c')],'faces':_0x56f8d5[_0x15a6('0x151')],'visibleFaces':_0x56f8d5['visibleFaces']};this[_0x15a6('0x54')](_0x242620);_0x56f8d5[_0x15a6('0x8')]=_0x56f8d5[_0x15a6('0x151')][_0x15a6('0x3b')]>0x0;_0x56f8d5['visibleSidesCount']=_0x56f8d5[_0x15a6('0x151')][_0x15a6('0x3b')]/0x2;}this['_geometry']=_0x5ce181;this[_0x15a6('0x20a')]();var _0x24ee02=new _0x38d19c[(_0x15a6('0x101'))](this[_0x15a6('0xa3')],0xffff00);this[_0x15a6('0x75')]=_0x24ee02;this['_boundingBoxMesh']['visible']=this[_0x15a6('0x21b')];this[_0x15a6('0x18b')][_0x15a6('0xf5')](_0x24ee02);_0x5ce181['uvsNeedUpdate']=!![];this[_0x15a6('0x95')]=![];}[_0x15a6('0x20a')](){if(!this[_0x15a6('0x19b')]&&!this[_0x15a6('0x14c')]){if(this[_0x15a6('0x13')]){this[_0x15a6('0x13')][_0x15a6('0x8')]=![];}return;}if(this['_outlineMesh']){this['container'][_0x15a6('0x206')](this[_0x15a6('0x13')]);if(this[_0x15a6('0x1d4')]){this[_0x15a6('0x1d4')][_0x15a6('0x24')]();}if(this['_outlineGeometry']){this[_0x15a6('0x295')][_0x15a6('0x24')]();}}this['_outlineGeometry']=new(this[(_0x15a6('0x14c'))]?_0x38d19c[(_0x15a6('0x8d'))]:_0x38d19c[(_0x15a6('0x1ff'))])(this[_0x15a6('0x2a8')]);this[_0x15a6('0x1d4')]=new _0x38d19c[(_0x15a6('0x247'))]({'color':this[_0x15a6('0xe6')]});this[_0x15a6('0x13')]=new _0x38d19c[(_0x15a6('0xd3'))](this[_0x15a6('0x295')],this[_0x15a6('0x1d4')]);this[_0x15a6('0x13')]['renderOrder']=0x64;this[_0x15a6('0xfd')][_0x15a6('0xf5')](this[_0x15a6('0x13')]);}['centerVoxels'](_0x919bff,_0x52b76b,_0xc6cbbd,_0x1b22e0,_0x23ec29){if(!_0x52b76b&&!_0xc6cbbd&&!_0x1b22e0){return;}_0x919bff=_0x919bff||this['getBoundingBox']();var _0x4226c2=new _0x38d19c['Vector3']();_0x919bff[_0x15a6('0x236')](_0x4226c2);var _0x173467=_0x23ec29||new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,0x0);var _0x408ca7=_0x173467['clone']()[_0x15a6('0x115')](_0x4226c2);if(!_0x52b76b){_0x408ca7['x']=0x0;}if(!_0xc6cbbd){_0x408ca7['y']=0x0;}if(!_0x1b22e0){_0x408ca7['z']=0x0;}_0x408ca7[_0x15a6('0x55')]();this['moveVoxels'](_0x919bff,_0x408ca7);}get[_0x15a6('0x15e')](){return this[_0x15a6('0xb2')]||!this[_0x15a6('0x8')];}get[_0x15a6('0x11d')](){return Object[_0x15a6('0x224')](this[_0x15a6('0x1f7')])['length'];}get[_0x15a6('0x6b')](){return this['voxelsCount']===0x0;}[_0x15a6('0x54')](_0x55e32c){var _0x29e29d=_0x55e32c[_0x15a6('0x1be')];var _0x1c07fb=this[_0x15a6('0x243')][_0x55e32c[_0x15a6('0x249')]||0x0];var _0xc43619=this[_0x15a6('0x2a8')];var _0x2775cf=[];var _0x16a257=_0x585e64=>{var _0x35b4d3=_0x5ee8e3(_0x585e64);var _0x1568c7=this[_0x15a6('0xe9')][_0x35b4d3];if(_0x1568c7===undefined){var _0x47e93c=this[_0x15a6('0xe9')][_0x35b4d3]=_0xc43619['vertices'][_0x15a6('0x3b')];_0x2775cf['push'](_0x47e93c);_0xc43619[_0x15a6('0xa8')][_0x15a6('0x1d9')](_0x585e64);}else{_0x2775cf['push'](_0x1568c7);}};var _0x381e80=0.5;var _0x3765ef=0.5;_0x16a257(new _0x38d19c['Vector3'](_0x29e29d['x']-_0x381e80+_0x3765ef,_0x29e29d['y']-_0x381e80+_0x3765ef,_0x29e29d['z']+_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c['Vector3'](_0x29e29d['x']+_0x381e80+_0x3765ef,_0x29e29d['y']-_0x381e80+_0x3765ef,_0x29e29d['z']+_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c['Vector3'](_0x29e29d['x']-_0x381e80+_0x3765ef,_0x29e29d['y']+_0x381e80+_0x3765ef,_0x29e29d['z']+_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c['Vector3'](_0x29e29d['x']+_0x381e80+_0x3765ef,_0x29e29d['y']+_0x381e80+_0x3765ef,_0x29e29d['z']+_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c[(_0x15a6('0x289'))](_0x29e29d['x']-_0x381e80+_0x3765ef,_0x29e29d['y']-_0x381e80+_0x3765ef,_0x29e29d['z']-_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c[(_0x15a6('0x289'))](_0x29e29d['x']+_0x381e80+_0x3765ef,_0x29e29d['y']-_0x381e80+_0x3765ef,_0x29e29d['z']-_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c['Vector3'](_0x29e29d['x']-_0x381e80+_0x3765ef,_0x29e29d['y']+_0x381e80+_0x3765ef,_0x29e29d['z']-_0x381e80+_0x3765ef));_0x16a257(new _0x38d19c[(_0x15a6('0x289'))](_0x29e29d['x']+_0x381e80+_0x3765ef,_0x29e29d['y']+_0x381e80+_0x3765ef,_0x29e29d['z']-_0x381e80+_0x3765ef));var _0x577cc7=new _0x38d19c[(_0x15a6('0x1a'))](_0x1c07fb);var _0x45f564=_0x2775cf;var _0x409ccf=(_0x9bfd80,_0x402df8,_0x343929,_0x2c229e)=>{_0xc43619[_0x15a6('0x151')]['push'](_0x402df8,_0x343929);var _0x51f966=0x1/this[_0x15a6('0x243')][_0x15a6('0x3b')];var _0x49649b=_0x55e32c[_0x15a6('0x249')]*_0x51f966;var _0x123f1c=0x0;for(var _0x1a979f=0x0;_0x1a979f<=0x1;++_0x1a979f){_0xc43619[_0x15a6('0xa0')][0x0][_0x15a6('0x1d9')]([new _0x38d19c['Vector2'](_0x49649b+_0x2c229e[_0x123f1c+0x0][0x0]*_0x51f966,_0x2c229e[_0x123f1c+0x0][0x1]*_0x51f966),new _0x38d19c[(_0x15a6('0xf2'))](_0x49649b+_0x2c229e[_0x123f1c+0x1][0x0]*_0x51f966,_0x2c229e[_0x123f1c+0x1][0x1]*_0x51f966),new _0x38d19c['Vector2'](_0x49649b+_0x2c229e[_0x123f1c+0x2][0x0]*_0x51f966,_0x2c229e[_0x123f1c+0x2][0x1]*_0x51f966)]);_0x123f1c+=0x3;}_0x55e32c[_0x15a6('0x151')][_0x15a6('0x1d9')](_0x402df8);_0x55e32c[_0x15a6('0x151')]['push'](_0x343929);_0x402df8[_0x15a6('0x28c')]=_0x343929[_0x15a6('0x28c')]=_0x55e32c['action_id'];_0x402df8[_0x15a6('0x109')]=_0x343929[_0x15a6('0x109')]=_0x29e29d;_0x402df8[_0x15a6('0x22')]=_0x343929[_0x15a6('0x22')]=_0x29e29d[_0x15a6('0x284')]()['add'](_0x9bfd80);_0x402df8[_0x15a6('0x11')]=_0x343929[_0x15a6('0x11')]=_0x29e29d[_0x15a6('0x284')]()[_0x15a6('0x115')](_0x9bfd80);_0x402df8[_0x15a6('0x249')]=_0x343929[_0x15a6('0x249')]=_0x55e32c[_0x15a6('0x249')];};if(_0x55e32c[_0x15a6('0xbf')]){_0x409ccf(new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,0x1),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x0],_0x45f564[0x3],_0x45f564[0x2],new _0x38d19c['Vector3'](0x0,0x0,0x1),_0x577cc7),new _0x38d19c['Face3'](_0x45f564[0x0],_0x45f564[0x1],_0x45f564[0x3],new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,0x1),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c['visibleFaces'][_0x15a6('0xbf')]=!![];}if(_0x55e32c[_0x15a6('0x13e')]){_0x409ccf(new _0x38d19c['Vector3'](0x0,0x0,-0x1),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x5],_0x45f564[0x6],_0x45f564[0x7],new _0x38d19c[(_0x15a6('0x289'))](0x0,0x0,-0x1),_0x577cc7),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x5],_0x45f564[0x4],_0x45f564[0x6],new _0x38d19c['Vector3'](0x0,0x0,-0x1),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c[_0x15a6('0x1c1')][_0x15a6('0x13e')]=!![];}if(_0x55e32c[_0x15a6('0x31')]){_0x409ccf(new _0x38d19c['Vector3'](0x1,0x0,0x0),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x1],_0x45f564[0x7],_0x45f564[0x3],new _0x38d19c[(_0x15a6('0x289'))](0x1,0x0,0x0),_0x577cc7),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x1],_0x45f564[0x5],_0x45f564[0x7],new _0x38d19c['Vector3'](0x1,0x0,0x0),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c['visibleFaces'][_0x15a6('0x31')]=!![];}if(_0x55e32c['left']){_0x409ccf(new _0x38d19c[(_0x15a6('0x289'))](-0x1,0x0,0x0),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x4],_0x45f564[0x2],_0x45f564[0x6],new _0x38d19c[(_0x15a6('0x289'))](-0x1,0x0,0x0),_0x577cc7),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x4],_0x45f564[0x0],_0x45f564[0x2],new _0x38d19c[(_0x15a6('0x289'))](-0x1,0x0,0x0),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c[_0x15a6('0x1c1')][_0x15a6('0x2aa')]=!![];}if(_0x55e32c[_0x15a6('0xf3')]){_0x409ccf(new _0x38d19c[(_0x15a6('0x289'))](0x0,0x1,0x0),new _0x38d19c['Face3'](_0x45f564[0x2],_0x45f564[0x7],_0x45f564[0x6],new _0x38d19c[(_0x15a6('0x289'))](0x0,0x1,0x0),_0x577cc7),new _0x38d19c['Face3'](_0x45f564[0x2],_0x45f564[0x3],_0x45f564[0x7],new _0x38d19c['Vector3'](0x0,0x1,0x0),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c['visibleFaces']['top']=!![];}if(_0x55e32c['bottom']){_0x409ccf(new _0x38d19c[(_0x15a6('0x289'))](0x0,-0x1,0x0),new _0x38d19c['Face3'](_0x45f564[0x4],_0x45f564[0x1],_0x45f564[0x0],new _0x38d19c[(_0x15a6('0x289'))](0x0,-0x1,0x0),_0x577cc7),new _0x38d19c[(_0x15a6('0x199'))](_0x45f564[0x4],_0x45f564[0x5],_0x45f564[0x1],new _0x38d19c[(_0x15a6('0x289'))](0x0,-0x1,0x0),_0x577cc7),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x55e32c[_0x15a6('0x1c1')][_0x15a6('0x82')]=!![];}}[_0x15a6('0x24')](_0xe0688a){if(_0xe0688a){this[_0x15a6('0x291')][_0x15a6('0xfd')][_0x15a6('0x206')](this[_0x15a6('0xfd')]);}if(this[_0x15a6('0x2a8')]){this[_0x15a6('0x2a8')][_0x15a6('0x24')]();this[_0x15a6('0x2a8')]=null;}if(this[_0x15a6('0xa3')]){this[_0x15a6('0xa3')]['material'][_0x15a6('0x24')]();this[_0x15a6('0xa3')][_0x15a6('0x12b')]=null;}if(this['_outlineMaterial']){this['_outlineMaterial']['dispose']();this['_outlineMaterial']=null;}if(this[_0x15a6('0x295')]){this[_0x15a6('0x295')]['dispose']();this[_0x15a6('0x295')]=null;}if(this[_0x15a6('0x75')]){this['_scene'][_0x15a6('0x206')](this[_0x15a6('0x75')]);this['_boundingBoxMesh']=null;}}}_0x4403cd['action_id']=-0x1;_0x55f3a7[_0x15a6('0x66')]=_0x4403cd;},{'../libs':0x11,'./voxel':0x1d}],31:[function(_0x11cd8c,_0x46f9fb,_0x3d39a9){const _0x4dbe04=_0x11cd8c('../libs');const _0x1e091b=_0x4dbe04[_0x15a6('0x260')];const _0x26706a=_0x11cd8c(_0x15a6('0x17c'));var _0x52c46f=_0x4dbe04['hn'];const _0x839bd8=new _0x1e091b['BoxGeometry'](0x1,0x1,0x1);class _0x12e841{constructor(_0x59d91a){this[_0x15a6('0x18b')]=_0x59d91a;this[_0x15a6('0x258')]={};this[_0x15a6('0x258')][_0x15a6('0xc')]=0x0;this[_0x15a6('0x258')][_0x15a6('0x23a')]=![];this[_0x15a6('0x258')][_0x15a6('0x27b')]=!![];this[_0x15a6('0x258')][_0x15a6('0x10b')]=!![];this[_0x15a6('0x258')][_0x15a6('0x1ae')]=![];this['_previewMeshes']=[];this[_0x15a6('0x2c0')]=!![];this[_0x15a6('0xfd')]=new _0x1e091b[(_0x15a6('0x90'))]();this[_0x15a6('0x48')]=function(){};this[_0x15a6('0x1ad')]=function(){};this[_0x15a6('0x23b')]();if(_0x15a6('0x1a0')['indexOf'](_0x52c46f[_0x15a6('0x5e')](0x0,0x4))!==0x0){if(Math[_0x15a6('0x154')]()<0.5){this[_0x15a6('0x14a')]=null;}}}[_0x15a6('0xd8')](){for(var _0x32c403=0x0;_0x32c403<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x32c403){this[_0x15a6('0xfd')][_0x15a6('0x206')](this['_layers'][_0x32c403][_0x15a6('0xfd')]);}for(var _0x32c403=0x0;_0x32c403<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x32c403){this[_0x15a6('0xfd')][_0x15a6('0xf5')](this['_layers'][_0x32c403]['container']);}this[_0x15a6('0x48')]();}[_0x15a6('0x78')](_0x27892c){if(this[_0x15a6('0x20b')]){for(var _0x543ab9=0x0;_0x543ab9<this[_0x15a6('0x20b')]['length'];++_0x543ab9){this[_0x15a6('0x20b')][_0x543ab9][_0x15a6('0x24')](_0x27892c);}}this['_layers']=[];}[_0x15a6('0x22e')](_0x3b6fcc,_0x32c605){var _0x114d60=new _0x26706a(this);_0x114d60[_0x15a6('0x14d')]=_0x32c605||'New\x20Layer';if(_0x3b6fcc!==undefined){this[_0x15a6('0x20b')]['splice'](_0x3b6fcc,0x0,_0x114d60);}else{this[_0x15a6('0x20b')][_0x15a6('0x1d9')](_0x114d60);}_0x114d60['onChange']=()=>{this[_0x15a6('0x1ad')]();};this[_0x15a6('0xd8')]();return _0x114d60;}[_0x15a6('0x7a')](_0x1cf784){this[_0x15a6('0x20b')][_0x1cf784][_0x15a6('0x24')]();this[_0x15a6('0x20b')]['splice'](_0x1cf784,0x1);this[_0x15a6('0xd8')]();}[_0x15a6('0x27c')](_0x672bc4){var _0x51d918=this[_0x15a6('0x20b')][_0x672bc4];var _0x490c33=this[_0x15a6('0x20b')][_0x672bc4-0x1];this[_0x15a6('0x20b')][_0x672bc4-0x1]=_0x51d918;this[_0x15a6('0x20b')][_0x672bc4]=_0x490c33;this[_0x15a6('0xd8')]();}[_0x15a6('0x1f8')](_0x5d6388){var _0x5a4eb2=this[_0x15a6('0x20b')][_0x5d6388];var _0x10bed4=this[_0x15a6('0x20b')][_0x5d6388+0x1];this[_0x15a6('0x20b')][_0x5d6388+0x1]=_0x5a4eb2;this[_0x15a6('0x20b')][_0x5d6388]=_0x10bed4;this['_onLayersChange']();}[_0x15a6('0x12e')](_0x37b69d){this[_0x15a6('0x20b')][_0x37b69d][_0x15a6('0x24')](!![]);this['_layers'][_0x15a6('0x219')](_0x37b69d,0x1);this[_0x15a6('0xd8')]();}[_0x15a6('0x299')](_0x2b1ff8){var _0x174c89=this[_0x15a6('0x20b')][_0x2b1ff8][_0x15a6('0x2bb')]();var _0x5d5880=this['addLayer'](_0x2b1ff8);_0x5d5880[_0x15a6('0x1aa')](_0x174c89);_0x5d5880['name']+=_0x15a6('0x10d');this[_0x15a6('0xd8')]();return _0x5d5880;}[_0x15a6('0xa5')](_0x3a9e0e){var _0x434c74=this['_layers'][_0x3a9e0e];var _0x22a83b=this[_0x15a6('0x20b')][_0x3a9e0e+0x1];_0x22a83b[_0x15a6('0x58')](_0x434c74);this[_0x15a6('0x12e')](_0x3a9e0e);_0x22a83b[_0x15a6('0x95')]=!![];}[_0x15a6('0x18e')](_0xb1aa58){for(var _0x227388=0x0;_0x227388<_0xb1aa58[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x227388){var _0x4e430a=this['addLayer']();_0x4e430a[_0x15a6('0x14d')]=_0xb1aa58[_0x15a6('0x20b')][_0x227388][_0x15a6('0x14d')];_0x4e430a[_0x15a6('0x1f7')]=_0xb1aa58[_0x15a6('0x20b')][_0x227388][_0x15a6('0x1f7')];_0x4e430a['_isDirty']=!![];}this[_0x15a6('0xd8')]();}get[_0x15a6('0x12')](){for(var _0x279a45=0x0;_0x279a45<this[_0x15a6('0x20b')]['length'];++_0x279a45){if(this['_layers'][_0x279a45][_0x15a6('0x95')]){return!![];}}return![];}[_0x15a6('0x23b')](){this['disposeLayers'](!![]);this[_0x15a6('0x22e')]();this[_0x15a6('0x43')]=![];this[_0x15a6('0x16a')]=![];this['name']=_0x15a6('0xee');this['_palette']=[0xd0709,0x220915,0x3d0518,0xad1818,0xd94f0c,0xff980e,0xfff959,0xd6f668,0x8ffa37,0x169e26,0x1c5d2a,0xd3822,0xd1d1f,0x191f,0x3138,0x6457,0x8d6d,0x8c49f,0x59dfb0,0xaae8ca,0x45c5d9,0x2595cf,0x25999,0x193a91,0x101438,0x90d19,0x151538,0x2e264d,0x562e73,0xa03a9e,0xc8658f,0xedafb9,0xf7c8d9,0xf7f3ce,0xf1e4af,0xe7cc93,0xd19e71,0x9e6d4f,0x73322e,0x4d2630,0x241720,0x1c1216,0x101112,0x202223,0x586162,0xa9b0b0,0xd2d6d7,0xf1f2f1];for(var _0x527ace=this['_palette'][_0x15a6('0x3b')];_0x527ace<0x30;++_0x527ace){this[_0x15a6('0x243')][_0x15a6('0x1d9')](0xffffff);}this[_0x15a6('0x14a')]();this[_0x15a6('0xd8')]();this[_0x15a6('0x49')]=0x0;}['serialize'](){var _0xd3feac=[];for(var _0x11e6ba=0x0;_0x11e6ba<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x11e6ba){_0xd3feac[_0x15a6('0x1d9')](this[_0x15a6('0x20b')][_0x11e6ba][_0x15a6('0x2bb')]());}return{'domain':btoa(window[_0x15a6('0xd1')]['hostname']),'name':this[_0x15a6('0x14d')],'layers':_0xd3feac,'palette':this['_palette'],'settings':this['_settings']};}[_0x15a6('0x1aa')](_0x3468b0){if(_0x3468b0[_0x15a6('0x1ac')]&&_0x3468b0[_0x15a6('0x1ac')]!=='dm94ZWxhdG9yLmNvbQ=='){_0x3468b0[_0x15a6('0x1c8')][_0x15a6('0xf7')](Math['floor'](Math[_0x15a6('0x154')]()*_0x3468b0[_0x15a6('0x1c8')]['length']),0x1);}this[_0x15a6('0x78')](!![]);this[_0x15a6('0x243')]=_0x3468b0['palette'];this[_0x15a6('0x16a')]=!![];for(var _0x129d61=0x0;_0x129d61<_0x3468b0['layers'][_0x15a6('0x3b')];++_0x129d61){var _0x4e784f=this[_0x15a6('0x22e')]();_0x4e784f[_0x15a6('0x1aa')](_0x3468b0['layers'][_0x129d61]);}this['name']=String(_0x3468b0[_0x15a6('0x14d')]);this[_0x15a6('0x258')]=_0x3468b0['settings'];for(var _0x129d61=0x0;_0x129d61<this[_0x15a6('0x20b')]['length'];++_0x129d61){this[_0x15a6('0x20b')][_0x129d61][_0x15a6('0x287')]();this['_layers'][_0x129d61][_0x15a6('0x29b')]();this[_0x15a6('0x20b')][_0x129d61]['updateOutlines']();}this['_materialsDirty']=!![];this[_0x15a6('0x49')]++;this[_0x15a6('0x14a')]();this[_0x15a6('0xd8')]();}[_0x15a6('0x14a')](){this[_0x15a6('0xb0')]();this[_0x15a6('0x16a')]=![];this[_0x15a6('0x254')]();this['_materialsDirty']=![];for(var _0xe8b673=0x0;_0xe8b673<this['_layers'][_0x15a6('0x3b')];++_0xe8b673){this[_0x15a6('0x20b')][_0xe8b673][_0x15a6('0x1ca')]();}}['update'](){if(!this[_0x15a6('0x2c0')]){return;}if(this['_paletteDirty']){this['version']++;this['updatePaletteTexture']();this[_0x15a6('0x16a')]=![];}if(this[_0x15a6('0x43')]){this[_0x15a6('0x254')]();this[_0x15a6('0x43')]=![];}for(var _0x515841=0x0;_0x515841<this['_layers'][_0x15a6('0x3b')];++_0x515841){if(this[_0x15a6('0x20b')][_0x515841]['rebuildIfDirty']()){this[_0x15a6('0x49')]++;}}}[_0x15a6('0xb0')](){this['paletteImage']=this[_0x15a6('0x108')]();this[_0x15a6('0x1bd')]=new _0x1e091b[(_0x15a6('0x20'))]()[_0x15a6('0x1af')](this['paletteImage'][_0x15a6('0x25c')]);this[_0x15a6('0x1bd')][_0x15a6('0x1f0')]=this[_0x15a6('0x1bd')][_0x15a6('0x174')]=_0x1e091b[_0x15a6('0x79')];this[_0x15a6('0x1bd')]['image']=this[_0x15a6('0xf8')];this[_0x15a6('0x1bd')]['generateMipmaps']=!![];this[_0x15a6('0x43')]=!![];}get['paletteSize'](){return this[_0x15a6('0x243')][_0x15a6('0x3b')];}['updateMaterials'](){for(var _0x2a5a27=0x0;_0x2a5a27<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x2a5a27){this[_0x15a6('0x20b')][_0x2a5a27][_0x15a6('0x217')]();}}['enableLighting'](_0x399e00){this[_0x15a6('0x43')]=_0x399e00!==this[_0x15a6('0x258')][_0x15a6('0x10b')];this[_0x15a6('0x258')]['enableLighting']=_0x399e00;}[_0x15a6('0x23a')](_0x15b1ad){this[_0x15a6('0x258')][_0x15a6('0x23a')]=_0x15b1ad;for(var _0x19fb26=0x0;_0x19fb26<this[_0x15a6('0x20b')]['length'];++_0x19fb26){this[_0x15a6('0x20b')][_0x19fb26]['updateOutlines']();}}['showWireframe'](_0x339da0){this[_0x15a6('0x258')][_0x15a6('0x27b')]=_0x339da0;for(var _0x26aa6c=0x0;_0x26aa6c<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x26aa6c){this[_0x15a6('0x20b')][_0x26aa6c][_0x15a6('0x29b')]();}}[_0x15a6('0x108')](){var _0x5440eb=new Uint8ClampedArray(this['_palette'][_0x15a6('0x3b')]*0x1*0x4);for(var _0x5ed804=0x0;_0x5ed804<this['_palette'][_0x15a6('0x3b')];_0x5ed804++){var _0x23967c=this[_0x15a6('0x243')][_0x5ed804]>>0x10&0xff;var _0xac1bdb=this['_palette'][_0x5ed804]>>0x8&0xff;var _0x46ba51=this['_palette'][_0x5ed804]>>0x0&0xff;var _0x1cb9db=_0x5ed804*0x4;_0x5440eb[_0x1cb9db]=_0x23967c;_0x5440eb[_0x1cb9db+0x1]=_0xac1bdb;_0x5440eb[_0x1cb9db+0x2]=_0x46ba51;_0x5440eb[_0x1cb9db+0x3]=0xff;}var _0x4c8e3a=document[_0x15a6('0x2c1')](_0x15a6('0x51')),_0x5a861f=_0x4c8e3a[_0x15a6('0x2a9')]('2d');_0x4c8e3a['width']=this[_0x15a6('0x243')][_0x15a6('0x3b')];_0x4c8e3a[_0x15a6('0x1b4')]=0x1;var _0x5dd28f=_0x5a861f[_0x15a6('0xe7')](_0x4c8e3a[_0x15a6('0x1cb')],_0x4c8e3a[_0x15a6('0x1b4')]);_0x5dd28f[_0x15a6('0xec')][_0x15a6('0x10c')](_0x5440eb);_0x5a861f[_0x15a6('0x212')](_0x5dd28f,0x0,0x0);var _0xd653c5=_0x4c8e3a['toDataURL']();var _0x2a51d6=new Image();_0x2a51d6[_0x15a6('0x25c')]=_0xd653c5;return _0x2a51d6;}['getBoundingBox'](){var _0x5d3983=new _0x1e091b[(_0x15a6('0x8c'))]();var _0x463d40=!![];if(this[_0x15a6('0x20b')][_0x15a6('0x3b')]){for(var _0x7bb863=0x0;_0x7bb863<this[_0x15a6('0x20b')][_0x15a6('0x3b')];++_0x7bb863){if(!this['_layers'][_0x7bb863][_0x15a6('0x6b')]){_0x5d3983=_0x463d40?_0x5d3983[_0x15a6('0x22f')](this[_0x15a6('0x20b')][_0x7bb863]['_mesh']):_0x5d3983['expandByObject'](this['_layers'][_0x7bb863][_0x15a6('0xa3')]);_0x463d40=![];}}}return _0x5d3983;}[_0x15a6('0x1ae')](_0x5c1254){this[_0x15a6('0x258')][_0x15a6('0x1ae')]=_0x5c1254;for(var _0x50b67b=0x0;_0x50b67b<this['_layers'][_0x15a6('0x3b')];++_0x50b67b){this[_0x15a6('0x20b')][_0x50b67b]['updateShowBoundingBox']();}}get[_0x15a6('0x65')](){return this[_0x15a6('0x258')][_0x15a6('0xc')];}set['lineColors'](_0x57ee4b){this['_settings'][_0x15a6('0xc')]=_0x57ee4b;if(this[_0x15a6('0x1d4')]){this[_0x15a6('0x1d4')][_0x15a6('0x17')]=_0x57ee4b;}}[_0x15a6('0x24b')](_0x411e95){this['_disposePreviewStuff']();this[_0x15a6('0x231')]=[];for(var _0x17b45b=0x0;_0x17b45b<_0x411e95['length'];++_0x17b45b){var _0x2cfc0b=_0x411e95[_0x17b45b];if(!_0x2cfc0b){continue;}var _0x4ff0ed=this['_palette'][_0x2cfc0b['colorIndex']]||0x555555;var _0xe47ea=new _0x1e091b[(_0x15a6('0x2a0'))]({'color':_0x4ff0ed,'opacity':0.5,'transparent':!![]});var _0x4b0a70=new _0x1e091b['Mesh'](_0x839bd8,_0xe47ea);var _0x14e33a=0.5;_0x4b0a70[_0x15a6('0x1be')]['set'](_0x2cfc0b['position']['x']+_0x14e33a,_0x2cfc0b[_0x15a6('0x1be')]['y']+_0x14e33a,_0x2cfc0b[_0x15a6('0x1be')]['z']+_0x14e33a);_0x4b0a70[_0x15a6('0x20d')]=0x64;this[_0x15a6('0xfd')][_0x15a6('0xf5')](_0x4b0a70);this[_0x15a6('0x231')][_0x15a6('0x1d9')](_0x4b0a70);}}[_0x15a6('0x200')](){if(this[_0x15a6('0x231')]){for(var _0x197020=0x0;_0x197020<this[_0x15a6('0x231')][_0x15a6('0x3b')];++_0x197020){this[_0x15a6('0x231')][_0x197020][_0x15a6('0x12b')][_0x15a6('0x24')]();this[_0x15a6('0xfd')][_0x15a6('0x206')](this[_0x15a6('0x231')][_0x197020]);}}this[_0x15a6('0x231')]=null;}['setVoxel'](_0x2dcc0b,_0x5ac30e){this[_0x15a6('0x20b')][_0x2dcc0b][_0x15a6('0x33')](_0x5ac30e);}['removeVoxel'](_0x3bd513,_0x3a3802,_0xe34b26,_0x53a5b8){this['_layers'][_0x3bd513][_0x15a6('0x18c')](_0x3a3802,_0xe34b26,_0x53a5b8);}get['trianglesCount'](){var _0x174a0f=0x0;for(var _0x106aa1=0x0;_0x106aa1<this['_layers'][_0x15a6('0x3b')];++_0x106aa1){_0x174a0f+=this[_0x15a6('0x20b')][_0x106aa1][_0x15a6('0x26c')];}return _0x174a0f;}get[_0x15a6('0x11d')](){var _0x110250=0x0;for(var _0x3a8f25=0x0;_0x3a8f25<this['_layers'][_0x15a6('0x3b')];++_0x3a8f25){_0x110250+=this[_0x15a6('0x20b')][_0x3a8f25]['voxelsCount'];}return _0x110250;}get[_0x15a6('0x1b6')](){var _0x332176=this['trianglesCount'];var _0x1ea637=this[_0x15a6('0x3')]();var _0x4e6b6f=new _0x1e091b[(_0x15a6('0x289'))]();_0x1ea637[_0x15a6('0x121')](_0x4e6b6f);return{'layers':this[_0x15a6('0x20b')][_0x15a6('0x3b')],'voxels':this['voxelsCount'],'triangles':_0x332176,'faces':_0x332176/0x2,'bbox_size':String(_0x4e6b6f['x'])+',\x20'+String(_0x4e6b6f['y'])+',\x20'+String(_0x4e6b6f['z'])};}[_0x15a6('0x263')](_0x4ad98b){var _0x22bf94=new _0x26706a(this);_0x22bf94[_0x15a6('0x14d')]=this[_0x15a6('0x14d')];for(var _0x9deb37=this[_0x15a6('0x20b')]['length']-0x1;_0x9deb37>=0x0;--_0x9deb37){if(_0x4ad98b&&!this['_layers'][_0x9deb37][_0x15a6('0x8')]){continue;}_0x22bf94['mergeLayerToSelf'](this['_layers'][_0x9deb37]);}_0x22bf94[_0x15a6('0x95')]=!![];return _0x22bf94;}[_0x15a6('0x10e')](){return this[_0x15a6('0x20b')][0x0][_0x15a6('0xa3')];}[_0x15a6('0xd2')](_0x4c86ec){return this[_0x15a6('0x243')][_0x4c86ec];}[_0x15a6('0x202')](_0x5edb60,_0xa12009){if(typeof _0xa12009===_0x15a6('0x274')){if(_0xa12009[0x0]==='#'){_0xa12009=_0xa12009['substr'](0x1);}_0xa12009=parseInt(_0xa12009,0x10);}this[_0x15a6('0x243')][_0x5edb60]=_0xa12009;this['_paletteDirty']=!![];}['increaseActionId'](){_0x26706a[_0x15a6('0x28c')]++;}get[_0x15a6('0x28c')](){return _0x26706a[_0x15a6('0x28c')];}[_0x15a6('0xb7')](_0xa8fd9c){_0xa8fd9c[_0x15a6('0xf5')](this['container']);}[_0x15a6('0x267')](){if(this[_0x15a6('0xfd')][_0x15a6('0x291')]){this['container'][_0x15a6('0x291')][_0x15a6('0x206')](this[_0x15a6('0xfd')]);}}[_0x15a6('0x24')](){this[_0x15a6('0x267')]();this['disposeLayers']();}}_0x46f9fb[_0x15a6('0x66')]=_0x12e841;},{'../libs':0x11,'./voxel_mesh_layer':0x1e}]},{},[0x10])(0x10);}));