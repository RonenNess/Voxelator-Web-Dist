var _0x289d=['indexOf','cursor','result','down_arrow','isEditLocked','Import\x20Voxelator\x20Built-In\x20Palette','ctrlDown','splice','_lastVoxels','Lets\x20Go!','object','#tool-pencil','../voxels','modal','Not\x20Implemented','getVoxel','The\x20\x27Project\x27\x20menu\x20allow\x20you\x20to\x20rename\x20the\x20project,\x20load\x20from\x20file,\x20save\x20it,\x20or\x20create\x20a\x20new\x20empty\x20project.','./selection_tool','_previewMaterials','voxelPosition','voxelsCount','_showWireframe','left','showOutline','#tool-translate','vertex','zIndex','0x656565','_readFileFromUser','Light\x20Blue\x20[default]','MONO','\x22>Expand\x20','\x22\x20name=\x22voxel-color-','data','camera','exportModel','enableUpdates','Soften\x20Edges','mousePressed','#auto-select-layer','text/plain;charset=utf-8','Tree','addClass','minFilter','raycaster','moveLayerDown','Layers:\x20layers\x20are\x20separated\x20segments\x20of\x20your\x20mesh.<br/>You\x20can\x20use\x20layers\x20to\x20apply\x20transformations\x20only\x20on\x20parts\x20of\x20your\x20model,\x20or\x20hide\x20/\x20show\x20parts\x20of\x20your\x20model\x20while\x20editing.','_timeLeftUI','normalizedMousePos','material','version','from','getBoundingBox','<img\x20class=\x22pixelated\x22\x20style=\x22width:100%;height:auto;\x22\x20src=\x22','moveActiveLayerDown','activeLayerIndex','cutSelectedVoxelsToNewLayer','selectTargetVoxel','_showBoundingBox','_removeSelectionPreviews','Error\x20:\x20Failed\x20to\x20read\x20file','_doUpdates','#import-img-depth','_onLayersChange','normalize','Not\x20Implemented!','.layer-locked','Shrink','change','MeshLambertMaterial','STLExporter','#export-layers-type\x20option:selected','open','paletteTexture','updateOutlines','href','#help-dropdown','Note\x20this\x20checkbox\x20-\x20when\x20checked,\x20Voxelator\x20will\x20automatically\x20pick\x20the\x20layer\x20of\x20the\x20voxel\x20you\x20currently\x20point\x20on\x20with\x20your\x20cursor.','#help-text-label','Adds\x20or\x20remove\x20voxels\x20|\x20LMB\x20to\x20add\x20voxels\x20|\x20Shift+LMB\x20to\x20set\x20color\x20of\x20existing\x20voxels\x20|\x20RMB\x20to\x20remove\x20voxels\x20|\x20Shift+RMB\x20to\x20copy\x20voxel\x20color\x20|\x20LMB+Alt\x20to\x20push\x20voxels\x20|\x20RMB+Alt\x20to\x20pull\x20voxels','clone','drawImage','faceVertexUvs','front','./voxel_mesh_layer','./editor_mode','colorIndex','clientX','\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22center-on-','\x22\x20value=\x22#ffffff\x22>','Sphere','Palette\x20Texture','splic','geometry','_lastTo','New\x20Layer','Recolor\x20voxels\x20|\x20LMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20|\x20RMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20only\x20on\x20the\x20plane\x20you\x20clicked\x20on\x20|\x20Shift+LMB\x20fill\x20empty\x20voxels\x20|\x20Shift+RMB\x20duplicate\x20the\x20plane\x20you\x20clicked\x20on','_lastFrom','directionalLight1','setSelection','min','#continous-paint','WireframeGeometryNoDiagonal','tree.vox','iterateSelectedVoxels','confirm','aria-valuenow','backVoxelPosition','SimpleOrbitControls','style','1.0.0','random','import-cancel-btn','_updateRedoBtns','generateMipmaps','_doLine','Welcome\x20To\x20Voxelator!','selectColorFromPalette','Paint\x20Bucket','resetCamera','addScalar','All\x20unsaved\x20changes\x20will\x20be\x20lost.\x20Continue?','VOXELATOR.png','Exit\x20Tour','#showLights','#mesh-name-show','voxels','disposeLayers','SphereGeometry','shiftDown','mouse_left','black','BoxGeometry','moveActiveLayerUp','.stl','sin','createPaletteTexture','Voxelator\x20-\x20','updateWireframe','voxelator_use_texture','FARAWAY48.png','#export-save-binary','createElement','image','#exported-mesh-name','_camPositionOnPress','#export-as-vertex-color','substr','0x282828','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22center-on-','#palette-container','<td><input\x20class=\x22layer-name\x20layer-name-input\x22\x20maxlength=\x2220\x22\x20type=\x22text\x22\x20name=\x22layer-name\x22\x20value=\x22','everything','#import-img-modal','getContext','redo','AxesHelper','function','Select\x20groups\x20of\x20voxels\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection\x20|\x20Arrows\x20to\x20move\x20selection\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Delete\x20to\x20delete\x20voxels\x20at\x20selection','./translation_tool','length','lineColors','_doSphere','showWireframe','File\x20reading\x20started','floor','0xaecfee','Disk','New\x20name\x20for\x20mesh:','importDemoProjects','_layers','add','index','LineSegments','addTo','Vertical','locked','__locked','updatePaletteTexture','action_id','LineBasicMaterial','colorsComment','_lockedUntilClickedOnCanvas','removeVoxelsLayer','#mirror-offset-input','The\x20\x27Edit\x27\x20menu\x20contains\x20different\x20transformations\x20and\x20effects\x20you\x20can\x20apply\x20on\x20your\x20mesh.\x20It\x20also\x20contains\x20the\x20undo\x20and\x20redo\x20buttons.\x20Transformations\x20either\x20affect\x20the\x20whole\x20layer,\x20or\x20currently\x20selected\x20region\x20if\x20you\x20have\x20one.','down','showDeleteLayerDialog','palette.png','Geometry','pop','voxelator_preview_model','To\x20contact\x20me:\x20<a\x20href=\x22mailto:ronenness@gmail.com\x22>ronenness@gmail.com</a>.','isMovingOrRotatingCamera','#voxel-options-dropdown','<br\x20/><br\x20/><p>Flip\x20/\x20Mirror\x20mode:</p><select\x20id=\x22flip-mode-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Flip\x22\x20selected>Flip</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Mirror\x22>Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Opposite\x20Mirror\x22>Opposite\x20Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','call','#tool-eraser','autoSelectLayer','_blank','val','Cannot\x20find\x20module\x20\x27','Exported\x20successfully!\x20Total\x20vertices:\x20','#redo-btn','_needToGenerateUndo','#tool-select','FARAWAY48','\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-to-','NoColors','_lastTime','distanceTo','_lastSelected','_waitingForClickAfterUI','button','binary','location','./flip','face','#soften-only-corners','domain','showBoundingBox','_isDirty','_doBox','white','#rotate-dir-select\x20option:selected','radio','apply','innerHeight','none','#file-opener','AmbientLight','BASIC.png','\x22>Center\x20on\x20','mergeActiveLayerDown','middle','sign','mergeLayerToSelf','_lastRedoVersion','#camera-options-dropdown','hostname','Scene','visibleSidesCount','_updateWireframeOrOutline','find','BoxHelper','.active-layer-row','height','<tr\x20data-index=\x22','VoxelsMesh','MONO.png','deserialize','setPreviewAddVoxels','initUiElement','Translation\x20Tool','#tools-menu','MouseButtons','vertices','#colors-palette','dispose','fixed','parent','<th\x20class=\x22layer-locked\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-lock\x22></i></th>','voxelator_model_type','error','amd','importPaletteFile','#voxel-color-','text','onSelected','Smooth\x20Faces','altDown','_points','paletteImage','importVoxelFile','faces','PINEAPPLE+','large','_modes','#export-options-dropdown','prop','demos/','Tools\x20selection:\x20here\x20you\x20can\x20select\x20different\x20tools\x20to\x20use.\x20Point\x20on\x20a\x20tool\x20icon\x20to\x20learn\x20more\x20about\x20it.','reset','#center-offset-y','_redoStack','#transforms-dropdown','<p>Rotate\x20around\x20axis:</p><select\x20id=\x22rotate-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','Invalid\x20file\x20type!','#showWireframe','activeLayer','dom','</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','left_arrow','intersectPosition','rotation','#shapes-select-div','Horizontal','getLeftVector','log','#import-options-dropdown','THREE','VOXELATOR','SNES','click','targetVoxelPosition','importImageFileAsVoxels','centerVoxels','./transformation_base','mouseLeaveUI','#continous-paint-div','renderOrder','append','Background\x20Selection','innerWidth','<p>Rotate\x20direction:</p><select\x20id=\x22rotate-dir-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Clockwise\x22\x20selected>Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Counter-Clockwise\x22>Counter-Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','#center-on-','<p>Please\x20select\x20background\x20option\x20below:</p>','disabled','Note:\x20.obj\x20with\x20vertex\x20color\x20is\x20non-standard\x20and\x20not\x20guaranteed\x20to\x20work\x20everywhere.','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20layer?','ZYKRO-48','MODULE_NOT_FOUND','file-opener','voxe','unnamed_mesh1','increaseActionId','default','name','rebuildGeometry','setFromCamera','renameMesh','ZYKRO-48.png','hide','getSize','import-','mouse_right','selectedColorIndex','undefined','RESURRECT+','not-allowed','__voxelator_third_party_libs__','<input\x20class=\x22form-control\x22\x20type=\x22number\x22\x20style=\x22width:30%;display:inline-block;\x22\x20value=\x220\x22\x20id=\x22center-offset-z\x22>','./paint_bucket','_paletteDirty','updateShowBoundingBox','cloneLayer','body','./exporters_base','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22expand-to-','canvas','Mirror','_palette','./editor_modes','Box3','#999999','-cut','./libs','checked','linesColor','multiplyScalar','Stats','scale','0x7db7ed','join','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_showOutline','\x20colors\x20were\x20added.','iterateSelectedOrAllVoxels','moveVoxel','#export-optimize','#import-image-flip','data_url','Rotate\x20Mesh',':checked','#export-btn','moveLayerUp','push','\x22\x20style=\x22cursor:pointer\x22\x20id=\x22layer-','0xffffff','mousemove','mouseleave','End\x20Tour','preview','canShowPreview','<th\x20class=\x22layer-visible\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-eye\x22></i></th>','Camera\x20Controls','#tool-paint-bucket','__activeLayerIndex','_targetVoxel','Flip','position','controls','<input\x20class=\x22form-control\x22\x20type=\x22number\x22\x20style=\x22width:30%;display:inline-block;\x22\x20value=\x220\x22\x20id=\x22center-offset-y\x22>','./smooth_faces','load','_createMeshFromGeometry','round','./../voxels/voxel','#flip-around-select\x20option:selected','render','_createMaterial','selectedVoxelPosition','_materialsDirty','options','loadstart','display','deleteSelectedVoxels','_undoStack','pressed','ColorDelta','Voxelator\x20is\x20a\x20free\x20online\x20voxel\x20editing\x20tool.<br\x20/>Made\x20by\x20<a\x20target=\x22_blank\x22\x20href=\x22http://ronenness.com\x22>Ronen\x20Ness</a>,\x202020.<br\x20/>','Eraser\x20Tool','_verticesIndexes','released','transparent','setVoxel','keys','import-img-preview','WebGLRenderer','rebuildEverything','top','_enableLighting','back','mergeWith','And\x20this\x20text\x20gives\x20useful\x20info\x20about\x20your\x20mesh\x20size\x20and\x20faces\x20count.<br/>Note:\x20when\x20exporting\x20the\x20mesh\x20some\x20extra\x20optimizations\x20are\x20applied,\x20so\x20the\x20exported\x20file\x20is\x20usually\x20much\x20more\x20efficient.','mousedown','#export-save-binary-div','stringify','<p>This\x20transformation\x20will\x20shrink\x20mesh\x20by\x20removing\x20the\x20outter\x20layer\x20of\x20visible\x20voxels.</p>','onDeselected','./voxel','get','meshName','voxelator.vox','import-btn','remove','_previewMeshes','./../libs','Successfully\x20imported\x20Palette!\x20','deleteLayer','trigger','keyup','children','Exported\x20Successfully','_linesColor','./exports','#export-modal','_exportMeshBase','./transformations','getTime','.obj','./export_stl','#trans-rotation-input','EdgesGeometry','showPaletteTexture','isInUI','getCenter','Grey','up_arrow','_mesh','duplicateLayerOfVoxels','string','<p>This\x20transformation\x20will\x20expand\x20mesh\x20by\x20duplicating\x20voxels\x20in\x20some\x20or\x20all\x20directions.</p>','.gltf','_camRotationOnPress','setPaletteColor','.on-screen-text','toDataURL','Move\x20selected\x20voxels\x20|\x20Arrows\x20to\x20move\x20voxels\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection','prompt','Exporter','You\x20must\x20select\x20voxels\x20using\x20the\x20selection\x20tool\x20to\x20use\x20this\x20option.','.layer-name','exports','setSize','css','accept','set','Box','Mesh','addEventListener','White','disk.vox','src','active-layer-row','../libs','show','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22threshold-input\x22>Max\x20neighbors\x20threshold:\x20<span\x20id=\x22threshold-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#threshold-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x225\x22\x20id=\x22threshold-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','addLayer','deleteActiveLayer','split','_settings','polygonOffset','Voxelator\x20v','has','_boundingBoxMesh','equals','./export_dae','./eraser_tool','getSelectedRegionOrWholeLayer','fillEmptyVoxels','loadDemoProject','opacity','_outlineMesh','_disposePreviewStuff','Line','max','onclick','%\x20read','moveVoxels','_lastUndoMove','sub','stats','Voxelator','Vector3','importVoxFileFromJson','Math','update','_outlineGeometry','updateMaterials','<p>This\x20transformation\x20will\x20flip\x20or\x20mirror\x20voxels\x20around\x20an\x20axis.</p>','intersectObjects','appendChild','active_layer','input','-clone','getCombinedLayer','texture','recolorVoxels','#rotate-around-select\x20option:selected','lengthComputable','GridHelper','Cannot\x20apply\x20transformation\x20-\x20active\x20layer\x20is\x20currently\x20','Object3D','_imageDataToPalette','_resetControls','iterateEmptyVoxelsGroup','page_up','paletteSize','doCameraControls','normal','<p>Axis\x20to\x20flip:</p><select\x20id=\x22flip-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','right_arrow','selected-color','container','magFilter','_geometry','snake.vox','isDirty','voxelMesh','dm94ZWxhdG9yLmNvbQ==','mouseDown','#layers-table','.<br\x20/>Open\x20exported\x20model\x20for\x20preview?','clearSelection','_outlineMaterial','end','FileSaver','_voxelator_layer','<input\x20class=\x22form-control\x22\x20type=\x22number\x22\x20style=\x22width:30%;display:inline-block;\x22\x20value=\x220\x22\x20id=\x22center-offset-x\x22>','serialize','attr','isUiFocused','width','<p>This\x20transformation\x20will\x20remove\x20lonely\x20voxels\x20to\x20make\x20surfaces\x20smoother.</p>','./shrink','_pointOnMarker','Clockwise','manager','colors','End\x20finally,\x20the\x20\x27Help\x27\x20menu\x20contains\x20link\x20to\x20the\x20documentation\x20pages,\x20info\x20about\x20the\x20software,\x20and\x20this\x20guided\x20tour!<br/>Hope\x20you\x20find\x20this\x20tour\x20useful\x20and\x20have\x20fun\x20using\x20Voxelator\x20:)','layers','\x20axis</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mouseEnterUI','selection','visibleFaces','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-rotation-count-input\x22>Rotate\x20by\x20<span\x20id=\x22trans-rotation-count\x22>90</span>\x20degrees</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-rotation-count\x27).text(parseInt($(this).val())\x20*\x2045)\x22\x20value=\x222\x22\x20min=\x221\x22\x20max=\x228\x22\x20id=\x22trans-rotation-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','updateMaterial','Note:\x20vertex\x20color\x20is\x20not\x20supported\x20in\x20.stl\x20forat.\x20Choosing\x20\x27Vertex\x20Color\x27\x20will\x20result\x20in\x20colorless\x20mesh.','Cannot\x20delete\x20this\x20layer\x20since\x20its\x20the\x20last\x20remaining\x20layer.','DirectionalLight','extensions','Draw\x20predefined\x20shapes\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20create\x20selected\x20shape\x20|\x20Shift+LMB\x20remove\x20voxels\x20in\x20shape\x27s\x20region','_axes','PerspectiveCamera','_exporters','saveAs','#auto-select-layer-div','#tool-paint-brush','selectEditorMode','Box3Helper','./export_gltf','MonotoneMesh','_selectionShow','expandByObject','For\x20example,\x20if\x20you\x20build\x20a\x20tree\x20you\x20can\x20put\x20all\x20the\x20leaves\x20on\x20a\x20separated\x20layer,\x20and\x20hide\x20them\x20while\x20you\x20edit\x20the\x20bark.<br/>Note\x20that\x20when\x20you\x20export\x20your\x20model\x20all\x20layers\x20are\x20merged\x20into\x20one,\x20unless\x20you\x20choose\x20to\x20only\x20export\x20some\x20of\x20them.','#expand-to-','removeVoxel','readAsDataURL','lookAt','#showOutline','0x002244','setClearColor','showPalette','<input\x20class=\x22color-in-palette\x22\x20type=\x22color\x22\x20id=\x22voxel-color-','empty','selectedRegion','_isInUI','#view-options-dropdown','vertexColors','title','isEmpty','TextureLoader','image/*','getImageData','palette','onMeshRename','#trans-iterations-count-input','parse','inline-block','anyMouseButtonsDown','Opposite\x20Mirror','trianglesCount','showAxes','_from','selectToolWithKey','scene','#import-progress-bar','_ambientLight','VoxelsPencil','loadProjectFromFile','<img\x20src=\x22img/controls.png\x22\x20style=\x22width:100%;height:auto;\x22>','onChange','renderer','\x22\x20/>','polygonOffsetUnits','<br\x20/>','Both','The\x20following\x20guided\x20tour\x20will\x20walk\x20you\x20through\x20the\x20UI\x20of\x20Voxelator.\x20For\x20more\x20info,\x20check\x20out\x20the\x20documentation\x20pages\x20under\x20\x27Help\x27\x20menu.<br\x20/><br\x20/>Ready\x20to\x20begin?','iterateVoxelsGroup','delete','Import\x20Demo\x20Project','bottom','settings','placeholder','StInput','visible','fileExtension','.vox','onLayersChange','removeSelf','getHelpText','<br\x20/><br\x20/><div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mirror-offset-input\x22>Mirror\x20Distance:\x20<span\x20id=\x22mirror-offset-input-label\x22>0</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#mirror-offset-input-label\x27).text($(this).val())\x22\x20value=\x220\x22\x20min=\x22-10\x22\x20max=\x2210\x22\x20id=\x22mirror-offset-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#center-offset-x','Target\x20Voxel:\x20','domElement','Symmetrical\x20Sphere','not\x20visible','cos','voxelator_preview_texture','Face3','html','.color-in-palette','./expand','<p>This\x20transformation\x20will\x20make\x20corners\x20/\x20edges\x20softer\x20by\x20removing\x20the\x20sharp\x20edges\x20voxels.</p>','#shapes-select\x20option:selected',',\x20total\x20faces:\x20','directionalLight2','clearVoxels','_scene','_selectedMode','removeClass','<p>This\x20transformation\x20will\x20center\x20selected\x20voxels\x20around\x20a\x20position.</p>','updatePaletteUiFromMeshPalette','abs','alert','download','expandByPoint','target','removeAllVoxelsOutside','_needDoubleUndoPop','code','readAsText','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22expand-smoothly\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-smoothly\x22>Expand\x20roundly\x20between\x20different\x20axises</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','color','_onCanvas','_grid','right','initialize','#undo-btn','_to','The\x20\x27Camera\x27\x20menu\x20contains\x20options\x20for\x20the\x20viewport\x27s\x20camera,\x20including\x20useful\x20preset\x20camera\x20angles\x20you\x20can\x20jump\x20to\x20(for\x20example,\x20making\x20the\x20camera\x20face\x20the\x20front\x20of\x20the\x20mesh).','setItem','mode','containsPoint','-row\x22>','rebuildIfDirty','getElementById','_resetAll','Voxels\x20Pencil','./center','NearestFilter','onchange','_createPaletteElements','undo','./voxels_pencil','_pushVoxelToMesh','_voxels','_lastPreview','resize','You\x20can\x20export\x20your\x20mesh\x20to\x20many\x20standard\x203d\x20formats.\x20When\x20exported,\x20the\x20geometry\x20will\x20no\x20longer\x20be\x20voxels-based\x20and\x20be\x20optimized\x20to\x20use\x20less\x20faces\x20and\x20less\x20vertices.','Voxel','MeshBasicMaterial','enableLighting','Vector2','Color','directionalLight3','getRightVector'];(function(_0x4a5da3,_0x3158ae){var _0x189475=function(_0xb204f0){while(--_0xb204f0){_0x4a5da3['push'](_0x4a5da3['shift']());}};_0x189475(++_0x3158ae);}(_0x289d,0x1cb));var _0x39db=function(_0x4a5da3,_0x3158ae){_0x4a5da3=_0x4a5da3-0x0;var _0x189475=_0x289d[_0x4a5da3];return _0x189475;};(function(_0x1fc752){if(typeof exports===_0x39db('0x10d')&&typeof module!==_0x39db('0x254')){module[_0x39db('0xe')]=_0x1fc752();}else if(typeof define===_0x39db('0x1a0')&&define[_0x39db('0x20b')]){define([],_0x1fc752);}else{var _0x5b2205;if(typeof window!=='undefined'){_0x5b2205=window;}else if(typeof global!=='undefined'){_0x5b2205=global;}else if(typeof self!==_0x39db('0x254')){_0x5b2205=self;}else{_0x5b2205=this;}_0x5b2205['Voxelator']=_0x1fc752();}}(function(){var _0x498eff,_0x2d63be,_0x130c46;return function(){function _0x51ef4e(_0x375c2d,_0x33629c,_0x51f75e){function _0x2d788d(_0x3eb134,_0xbc3163){if(!_0x33629c[_0x3eb134]){if(!_0x375c2d[_0x3eb134]){var _0xdc6816=_0x39db('0x1a0')==typeof require&&require;if(!_0xbc3163&&_0xdc6816)return _0xdc6816(_0x3eb134,!0x0);if(_0x2bef5e)return _0x2bef5e(_0x3eb134,!0x0);var _0x312f39=new Error(_0x39db('0x1cc')+_0x3eb134+'\x27');throw _0x312f39[_0x39db('0xde')]=_0x39db('0x244'),_0x312f39;}var _0x42fc24=_0x33629c[_0x3eb134]={'exports':{}};_0x375c2d[_0x3eb134][0x0][_0x39db('0x1c7')](_0x42fc24[_0x39db('0xe')],function(_0x58a986){var _0x3cc3d4=_0x375c2d[_0x3eb134][0x1][_0x58a986];return _0x2d788d(_0x3cc3d4||_0x58a986);},_0x42fc24,_0x42fc24[_0x39db('0xe')],_0x51ef4e,_0x375c2d,_0x33629c,_0x51f75e);}return _0x33629c[_0x3eb134]['exports'];}for(var _0x2bef5e=_0x39db('0x1a0')==typeof require&&require,_0x5003bb=0x0;_0x5003bb<_0x51f75e[_0x39db('0x1a3')];_0x5003bb++)_0x2d788d(_0x51f75e[_0x5003bb]);return _0x2d788d;}return _0x51ef4e;}()({1:[function(_0x575fd6,_0x19e1c7,_0x1e7381){class _0x5f0112{[_0x39db('0xe5')](_0x52afed){}[_0x39db('0x3a')](_0x10e02c,_0x3258d4){}[_0x39db('0x20f')](_0x5cc3ab){}['onDeselected'](_0x3efeeb){}['getHelpText'](){throw new Error(_0x39db('0x144'));}get[_0x39db('0x90')](){return!![];}get[_0x39db('0x24a')](){throw new Error(_0x39db('0x144'));}}_0x19e1c7[_0x39db('0xe')]=_0x5f0112;},{}],2:[function(_0xf7b211,_0x1888f6,_0x3d26fd){const _0x434659=_0xf7b211(_0x39db('0x158'));const _0x2817ef=_0xf7b211(_0x39db('0x10f'));const _0x282ae5=_0xf7b211(_0x39db('0x1a'));const _0x77646e=_0x282ae5[_0x39db('0x22f')];class _0x15d91e extends _0x434659{[_0x39db('0xe5')](_0x3e3160){const _0x320430=new _0x77646e['SphereGeometry'](0.2,0x5,0x5);var _0x57846b=0xff0000;var _0x5f0b9d=new _0x77646e[(_0x39db('0xfd'))]({'color':_0x57846b,'opacity':0.65,'transparent':!![]});var _0x1dfcc0=new _0x77646e[(_0x39db('0x14'))](_0x320430,_0x5f0b9d);_0x1dfcc0[_0x39db('0x239')]=0x64;_0x3e3160['scene']['add'](_0x1dfcc0);this[_0x39db('0x6b')]=_0x1dfcc0;this['_pointOnMarker'][_0x39db('0xbb')]=![];}['_removeSelectionPreviews'](_0x2bd131){this[_0x39db('0x6b')][_0x39db('0xbb')]=![];}[_0x39db('0x3a')](_0x23479c,_0x5b5eb4){var _0x1ac5d9=_0x23479c[_0x39db('0x224')];if(_0x23479c[_0x39db('0x1c4')]){this[_0x39db('0x13e')](_0x23479c);this[_0x39db('0x1d6')]=null;return;}var _0x56a8de=_0x23479c[_0x39db('0x13c')]();this['_lastSelected']=_0x56a8de;if(!_0x56a8de){this[_0x39db('0x13e')](_0x23479c);return;}this[_0x39db('0x6b')][_0x39db('0x289')][_0x39db('0x12')](_0x56a8de['intersectPosition']['x'],_0x56a8de[_0x39db('0x228')]['y'],_0x56a8de[_0x39db('0x228')]['z']);this[_0x39db('0x6b')][_0x39db('0xbb')]=!![];if(_0x23479c[_0x39db('0x41')]['shiftDown']){if(_0x23479c[_0x39db('0x41')][_0x39db('0x2a0')]('mouse_left')){_0x1ac5d9[_0x39db('0x1ba')](_0x56a8de[_0x39db('0x294')],_0x56a8de[_0x39db('0x51')],![],_0x23479c[_0x39db('0x93')]);}if(_0x23479c[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x252'))){_0x1ac5d9[_0x39db('0x1ba')](_0x56a8de[_0x39db('0x294')],_0x56a8de[_0x39db('0x51')],!![],_0x23479c[_0x39db('0x93')]);}}else{if(_0x23479c['input'][_0x39db('0x2a0')](_0x39db('0x185'))){_0x1ac5d9[_0x39db('0x8a')](_0x56a8de[_0x39db('0x294')]);}if(_0x23479c[_0x39db('0x41')][_0x39db('0x1bd')](_0x39db('0x252'))){_0x1ac5d9['removeVoxel'](_0x56a8de['selectedVoxelPosition']);}}}get[_0x39db('0x90')](){return![];}[_0x39db('0x20f')](_0x77311f){}[_0x39db('0x2b0')](_0xe443c4){this[_0x39db('0x13e')](_0xe443c4);}[_0x39db('0xc0')](){return'Remove\x20voxels\x20|\x20LMB\x20to\x20remove\x20a\x20single\x20voxel\x20|\x20RMB\x20to\x20remove\x20voxels\x20while\x20button\x20is\x20down\x20|\x20Shift+LMB\x20to\x20remove\x20layer\x20of\x20voxels\x20|\x20Shift+RMB\x20to\x20remove\x20layer\x20of\x20voxels\x20of\x20the\x20same\x20color';}get[_0x39db('0x24a')](){return _0x39db('0x29e');}}_0x1888f6[_0x39db('0xe')]=_0x15d91e;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],3:[function(_0x72e08b,_0x4709c9,_0x47e5cd){_0x4709c9[_0x39db('0xe')]={'VoxelsPencil':_0x72e08b(_0x39db('0xf6')),'SelectionTool':_0x72e08b(_0x39db('0x114')),'TranslationTool':_0x72e08b(_0x39db('0x1a2')),'EraserTool':_0x72e08b(_0x39db('0x27')),'PaintBucket':_0x72e08b(_0x39db('0x259')),'ShapesTool':_0x72e08b('./shapes_tool')};},{'./eraser_tool':0x2,'./paint_bucket':0x4,'./selection_tool':0x5,'./shapes_tool':0x6,'./translation_tool':0x7,'./voxels_pencil':0x8}],4:[function(_0x6ed100,_0x4321eb,_0x45ce05){const _0x4eb27b=_0x6ed100(_0x39db('0x158'));const _0x3768e7=_0x6ed100(_0x39db('0x10f'));const _0x3c58b4=_0x6ed100(_0x39db('0x1a'));const _0x16cdb7=_0x3c58b4[_0x39db('0x22f')];class _0x355ffa extends _0x4eb27b{['initialize'](_0x44a380){const _0x9013cc=new _0x16cdb7[(_0x39db('0x183'))](0.2,0x5,0x5);var _0x28ef45=0xff0000;var _0x1602e8=new _0x16cdb7[(_0x39db('0xfd'))]({'color':_0x28ef45,'opacity':0.65,'transparent':!![]});var _0x207b37=new _0x16cdb7['Mesh'](_0x9013cc,_0x1602e8);_0x207b37['renderOrder']=0x64;_0x44a380[_0x39db('0xa7')]['add'](_0x207b37);this[_0x39db('0x6b')]=_0x207b37;this[_0x39db('0x6b')][_0x39db('0xbb')]=![];}[_0x39db('0x13e')](_0x4e7965){this[_0x39db('0x6b')]['visible']=![];}['update'](_0x19c09c,_0x4a08cd){var _0x8a101=_0x19c09c['activeLayer'];if(_0x19c09c[_0x39db('0x1c4')]){this[_0x39db('0x13e')](_0x19c09c);this[_0x39db('0x1d6')]=null;return;}var _0x2b6e97=_0x19c09c[_0x39db('0x13c')](_0x19c09c['input'][_0x39db('0x184')]);this['_lastSelected']=_0x2b6e97;if(!_0x2b6e97){this[_0x39db('0x13e')](_0x19c09c);return;}this[_0x39db('0x6b')][_0x39db('0x289')]['set'](_0x2b6e97['intersectPosition']['x'],_0x2b6e97[_0x39db('0x228')]['y'],_0x2b6e97[_0x39db('0x228')]['z']);this[_0x39db('0x6b')][_0x39db('0xbb')]=!![];if(_0x19c09c['input'][_0x39db('0x2a0')]('mouse_left')){if(_0x19c09c[_0x39db('0x41')][_0x39db('0x184')]){_0x8a101['fillEmptyVoxels'](_0x2b6e97[_0x39db('0x233')],_0x2b6e97['normal'],_0x19c09c[_0x39db('0x93')],_0x19c09c[_0x39db('0x253')]);}else{_0x8a101['recolorVoxels'](_0x2b6e97['selectedVoxelPosition'],new _0x16cdb7[(_0x39db('0x37'))](0x0,0x0,0x0),!![],_0x19c09c[_0x39db('0x93')],_0x19c09c[_0x39db('0x253')]);}}if(_0x19c09c[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x252'))){if(_0x19c09c[_0x39db('0x41')][_0x39db('0x184')]){_0x8a101[_0x39db('0x1')](_0x2b6e97['selectedVoxelPosition'],_0x2b6e97['normal'],_0x19c09c[_0x39db('0x93')]);}else{_0x8a101[_0x39db('0x45')](_0x2b6e97[_0x39db('0x294')],_0x2b6e97[_0x39db('0x51')],!![],_0x19c09c[_0x39db('0x93')],_0x19c09c[_0x39db('0x253')]);}}}get[_0x39db('0x90')](){return!![];}[_0x39db('0x20f')](_0x13972a){}[_0x39db('0x2b0')](_0x3223ae){this[_0x39db('0x13e')](_0x3223ae);}[_0x39db('0xc0')](){return _0x39db('0x163');}get[_0x39db('0x24a')](){return _0x39db('0x179');}}_0x4321eb['exports']=_0x355ffa;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],5:[function(_0x1d65ff,_0x23b925,_0x3a2835){const _0x14e042=_0x1d65ff(_0x39db('0x158'));const _0x1d4073=_0x1d65ff('../voxels');const _0x495670=_0x1d65ff(_0x39db('0x1a'));const _0x28bfb5=_0x495670[_0x39db('0x22f')];class _0x1da644 extends _0x14e042{['initialize'](_0x43ab43){this[_0x39db('0x212')]=[];}[_0x39db('0x3a')](_0x105f4e,_0x4cc41e){var _0x529350=_0x105f4e[_0x39db('0x13c')](!![],!![]);var _0x39bcdf=_0x529350?_0x529350[_0x39db('0x294')]||_0x529350['targetVoxelPosition']:null;if(location[_0x39db('0x14e')]['indexOf'](atob(_0x39db('0x5b')))<0x0){_0x105f4e[_0x39db('0x41')][_0x39db('0x1bd')]=null;}if(_0x105f4e[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x252'))){this[_0x39db('0x212')]=[];}if(_0x105f4e[_0x39db('0x41')]['pressed']('mouse_left')){if(_0x105f4e['input'][_0x39db('0x184')]&&_0x39bcdf){this['_points'][_0x39db('0x27b')](_0x39bcdf);}else{this[_0x39db('0x212')]=_0x39bcdf?[_0x39bcdf,_0x39bcdf]:[];}}var _0x50112a=_0x147c2f=>{_0x147c2f['y']=0x0;_0x147c2f['x']=Math[_0x39db('0x28f')](_0x147c2f['x']);_0x147c2f['z']=Math[_0x39db('0x28f')](_0x147c2f['z']);if(_0x147c2f['x']==0x0&&_0x147c2f['z']==0x0){_0x147c2f['x']=Math[_0x39db('0x28f')](_0x147c2f['x']*1.5);}return _0x147c2f;};var _0x167f93=_0x50112a(_0x105f4e[_0x39db('0x28a')][_0x39db('0x22c')]());var _0x3dd046=_0x50112a(_0x105f4e['controls'][_0x39db('0x102')]());var _0x52e8c9=_0x50112a(_0x105f4e[_0x39db('0x28a')]['worldDirection']);var _0x3010b4=_0x52e8c9[_0x39db('0x153')]()[_0x39db('0x26a')](-0x1);if(_0x105f4e[_0x39db('0x41')]['pressed'](_0x39db('0x53'))){for(var _0xe22bfb=0x0;_0xe22bfb<this[_0x39db('0x212')]['length'];++_0xe22bfb){this[_0x39db('0x212')][_0xe22bfb]['add'](_0x3dd046);}}if(_0x105f4e[_0x39db('0x41')][_0x39db('0x29b')](_0x39db('0x227'))){for(var _0xe22bfb=0x0;_0xe22bfb<this[_0x39db('0x212')][_0x39db('0x1a3')];++_0xe22bfb){this[_0x39db('0x212')][_0xe22bfb][_0x39db('0x1ae')](_0x167f93);}}if(_0x105f4e[_0x39db('0x41')]['shiftDown']){if(_0x105f4e[_0x39db('0x41')]['pressed'](_0x39db('0x2cd'))){for(var _0xe22bfb=0x0;_0xe22bfb<this['_points'][_0x39db('0x1a3')];++_0xe22bfb){this[_0x39db('0x212')][_0xe22bfb]['y']++;}}if(_0x105f4e[_0x39db('0x41')]['pressed'](_0x39db('0x106'))){for(var _0xe22bfb=0x0;_0xe22bfb<this[_0x39db('0x212')][_0x39db('0x1a3')];++_0xe22bfb){this[_0x39db('0x212')][_0xe22bfb]['y']--;}}}else{if(_0x105f4e[_0x39db('0x41')][_0x39db('0x29b')](_0x39db('0x2cd'))){for(var _0xe22bfb=0x0;_0xe22bfb<this['_points']['length'];++_0xe22bfb){this['_points'][_0xe22bfb][_0x39db('0x1ae')](_0x52e8c9);}}if(_0x105f4e[_0x39db('0x41')][_0x39db('0x29b')](_0x39db('0x106'))){for(var _0xe22bfb=0x0;_0xe22bfb<this[_0x39db('0x212')][_0x39db('0x1a3')];++_0xe22bfb){this[_0x39db('0x212')][_0xe22bfb][_0x39db('0x1ae')](_0x3010b4);}}}if(_0x105f4e[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0xb5'))){_0x105f4e['deleteSelectedVoxels']();}if(_0x105f4e[_0x39db('0x41')]['down'](_0x39db('0x185'))&&_0x39bcdf){this[_0x39db('0x212')][this[_0x39db('0x212')][_0x39db('0x1a3')]-0x1]=_0x39bcdf;}if(this[_0x39db('0x212')][_0x39db('0x1a3')]){_0x105f4e[_0x39db('0x166')](this[_0x39db('0x212')]);}else{_0x105f4e[_0x39db('0x5f')]();}}get['showPalette'](){return![];}[_0x39db('0x20f')](_0xef8438){}[_0x39db('0x2b0')](_0x35fea2){}[_0x39db('0xc0')](){return _0x39db('0x1a1');}get[_0x39db('0x24a')](){return'Selection\x20Tool';}}_0x23b925['exports']=_0x1da644;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],6:[function(_0x3aac4e,_0x1fa755,_0x511741){const _0x577bbc=_0x3aac4e(_0x39db('0x158'));const _0x5e1134=_0x3aac4e(_0x39db('0x10f'));const _0x13dd43=_0x3aac4e('../libs');const _0x8eae19=_0x13dd43[_0x39db('0x22f')];class _0x387fd5 extends _0x577bbc{[_0x39db('0xe5')](_0x380577){this['_points']=[];}[_0x39db('0x3a')](_0x141d98,_0x48019c){var _0xbc20c3=_0x141d98['selectTargetVoxel'](!![],!![],!![]);var _0x4021e2=_0xbc20c3?_0xbc20c3[_0x39db('0x233')]||_0xbc20c3[_0x39db('0x294')]:null;if(_0x141d98[_0x39db('0x41')][_0x39db('0x29b')](_0x39db('0x185'))){this[_0x39db('0xa5')]=_0x4021e2;}else if(_0x141d98[_0x39db('0x41')]['down'](_0x39db('0x185'))){this[_0x39db('0xe7')]=_0x4021e2;}if(_0x141d98[_0x39db('0x41')]['down']('mouse_right')){this[_0x39db('0xa5')]=this[_0x39db('0xe7')]=null;_0x141d98['voxelMesh']['setPreviewAddVoxels']([]);}var _0x557627=this[_0x39db('0x10b')]||[];var _0x43c960=this[_0x39db('0xf9')]||[];if(this[_0x39db('0xa5')]&&this[_0x39db('0xe7')]&&(!this[_0x39db('0x161')]||!this['_lastFrom']||!this['_from'][_0x39db('0x25')](this[_0x39db('0x164')])||!this[_0x39db('0xe7')][_0x39db('0x25')](this[_0x39db('0x161')]))){this[_0x39db('0x161')]=this[_0x39db('0xe7')];this[_0x39db('0x164')]=this[_0x39db('0xa5')];var _0x136da8=$(_0x39db('0xce'))[_0x39db('0x20e')]();switch(_0x136da8){case _0x39db('0x2e'):_0x43c960=_0x557627=this[_0x39db('0x176')](_0x141d98);break;case _0x39db('0x13'):var _0x504e56=this[_0x39db('0x1e1')](_0x141d98);_0x557627=_0x504e56[_0x39db('0x181')];_0x43c960=_0x504e56[_0x39db('0x281')];break;case _0x39db('0x15d'):_0x43c960=_0x557627=this['_doSphere'](_0x141d98,![]);break;case _0x39db('0xc5'):_0x43c960=_0x557627=this[_0x39db('0x1a5')](_0x141d98,!![]);break;}this[_0x39db('0x10b')]=_0x557627;this['_lastPreview']=_0x43c960;}if(_0x141d98[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x185'))&&_0x557627){for(var _0x46dca3=0x0;_0x46dca3<_0x557627[_0x39db('0x1a3')];++_0x46dca3){if(_0x141d98[_0x39db('0x41')][_0x39db('0x184')]){_0x141d98[_0x39db('0x224')][_0x39db('0x8a')](_0x557627[_0x46dca3][_0x39db('0x289')]);}else{_0x141d98[_0x39db('0x224')]['setVoxel'](_0x557627[_0x46dca3]);}}}if(!_0x141d98[_0x39db('0x41')]['down'](_0x39db('0x185'))){this[_0x39db('0x161')]=this[_0x39db('0x164')]=this[_0x39db('0xa5')]=this[_0x39db('0xe7')]=null;this[_0x39db('0xf9')]=this['_lastVoxels']=null;_0x141d98[_0x39db('0x5a')]['setPreviewAddVoxels']([]);}else{_0x141d98[_0x39db('0x5a')][_0x39db('0x1fe')](_0x43c960||[]);}}[_0x39db('0x1e1')](_0x5dd79b){var _0x1587fe=new _0x8eae19[(_0x39db('0x264'))]();_0x1587fe[_0x39db('0xda')](this[_0x39db('0xa5')]);_0x1587fe[_0x39db('0xda')](this['_to']);var _0x1aea2f=[];var _0x331cb7=[];for(var _0xeab83f=_0x1587fe[_0x39db('0x167')]['x'];_0xeab83f<=_0x1587fe[_0x39db('0x2f')]['x'];++_0xeab83f){for(var _0x58be2f=_0x1587fe['min']['y'];_0x58be2f<=_0x1587fe['max']['y'];++_0x58be2f){for(var _0x280614=_0x1587fe['min']['z'];_0x280614<=_0x1587fe[_0x39db('0x2f')]['z'];++_0x280614){var _0x27f998=new _0x5e1134['Voxel'](new _0x8eae19['Vector3'](_0xeab83f,_0x58be2f,_0x280614),_0x5dd79b['selectedColorIndex']);_0x1aea2f['push'](_0x27f998);if(_0xeab83f==_0x1587fe[_0x39db('0x167')]['x']||_0xeab83f==_0x1587fe[_0x39db('0x2f')]['x']||_0x58be2f==_0x1587fe[_0x39db('0x167')]['y']||_0x58be2f==_0x1587fe[_0x39db('0x2f')]['y']||_0x280614==_0x1587fe[_0x39db('0x167')]['z']||_0x280614==_0x1587fe[_0x39db('0x2f')]['z']){_0x331cb7[_0x39db('0x27b')](_0x27f998);}}}}return{'voxels':_0x1aea2f,'preview':_0x331cb7};}[_0x39db('0x1a5')](_0x3b3c7c,_0x2536d7){var _0x3d67de=new _0x8eae19['Box3']();_0x3d67de[_0x39db('0xda')](this[_0x39db('0xa5')]);_0x3d67de[_0x39db('0xda')](this[_0x39db('0xe7')]);if(_0x2536d7){var _0x2a2ad6=new _0x8eae19[(_0x39db('0x37'))]();_0x3d67de[_0x39db('0x250')](_0x2a2ad6);_0x3d67de[_0x39db('0x2f')]['y']=_0x3d67de['min']['y']+Math[_0x39db('0x167')](_0x2a2ad6['x'],_0x2a2ad6['z']);}var _0x2302c6=_0x3d67de[_0x39db('0x2cb')]();var _0x14cae0=_0x2536d7?Math[_0x39db('0x167')]:Math[_0x39db('0x2f')];var _0x5504a1=_0x14cae0(_0x14cae0((_0x3d67de[_0x39db('0x2f')]['x']-_0x3d67de['min']['x'])/0x2,(_0x3d67de[_0x39db('0x2f')]['y']-_0x3d67de[_0x39db('0x167')]['y'])/0x2),(_0x3d67de[_0x39db('0x2f')]['z']-_0x3d67de['min']['z'])/0x2);var _0x40945a=[];for(var _0x36eb35=_0x3d67de[_0x39db('0x167')]['x'];_0x36eb35<=_0x3d67de[_0x39db('0x2f')]['x'];++_0x36eb35){for(var _0x4e65fd=_0x3d67de[_0x39db('0x167')]['y'];_0x4e65fd<=_0x3d67de[_0x39db('0x2f')]['y'];++_0x4e65fd){for(var _0x107854=_0x3d67de[_0x39db('0x167')]['z'];_0x107854<=_0x3d67de['max']['z'];++_0x107854){var _0x42ad69=new _0x8eae19['Vector3'](_0x36eb35,_0x4e65fd,_0x107854);if(_0x42ad69[_0x39db('0x1d5')](_0x2302c6)<=_0x5504a1){_0x40945a[_0x39db('0x27b')](new _0x5e1134[(_0x39db('0xfc'))](_0x42ad69,_0x3b3c7c[_0x39db('0x253')]));}}}}return _0x40945a;}[_0x39db('0x176')](_0x4057dc){var _0x5902f4=function(_0x308fed,_0x490d41){var _0x10daf3=0x0;var _0x293779='';if(_0x308fed[_0x39db('0x289')]['x']==_0x490d41['position']['x']){_0x10daf3++;_0x293779+='x';}if(_0x308fed['position']['y']==_0x490d41[_0x39db('0x289')]['y']){_0x10daf3++;_0x293779+='y';}if(_0x308fed[_0x39db('0x289')]['z']==_0x490d41[_0x39db('0x289')]['z']){_0x10daf3++;_0x293779+='z';}return _0x10daf3>0x1?_0x293779:null;};var _0x34ff11=[];var _0x576639=this['_from'][_0x39db('0x153')]();var _0x1e68d6=this[_0x39db('0xa5')][_0x39db('0x153')]();var _0x3ff685=null;var _0xd060=this[_0x39db('0xe7')][_0x39db('0x153')]()[_0x39db('0x34')](this[_0x39db('0xa5')])[_0x39db('0x143')]()['multiplyScalar'](0.5);while(!_0x1e68d6[_0x39db('0x25')](this[_0x39db('0xe7')])){var _0x1e68d6=new _0x8eae19['Vector3'](Math[_0x39db('0x28f')](_0x576639['x']),Math[_0x39db('0x28f')](_0x576639['y']),Math[_0x39db('0x28f')](_0x576639['z']));_0x576639[_0x39db('0x1ae')](_0xd060);if(!_0x3ff685||!_0x3ff685[_0x39db('0x25')](_0x1e68d6)){_0x34ff11['push'](new _0x5e1134[(_0x39db('0xfc'))](_0x1e68d6,_0x4057dc[_0x39db('0x253')]));}_0x3ff685=_0x1e68d6;}for(var _0x48c725=_0x34ff11[_0x39db('0x1a3')]-0x2;_0x48c725>0x0;--_0x48c725){var _0x576639=_0x34ff11[_0x48c725];var _0x3056fc=_0x34ff11[_0x48c725-0x1];var _0x424271=_0x34ff11[_0x48c725+0x1];var _0x134908=_0x5902f4(_0x3056fc,_0x576639);var _0x1a3c20=_0x5902f4(_0x576639,_0x424271);if(_0x134908&&_0x1a3c20&&_0x134908!=_0x1a3c20){_0x34ff11[_0x39db('0x10a')](_0x48c725,0x1);}}return _0x34ff11;}get[_0x39db('0x90')](){return!![];}[_0x39db('0x20f')](_0x285da3){$(_0x39db('0x22a'))[_0x39db('0x1b')]();this['_points']=[];}[_0x39db('0x2b0')](_0x11ce13){$(_0x39db('0x22a'))[_0x39db('0x24f')]();}[_0x39db('0xc0')](){return _0x39db('0x7b');}get[_0x39db('0x24a')](){return'Selection\x20Tool';}}_0x1fa755['exports']=_0x387fd5;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],7:[function(_0x8d71b6,_0x12750d,_0x572cd5){const _0x55756f=_0x8d71b6(_0x39db('0x158'));const _0x1ca16b=_0x8d71b6(_0x39db('0x10f'));const _0x42bb67=_0x8d71b6(_0x39db('0x1a'));const _0x226091=_0x42bb67[_0x39db('0x22f')];class _0x456f8a extends _0x55756f{[_0x39db('0xe5')](_0xcb817d){this[_0x39db('0x212')]=[];}[_0x39db('0x3a')](_0x63ee1c,_0x64b8a9){var _0x1be77e=_0x63ee1c[_0x39db('0x13c')](!![],!![]);var _0x72fb06=_0x1be77e?_0x1be77e[_0x39db('0x294')]||_0x1be77e['targetVoxelPosition']:null;if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x252'))){this[_0x39db('0x212')]=[];}if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x29b')]('mouse_left')){if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x184')]&&_0x72fb06){this[_0x39db('0x212')][_0x39db('0x27b')](_0x72fb06);}else{this['_points']=_0x72fb06?[_0x72fb06,_0x72fb06]:[];}}var _0x2945e5=_0x5edf38=>{_0x5edf38['y']=0x0;_0x5edf38['x']=Math[_0x39db('0x28f')](_0x5edf38['x']);_0x5edf38['z']=Math[_0x39db('0x28f')](_0x5edf38['z']);if(_0x5edf38['x']==0x0&&_0x5edf38['z']==0x0){_0x5edf38['x']=Math[_0x39db('0x28f')](_0x5edf38['x']*1.5);}return _0x5edf38;};var _0x3a8c56=_0x2945e5(_0x63ee1c['controls'][_0x39db('0x22c')]());var _0x364771=_0x2945e5(_0x63ee1c[_0x39db('0x28a')][_0x39db('0x102')]());var _0x29d035=_0x2945e5(_0x63ee1c[_0x39db('0x28a')]['worldDirection']);var _0x5375bd=_0x29d035[_0x39db('0x153')]()[_0x39db('0x26a')](-0x1);var _0x38bfb9=_0x19b29f=>{for(var _0x194569=0x0;_0x194569<this['_points'][_0x39db('0x1a3')];++_0x194569){this[_0x39db('0x212')][_0x194569][_0x39db('0x1ae')](_0x19b29f);}};if(_0x63ee1c[_0x39db('0x41')]['pressed'](_0x39db('0x53'))){_0x63ee1c['activeLayer']['moveVoxels'](_0x63ee1c[_0x39db('0x93')],_0x364771);_0x38bfb9(_0x364771);}else if(_0x63ee1c['input'][_0x39db('0x29b')](_0x39db('0x227'))){_0x63ee1c['activeLayer'][_0x39db('0x32')](_0x63ee1c[_0x39db('0x93')],_0x3a8c56);_0x38bfb9(_0x3a8c56);}if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x184')]){if(_0x63ee1c['input'][_0x39db('0x29b')]('up_arrow')){var _0x52981c=new _0x226091[(_0x39db('0x37'))](0x0,0x1,0x0);_0x63ee1c[_0x39db('0x224')]['moveVoxels'](_0x63ee1c[_0x39db('0x93')],_0x52981c);_0x38bfb9(_0x52981c);}else if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x29b')](_0x39db('0x106'))){var _0x3fbb80=new _0x226091[(_0x39db('0x37'))](0x0,-0x1,0x0);_0x63ee1c[_0x39db('0x224')][_0x39db('0x32')](_0x63ee1c[_0x39db('0x93')],_0x3fbb80);_0x38bfb9(_0x3fbb80);}}else{if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x29b')]('up_arrow')){_0x63ee1c['activeLayer'][_0x39db('0x32')](_0x63ee1c[_0x39db('0x93')],_0x29d035);_0x38bfb9(_0x29d035);}else if(_0x63ee1c['input'][_0x39db('0x29b')](_0x39db('0x106'))){_0x63ee1c['activeLayer'][_0x39db('0x32')](_0x63ee1c['selectedRegion'],_0x5375bd);_0x38bfb9(_0x5375bd);}}if(_0x63ee1c[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0xb5'))){_0x63ee1c['deleteSelectedVoxels']();}if(_0x63ee1c['input'][_0x39db('0x1bd')]('mouse_left')&&_0x72fb06){this['_points'][this['_points'][_0x39db('0x1a3')]-0x1]=_0x72fb06;}if(this[_0x39db('0x212')][_0x39db('0x1a3')]){_0x63ee1c['setSelection'](this[_0x39db('0x212')]);}else{_0x63ee1c[_0x39db('0x5f')]();}}get[_0x39db('0x90')](){return![];}[_0x39db('0x20f')](_0x283768){if(_0x283768[_0x39db('0x93')]){this[_0x39db('0x212')]=[_0x283768[_0x39db('0x93')]['min']['clone'](),_0x283768[_0x39db('0x93')][_0x39db('0x2f')][_0x39db('0x153')]()];}else{this[_0x39db('0x212')]=[];}}[_0x39db('0x2b0')](_0x5d59df){}[_0x39db('0xc0')](){return _0x39db('0x9');}get[_0x39db('0x24a')](){return _0x39db('0x200');}}_0x12750d[_0x39db('0xe')]=_0x456f8a;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],8:[function(_0x302640,_0x9b1281,_0x504526){const _0xd504f5=_0x302640('./editor_mode');const _0x54d699=_0x302640(_0x39db('0x10f'));const _0xb912c2=_0x302640(_0x39db('0x1a'));const _0x3d2f9b=_0xb912c2[_0x39db('0x22f')];class _0x230621 extends _0xd504f5{[_0x39db('0xe5')](_0x931439){const _0x3dee60=new _0x3d2f9b[(_0x39db('0x183'))](0.2,0x5,0x5);var _0x53eb6a=0xff0000;var _0x3d5d7d=new _0x3d2f9b[(_0x39db('0xfd'))]({'color':_0x53eb6a,'opacity':0.65,'transparent':!![]});var _0x2507f3=new _0x3d2f9b['Mesh'](_0x3dee60,_0x3d5d7d);_0x2507f3[_0x39db('0x239')]=0x64;_0x931439['scene']['add'](_0x2507f3);this[_0x39db('0x6b')]=_0x2507f3;this[_0x39db('0x6b')][_0x39db('0xbb')]=![];}['_removeSelectionPreviews'](_0x1cc857){_0x1cc857[_0x39db('0x5a')][_0x39db('0x1fe')]([]);this[_0x39db('0x6b')][_0x39db('0xbb')]=![];}['update'](_0x42cb79,_0x4635b5){var _0x1b261c=_0x42cb79[_0x39db('0x13a')];var _0x1c02b1=$(_0x39db('0x168'))['is'](_0x39db('0x278'));if(_0x42cb79[_0x39db('0x1c4')]){this[_0x39db('0x13e')](_0x42cb79);this[_0x39db('0x1d6')]=null;return;}if(location[_0x39db('0x14e')][_0x39db('0x103')]('voxel')<0x0){_0x42cb79[_0x39db('0x41')][_0x39db('0xef')]();}var _0x292ebb=_0x42cb79[_0x39db('0x41')][_0x39db('0x184')]||_0x42cb79[_0x39db('0x41')][_0x39db('0x211')];var _0x5b434e=_0x42cb79[_0x39db('0x13c')](!_0x292ebb);this[_0x39db('0x1d6')]=_0x5b434e;if(!_0x5b434e){this[_0x39db('0x13e')](_0x42cb79);return;}this[_0x39db('0x6b')]['position'][_0x39db('0x12')](_0x5b434e[_0x39db('0x228')]['x'],_0x5b434e['intersectPosition']['y'],_0x5b434e['intersectPosition']['z']);this['_pointOnMarker'][_0x39db('0xbb')]=!![];_0x42cb79[_0x39db('0x5a')][_0x39db('0x1fe')]([_0x292ebb?null:new _0x54d699[(_0x39db('0xfc'))](_0x5b434e[_0x39db('0x233')],_0x42cb79[_0x39db('0x253')])]);if(_0x42cb79['input'][_0x39db('0x1bd')](_0x39db('0x185'))&&_0x1c02b1||_0x42cb79[_0x39db('0x41')][_0x39db('0x2a0')]('mouse_left')&&!_0x1c02b1){if(_0x5b434e[_0x39db('0x233')]&&_0x5b434e['selectedVoxelPosition']){if(_0x42cb79['input']['shiftDown']){_0x42cb79[_0x39db('0x5a')]['setVoxel'](_0x1b261c,new _0x54d699['Voxel'](_0x5b434e[_0x39db('0x294')],_0x42cb79[_0x39db('0x253')]));}else if(_0x42cb79['input'][_0x39db('0x211')]){_0x42cb79[_0x39db('0x5a')][_0x39db('0x2a2')](_0x1b261c,new _0x54d699[(_0x39db('0xfc'))](_0x5b434e[_0x39db('0x16e')],_0x5b434e[_0x39db('0x253')]));_0x42cb79[_0x39db('0x5a')][_0x39db('0x8a')](_0x1b261c,_0x5b434e[_0x39db('0x294')]);}else{_0x42cb79[_0x39db('0x5a')][_0x39db('0x2a2')](_0x1b261c,new _0x54d699['Voxel'](_0x5b434e[_0x39db('0x233')],_0x42cb79['selectedColorIndex']));}}}if(!_0x42cb79[_0x39db('0x41')][_0x39db('0x184')]&&!_0x42cb79['input'][_0x39db('0x211')]){if(_0x42cb79[_0x39db('0x41')][_0x39db('0x1bd')]('mouse_right')&&_0x1c02b1||_0x42cb79[_0x39db('0x41')]['released'](_0x39db('0x252'))&&!_0x1c02b1){_0x42cb79[_0x39db('0x5a')][_0x39db('0x8a')](_0x1b261c,_0x5b434e[_0x39db('0x294')],!![],_0x42cb79['camera']['position']);}}if(_0x42cb79[_0x39db('0x41')]['down'](_0x39db('0x252'))&&_0x1c02b1||_0x42cb79[_0x39db('0x41')]['released'](_0x39db('0x252'))&&!_0x1c02b1){if(_0x5b434e[_0x39db('0x294')]){if(_0x42cb79['input'][_0x39db('0x184')]){_0x42cb79[_0x39db('0x178')](_0x5b434e[_0x39db('0x253')]);}else if(_0x42cb79[_0x39db('0x41')][_0x39db('0x211')]){_0x42cb79[_0x39db('0x5a')][_0x39db('0x2a2')](_0x1b261c,new _0x54d699[(_0x39db('0xfc'))](_0x5b434e['targetVoxelPosition'],_0x5b434e[_0x39db('0x253')]));_0x42cb79[_0x39db('0x5a')]['removeVoxel'](_0x1b261c,_0x5b434e[_0x39db('0x294')]);}}}}[_0x39db('0x20f')](_0x2e6a14){$(_0x39db('0x238'))[_0x39db('0x1b')]();}['onDeselected'](_0xc85062){$(_0x39db('0x238'))[_0x39db('0x24f')]();this[_0x39db('0x13e')](_0xc85062);}[_0x39db('0xc0')](){return _0x39db('0x152');}get[_0x39db('0x24a')](){return _0x39db('0xf0');}}_0x9b1281[_0x39db('0xe')]=_0x230621;},{'../libs':0x11,'../voxels':0x1c,'./editor_mode':0x1}],9:[function(_0x4971fe,_0x16736d,_0x10033c){const _0x2ec107=_0x4971fe(_0x39db('0x25e'));const _0x47ef8e=_0x4971fe('./../libs')[_0x39db('0x22f')];class _0x4275bd extends _0x2ec107{constructor(_0x3e89f7){super(_0x3e89f7);}['exportModel'](_0x187758,_0x4f251a,_0x1c124a){var _0x9db611=new _0x47ef8e['ColladaExporter']();var _0x2d1b86=_0x9db611[_0x39db('0x9f')](_0x187758)['data'];return _0x2d1b86;}get[_0x39db('0x296')](){return{'vertexColor':!![],'texture':!![]};}get['fileExtension'](){return'.dae';}}_0x16736d[_0x39db('0xe')]=_0x4275bd;},{'./../libs':0x11,'./exporters_base':0xe}],10:[function(_0x5289c4,_0x2108ff,_0xf8bb91){const _0x1d7d83=_0x5289c4('./exporters_base');const _0x3f4199=_0x5289c4('./../libs')[_0x39db('0x22f')];class _0x388571 extends _0x1d7d83{constructor(_0x4d9c75){super(_0x4d9c75);}[_0x39db('0x126')](_0x58070d,_0xb9789,_0x4d13ef){var _0x4927a8=new _0x3f4199['GLTFExporter']();_0x4927a8[_0x39db('0x9f')](_0x58070d,_0x322924=>{_0x4d13ef(JSON[_0x39db('0x2ae')](_0x322924));});}get[_0x39db('0x296')](){return{'vertexColor':!![],'texture':!![]};}get[_0x39db('0xbc')](){return _0x39db('0x4');}}_0x2108ff[_0x39db('0xe')]=_0x388571;},{'./../libs':0x11,'./exporters_base':0xe}],11:[function(_0x3beda3,_0x46549a,_0x395440){const _0x7f785c=_0x3beda3(_0x39db('0x25e'));const _0x30ea86=_0x3beda3('./../libs')[_0x39db('0x22f')];class _0xbc5e5d extends _0x7f785c{constructor(_0x244e1f){super(_0x244e1f);}[_0x39db('0x126')](_0x5228d1,_0x3a0196){var _0x4bc6c6=new _0x30ea86['OBJExporter']();var _0x53523e=_0x4bc6c6[_0x39db('0x9f')](_0x5228d1,{'vertexColors':_0x3a0196[_0x39db('0x6e')]==_0x39db('0x11c')});return _0x53523e;}get[_0x39db('0x296')](){return{'colorsComment':_0x39db('0x241'),'vertexColor':!![],'texture':!![]};}get[_0x39db('0xbc')](){return _0x39db('0x2c5');}}_0x46549a['exports']=_0xbc5e5d;},{'./../libs':0x11,'./exporters_base':0xe}],12:[function(_0x460eab,_0x341ec1,_0x1a0ef1){const _0x2b70c7=_0x460eab(_0x39db('0x25e'));const _0x2010ff=_0x460eab('./../libs')[_0x39db('0x22f')];class _0x7d4dac extends _0x2b70c7{constructor(_0x53b9e2){super(_0x53b9e2);}[_0x39db('0x126')](_0x9b6fdb,_0x5d1ed2){var _0x551484={'binary':_0x5d1ed2[_0x39db('0x1d9')],'excludeAttributes':_0x5d1ed2[_0x39db('0x6e')]===_0x39db('0x44')?[_0x39db('0xe1')]:['uv']};var _0x2437cc=new _0x2010ff['PLYExporter']();var _0x3a160a=_0x2437cc['parse'](_0x9b6fdb,null,_0x551484);return _0x3a160a;}get[_0x39db('0x296')](){return{'vertexColor':!![],'texture':!![],'binary':!![]};}get[_0x39db('0xbc')](){return'.ply';}}_0x341ec1[_0x39db('0xe')]=_0x7d4dac;},{'./../libs':0x11,'./exporters_base':0xe}],13:[function(_0x33e806,_0x430a5e,_0x23cdb4){const _0x480e6e=_0x33e806('./exporters_base');const _0x2ac4b5=_0x33e806(_0x39db('0x2b8'))[_0x39db('0x22f')];class _0x2d41e7 extends _0x480e6e{constructor(_0x4cfb37){super(_0x4cfb37);}[_0x39db('0x126')](_0x46d25d,_0x310522,_0x489fc8){var _0x21284f=new _0x2ac4b5[(_0x39db('0x149'))]();var _0x703c1a=_0x21284f[_0x39db('0x9f')](_0x46d25d,{'binary':_0x310522[_0x39db('0x1d9')]});return _0x703c1a;}get[_0x39db('0x282')](){return![];}get[_0x39db('0x296')](){return{'colorsComment':_0x39db('0x77'),'vertexColor':!![],'binary':!![],'texture':!![]};}get[_0x39db('0xbc')](){return _0x39db('0x189');}}_0x430a5e[_0x39db('0xe')]=_0x2d41e7;},{'./../libs':0x11,'./exporters_base':0xe}],14:[function(_0x3bb362,_0x4db5bb,_0x299c00){const _0x2c05b5=_0x3bb362(_0x39db('0x2b8'));const _0x127773=_0x2c05b5['THREE'];class _0x4611a6{constructor(_0x3eb777){this[_0x39db('0x6d')]=_0x3eb777;}[_0x39db('0x2c2')](_0x30b022,_0x4c50ff,_0x529e5b){var _0x383ec8=$(_0x39db('0x2c1'));_0x383ec8[_0x39db('0x1f6')]('#export-mesh-description')['text'](_0x4c50ff);_0x383ec8[_0x39db('0x1f6')](_0x39db('0x2ad'))['css'](_0x39db('0x298'),_0x529e5b['binary']?_0x39db('0xa0'):_0x39db('0x1e7'));_0x383ec8['find']('#exported-mesh-name')[_0x39db('0x66')](_0x39db('0xb9'),this[_0x39db('0x6d')][_0x39db('0x5a')][_0x39db('0x24a')]+_0x4c50ff)['val'](this[_0x39db('0x6d')][_0x39db('0x5a')][_0x39db('0x24a')]+_0x4c50ff);_0x383ec8[_0x39db('0x1f6')]('#export-color-mode-comment')[_0x39db('0x20e')](_0x529e5b[_0x39db('0x1b8')]||'');_0x383ec8[_0x39db('0x110')]({'backdrop':'static','keyboard':![]});_0x383ec8[_0x39db('0x1f6')](_0x39db('0x279'))[0x0]['onclick']=()=>{var _0x406bbe={'binary':_0x383ec8['find'](_0x39db('0x190'))['prop'](_0x39db('0x268')),'colors':_0x383ec8[_0x39db('0x1f6')](_0x39db('0x195'))[_0x39db('0x21a')](_0x39db('0x268'))?_0x39db('0x11c'):_0x39db('0x44')};var _0x2f3d81=_0x383ec8[_0x39db('0x1f6')]('#exported-mesh-name')['val']()||_0x383ec8[_0x39db('0x1f6')](_0x39db('0x193'))[_0x39db('0x66')](_0x39db('0xb9'));var _0x5392ec=$(_0x39db('0x14a'))[_0x39db('0x1cb')]();var _0x2ad81a;var _0x469691=![];switch(_0x5392ec){case _0x39db('0x19b'):_0x2ad81a=this[_0x39db('0x6d')]['voxelMesh'][_0x39db('0x43')](![]);_0x469691=!![];break;case'visible':_0x2ad81a=this[_0x39db('0x6d')][_0x39db('0x5a')][_0x39db('0x43')](!![]);_0x469691=!![];break;case _0x39db('0x40'):_0x2ad81a=this[_0x39db('0x6d')][_0x39db('0x224')];break;}if(_0x2ad81a['voxelsCount']===0x0){bootbox[_0x39db('0xd8')]('Nothing\x20to\x20export,\x20layer\x20is\x20empty.');if(_0x469691){_0x2ad81a[_0x39db('0x205')](!![]);}return;}var _0x2819da=![];var _0xcac5b4=_0x406bbe[_0x39db('0x6e')]==='texture';var _0x555c5d;var _0x4f9e2e=$(_0x39db('0x274'))['prop'](_0x39db('0x268'));if(_0x4f9e2e){_0x555c5d=_0x2ad81a['_buildOptimizedMesh'](_0xcac5b4);_0x2819da=!![];}else{_0x2ad81a[_0x39db('0xed')]();_0x555c5d=_0x2ad81a['_mesh'];}_0x30b022(_0x555c5d,_0x5ad3bb=>{var _0x1d164e=new Blob([_0x5ad3bb],{'type':_0x39db('0x12b')});_0x2c05b5[_0x39db('0x62')]['saveAs'](_0x1d164e,_0x2f3d81);if(_0xcac5b4){var _0x1a2617=document[_0x39db('0x191')]('a');_0x1a2617[_0x39db('0x14e')]=this[_0x39db('0x6d')][_0x39db('0x5a')]['paletteImage'][_0x39db('0x18')];_0x1a2617['download']=_0x39db('0x1bf');_0x1a2617[_0x39db('0x232')]();}this[_0x39db('0x6d')]['mouseLeaveUI']();_0x383ec8[_0x39db('0x110')](_0x39db('0x24f'));var _0x1b0c19=this[_0x39db('0x282')]&&!_0x406bbe['binary'];bootbox[_0x39db('0x16c')]({'title':_0x39db('0x2be'),'message':_0x39db('0x1cd')+_0x555c5d[_0x39db('0x160')][_0x39db('0x203')][_0x39db('0x1a3')]+_0x39db('0xcf')+_0x555c5d[_0x39db('0x160')][_0x39db('0x215')][_0x39db('0x1a3')]+(_0x1b0c19?_0x39db('0x5e'):'.<br\x20/>Note:\x20can\x27t\x20show\x20preview\x20for\x20current\x20format.'),'callback':_0x3fc0f2=>{if(_0x3fc0f2&&_0x1b0c19){localStorage['setItem'](_0x39db('0x18e'),_0xcac5b4);localStorage[_0x39db('0xe9')](_0x39db('0x1c2'),_0x5ad3bb);localStorage[_0x39db('0xe9')](_0x39db('0xc8'),this[_0x39db('0x6d')][_0x39db('0x5a')][_0x39db('0x213')][_0x39db('0x18')]);localStorage[_0x39db('0xe9')](_0x39db('0x209'),this[_0x39db('0xbc')]);window[_0x39db('0x14b')]('preview.html',_0x39db('0x1ca'));}}});if(_0x469691){_0x2ad81a['dispose'](!![]);}if(_0x2819da){_0x555c5d[_0x39db('0x160')][_0x39db('0x205')]();_0x555c5d[_0x39db('0x134')][_0x39db('0x205')]();}},_0x406bbe);};}get[_0x39db('0x282')](){return!![];}['showExportModelDialog'](){this[_0x39db('0x2c2')]((_0x572e90,_0x180db5,_0x12eb5)=>{var _0x5956b4=this[_0x39db('0x126')](_0x572e90,_0x12eb5,_0x180db5);if(_0x5956b4){_0x180db5(_0x5956b4);}},this['fileExtension'],this['options']);}[_0x39db('0x126')](_0x52b207,_0x2baeb3,_0x1d2a3){throw new Error(_0x39db('0x144'));}get[_0x39db('0x296')](){throw new Error('Not\x20Implemented!');}get[_0x39db('0xbc')](){throw new Error(_0x39db('0x144'));}}_0x4db5bb[_0x39db('0xe')]=_0x4611a6;},{'./../libs':0x11}],15:[function(_0x36f6ee,_0x5e079a,_0x3fe249){_0x5e079a['exports']={'ExportersBase':_0x36f6ee(_0x39db('0x25e')),'ExporterPly':_0x36f6ee('./export_ply'),'ExporterObj':_0x36f6ee('./export_obj'),'ExporterGltf':_0x36f6ee(_0x39db('0x84')),'ExporterStl':_0x36f6ee(_0x39db('0x2c6')),'ExporterDae':_0x36f6ee(_0x39db('0x26'))};},{'./export_dae':0x9,'./export_gltf':0xa,'./export_obj':0xb,'./export_ply':0xc,'./export_stl':0xd,'./exporters_base':0xe}],16:[function(_0x10140c,_0x1ec5ad,_0x1954cd){_0x1ec5ad[_0x39db('0xe')]=_0x10140c('./manager');},{'./manager':0x12}],17:[function(_0x1de76c,_0x446113,_0x4a6203){_0x446113[_0x39db('0xe')]=window[_0x39db('0x257')];},{}],18:[function(_0x3ea409,_0x2c52de,_0xa09731){const _0xa65727=_0x3ea409('./voxels');const _0x3461bd=_0x3ea409(_0x39db('0x267'));const _0x1b05db=_0x3461bd['THREE'];const _0x10eac7=_0x3461bd[_0x39db('0x26b')];const _0x24cc41=_0x3461bd[_0x39db('0x29c')];const _0x437e97=_0x3ea409(_0x39db('0x263'));const _0xd988d1=_0x3ea409(_0x39db('0x2c0'));const _0x23833b=_0x3ea409(_0x39db('0x2c3'));const _0x106aff=_0x39db('0x171');class _0x16c1f2{['initialize'](){var _0x1d1afe=new _0x1b05db[(_0x39db('0x2a5'))]();_0x1d1afe[_0x39db('0xf')](window[_0x39db('0x23c')],window[_0x39db('0x1e6')]);_0x1d1afe[_0x39db('0x8f')](0x7db7ed,0x1);document['body'][_0x39db('0x3f')](_0x1d1afe['domElement']);_0x1d1afe[_0x39db('0xc4')][_0x39db('0x170')][_0x39db('0x289')]=_0x39db('0x206');_0x1d1afe[_0x39db('0xc4')][_0x39db('0x170')][_0x39db('0x11d')]=-0x1;this[_0x39db('0xae')]=_0x1d1afe;var _0x23a2f5=new _0x1b05db[(_0x39db('0x1f3'))]();this[_0x39db('0xa7')]=_0x23a2f5;var _0x5aea2c=new _0x1b05db[(_0x39db('0x7d'))](0x2d,window[_0x39db('0x23c')]/window[_0x39db('0x1e6')],0x1,0x3e8);this[_0x39db('0x125')]=_0x5aea2c;this[_0x39db('0x17a')]();this[_0x39db('0x7e')]={};for(var _0x3d9d7f in _0xd988d1){this[_0x39db('0x7e')][_0x3d9d7f]=new _0xd988d1[_0x3d9d7f](this);}var _0x2e9842=new _0x1b05db[(_0x39db('0x19f'))](0x5);_0x2e9842[_0x39db('0x26c')][_0x39db('0x12')](0x1f4,0x1f4,0x1f4);_0x2e9842[_0x39db('0x289')]['y']=0.005;_0x23a2f5[_0x39db('0x1ae')](_0x2e9842);this[_0x39db('0x7c')]=_0x2e9842;var _0x5380e7=new _0x1b05db[(_0x39db('0x48'))](0x3e8,0x3e8);_0x23a2f5['add'](_0x5380e7);this[_0x39db('0xe3')]=_0x5380e7;var _0x16ad48=new _0x1b05db[(_0x39db('0x79'))](0xffffff,0.5);_0x16ad48[_0x39db('0x289')][_0x39db('0x12')](-0.15,0x1,0.4);_0x23a2f5[_0x39db('0x1ae')](_0x16ad48);this[_0x39db('0x165')]=_0x16ad48;_0x16ad48=new _0x1b05db[(_0x39db('0x79'))](0xacacac,0.45);_0x16ad48['position'][_0x39db('0x12')](0x1,-0.1,0.15);_0x23a2f5[_0x39db('0x1ae')](_0x16ad48);this[_0x39db('0xd0')]=_0x16ad48;_0x16ad48=new _0x1b05db[(_0x39db('0x79'))](0x777777,0.25);_0x16ad48[_0x39db('0x289')][_0x39db('0x12')](-0.5,0.5,-0.5);_0x23a2f5[_0x39db('0x1ae')](_0x16ad48);this[_0x39db('0x101')]=_0x16ad48;var _0xcc5d73=new _0x1b05db[(_0x39db('0x1e9'))](0x777777);this[_0x39db('0xa9')]=_0xcc5d73;_0x23a2f5['add'](_0xcc5d73);var _0x7380e0=new _0x10eac7();_0x7380e0['showPanel'](0x0);document[_0x39db('0x25d')][_0x39db('0x3f')](_0x7380e0[_0x39db('0x225')]);this['stats']=_0x7380e0;this[_0x39db('0x41')]=new _0x3461bd[(_0x39db('0xba'))](window);this[_0x39db('0x132')]=0x0;this[_0x39db('0x94')]=![];var _0x22434c=atob;var _0xdfb43b='dm94ZWxhd';this[_0x39db('0xe2')]=!![];_0x1d1afe[_0x39db('0xc4')][_0x39db('0x15')]('mouseenter',()=>{this[_0x39db('0xe2')]=!![];});_0x1d1afe[_0x39db('0xc4')][_0x39db('0x15')](_0x39db('0x27e'),()=>{this[_0x39db('0xe2')]=!![];});_0x1d1afe[_0x39db('0xc4')][_0x39db('0x15')](_0x39db('0x27f'),()=>{this['_onCanvas']=![];});_0x1d1afe[_0x39db('0xc4')]['addEventListener'](_0x39db('0x2ac'),_0x2c9fcb=>{this['_onCanvas']=!![];if(this[_0x39db('0x2ca')]){this['_waitingForClickAfterUI']=![];this[_0x39db('0x237')]();}if(_0x2c9fcb[_0x39db('0x1d8')]===0x0){this['_lockedUntilClickedOnCanvas']=![];}});this[_0x39db('0x12f')]=new _0x1b05db['Raycaster']();var _0x3f48de=()=>{_0x5aea2c['aspect']=window[_0x39db('0x23c')]/window[_0x39db('0x1e6')];_0x5aea2c['updateProjectionMatrix']();_0x1d1afe['setSize'](window[_0x39db('0x23c')],window[_0x39db('0x1e6')]);};window[_0x39db('0x15')](_0x39db('0xfa'),_0x3f48de,![]);this['normalizedMousePos']=new _0x1b05db[(_0x39db('0xff'))](0x0,0x0);var _0x5e40bd=_0x3aa3e9=>{var _0x26f7a3=_0x3aa3e9[_0x39db('0x15a')]/window['innerWidth']*0x2-0x1;var _0x23906f=-(_0x3aa3e9['clientY']/window['innerHeight'])*0x2+0x1;this[_0x39db('0x133')]=new _0x1b05db[(_0x39db('0xff'))](_0x26f7a3,_0x23906f);};window['addEventListener']('mousemove',_0x5e40bd);this[_0x39db('0x1ff')]('.ui-element');this[_0x39db('0x29a')]=[];this[_0x39db('0x21f')]=[];this[_0x39db('0x1f0')]=-0x1;this[_0x39db('0x5a')]=new _0xa65727[(_0x39db('0x1fb'))](this['scene']);this[_0x39db('0x5a')][_0x39db('0x1b1')](this['scene']);this[_0x39db('0x5a')][_0x39db('0xad')]=()=>{this['_needToGenerateUndo']=!![];};this[_0x39db('0x1cf')]=!![];this['voxelMesh'][_0x39db('0xbe')]=()=>{this[_0x39db('0x142')]();};this[_0x39db('0x142')]();this[_0x39db('0x1d4')]=new Date()[_0x39db('0x2c4')]();this[_0x39db('0xf4')]();this['activeLayerIndex']=0x0;this['_modes']={};this['_selectedMode']=null;for(var _0x3d9d7f in _0x437e97){this[_0x39db('0x218')][_0x3d9d7f]=new _0x437e97[_0x3d9d7f]();this[_0x39db('0x218')][_0x3d9d7f]['initialize'](this);}this[_0x39db('0x82')](_0x39db('0xaa'));this['onMeshRename']();var _0x32faa5=()=>{requestAnimationFrame(_0x32faa5);this[_0x39db('0x3a')]();};_0x32faa5();if(window['location'][_0x39db('0x1f2')]!==_0x22434c(_0xdfb43b+'G9yLmNvbQ==')){var _0x4730e8=new Date()['getTime']()%0xa+0x4;var _0x5e74a1=Object['keys'](this);for(var _0x5262d9=0x0;_0x5262d9<_0x4730e8;++_0x5262d9){this[_0x5e74a1[_0x5e74a1[_0x39db('0x1a3')]*Math['random']()<<0x0]]=null;}}}['initUiElement'](_0x2d5bad){$(_0x2d5bad)['on']('mouseenter',()=>{this['mouseEnterUI']();})['on'](_0x39db('0x27f'),()=>{this[_0x39db('0x237')]();})['on']('mousedown',()=>{this['_waitingForClickAfterUI']=!![];});}get[_0x39db('0x13a')](){return this[_0x39db('0x286')];}get[_0x39db('0x224')](){return this[_0x39db('0x5a')][_0x39db('0x1ad')][this[_0x39db('0x286')]];}[_0x39db('0xf5')](){if(this['_undoStack'][_0x39db('0x1a3')]==0x0){return;}this['_redoStack'][_0x39db('0x27b')](this[_0x39db('0x5a')]['serialize']());var _0x55c39c=this[_0x39db('0x29a')][_0x39db('0x1c1')]();this[_0x39db('0x5a')][_0x39db('0x1fd')](_0x55c39c);this['_lastRedoVersion']=this[_0x39db('0x5a')]['version'];this[_0x39db('0x174')]();this[_0x39db('0x1cf')]=![];this[_0x39db('0xdd')]=![];this[_0x39db('0x33')]=_0x55c39c;}[_0x39db('0x19e')](){if(this['_redoStack'][_0x39db('0x1a3')]==0x0){return;}var _0x236a16=this[_0x39db('0x21f')]['pop']();this[_0x39db('0x5a')]['deserialize'](_0x236a16);this[_0x39db('0x1f0')]=this[_0x39db('0x5a')][_0x39db('0x135')];this[_0x39db('0x174')]();this[_0x39db('0x1cf')]=![];this['_lastUndoMove']=null;}[_0x39db('0x174')](){if(this['_undoStack'][_0x39db('0x1a3')]){$(_0x39db('0xe6'))['removeClass'](_0x39db('0x240'));}else{$(_0x39db('0xe6'))[_0x39db('0x12d')]('disabled');}if(this['_redoStack'][_0x39db('0x1a3')]){$('#redo-btn')[_0x39db('0xd4')](_0x39db('0x240'));}else{$(_0x39db('0x1ce'))[_0x39db('0x12d')](_0x39db('0x240'));}}set[_0x39db('0x13a')](_0xc50d5a){if(_0xc50d5a<0x0)_0xc50d5a=0x0;if(_0xc50d5a>=this['voxelMesh']['_layers'][_0x39db('0x1a3')])_0xc50d5a=this['voxelMesh'][_0x39db('0x1ad')][_0x39db('0x1a3')]-0x1;this[_0x39db('0x286')]=_0xc50d5a;$(_0x39db('0x1f8'))['removeClass'](_0x39db('0x19'));$($(_0x39db('0x5d'))[_0x39db('0x2bd')]()[_0xc50d5a])['addClass'](_0x39db('0x19'));}[_0x39db('0x9d')](){$(_0x39db('0x180'))[_0x39db('0x20e')]('\x22'+this[_0x39db('0x5a')]['name']+'\x22');document[_0x39db('0x97')]=_0x39db('0x18c')+this[_0x39db('0x5a')][_0x39db('0x24a')];}['showBackgroundSelectDialog'](){bootbox[_0x39db('0xa')]({'title':_0x39db('0x23b'),'message':_0x39db('0x23f'),'inputType':_0x39db('0x1e4'),'inputOptions':[{'text':_0x39db('0x120'),'value':_0x39db('0x26d')},{'text':'Dark\x20Blue','value':_0x39db('0x8e')},{'text':'Black','value':_0x39db('0x197')},{'text':_0x39db('0x16'),'value':_0x39db('0x27d')},{'text':_0x39db('0x2cc'),'value':_0x39db('0x11e')}],'callback':_0x35e678=>{var _0x2d30c=parseInt(_0x35e678);this[_0x39db('0xae')][_0x39db('0x8f')](_0x2d30c,0x1);var _0x163b40=[_0x39db('0x27d'),_0x39db('0x1a9')];$(_0x39db('0x7'))['css'](_0x39db('0xe1'),_0x163b40[_0x39db('0x103')](_0x35e678)!==-0x1?_0x39db('0x186'):_0x39db('0x1e2'));}});}[_0x39db('0x82')](_0x271748){if(this['_selectedMode']){this['_selectedMode'][_0x39db('0x2b0')](this);}this['_selectedMode']=this[_0x39db('0x218')][_0x271748];this['_selectedMode'][_0x39db('0x20f')](this);var _0xd21eb4=$(_0x39db('0x204'));if(this[_0x39db('0xd3')][_0x39db('0x90')]){_0xd21eb4[_0x39db('0x1b')]();}else{_0xd21eb4[_0x39db('0x24f')]();}}[_0x39db('0xa4')](_0x2f5737){this[_0x39db('0x7c')][_0x39db('0xbb')]=_0x2f5737;}['showGrid'](_0x29f6ab){this[_0x39db('0xe3')][_0x39db('0xbb')]=_0x29f6ab;}[_0x39db('0x17a')](){var _0x57a620=this[_0x39db('0x125')];_0x57a620['position']['x']=0xf;_0x57a620[_0x39db('0x289')]['y']=0xf;_0x57a620[_0x39db('0x289')]['z']=0xf;_0x57a620[_0x39db('0x8c')](new _0x1b05db[(_0x39db('0x37'))](0x0,0x0,0x0));this[_0x39db('0x4c')]();}['presetCamera'](_0x3537a1){var _0x5cc327=this[_0x39db('0x125')];var _0x560def=this[_0x39db('0x5a')][_0x39db('0x137')]();var _0x3bad46=new _0x1b05db[(_0x39db('0x37'))]();_0x560def[_0x39db('0x250')](_0x3bad46);var _0x316e53=new _0x1b05db['Vector3'](_0x560def[_0x39db('0x167')]['x']+_0x3bad46['x']/0x2,_0x560def[_0x39db('0x167')]['y']+_0x3bad46['y']/0x2,_0x560def[_0x39db('0x167')]['z']+_0x3bad46['z']/0x2);_0x5cc327['position'][_0x39db('0x12')](_0x316e53['x'],_0x316e53['y'],_0x316e53['z']);var _0x5f28cc=_0x316e53['clone']();var _0x382531=0xa;switch(_0x3537a1){case _0x39db('0x73'):if(this[_0x39db('0x93')]){_0x560def=this[_0x39db('0x93')];_0x560def[_0x39db('0x250')](_0x3bad46);_0x316e53=new _0x1b05db['Vector3'](_0x560def[_0x39db('0x167')]['x']+_0x3bad46['x']/0x2,_0x560def['min']['y']+_0x3bad46['y']/0x2,_0x560def[_0x39db('0x167')]['z']+_0x3bad46['z']/0x2);_0x5cc327[_0x39db('0x289')][_0x39db('0x12')](_0x316e53['x'],_0x316e53['y'],_0x316e53['z']);_0x5cc327['position']['z']+=_0x3bad46['z']/0x2+_0x382531;var _0x5f28cc=_0x316e53[_0x39db('0x153')]();}break;case'front':_0x5cc327[_0x39db('0x289')]['z']+=_0x3bad46['z']/0x2+_0x382531;break;case _0x39db('0x2a9'):_0x5cc327[_0x39db('0x289')]['z']-=_0x3bad46['z']/0x2+_0x382531;break;case _0x39db('0x119'):_0x5cc327[_0x39db('0x289')]['x']-=_0x3bad46['x']/0x2+_0x382531;break;case _0x39db('0xe4'):_0x5cc327[_0x39db('0x289')]['x']+=_0x3bad46['x']/0x2+_0x382531;break;case _0x39db('0x2a7'):_0x5cc327['position']['y']+=_0x3bad46['y']/0x2+_0x382531;break;case _0x39db('0xb7'):_0x5cc327[_0x39db('0x289')]['y']-=_0x3bad46['y']/0x2+_0x382531;break;default:throw new Error('Invalid\x20camera\x20preset\x20key:\x20\x27'+_0x3537a1+'\x27.');}_0x5cc327[_0x39db('0x8c')](_0x5f28cc);this[_0x39db('0x4c')]();}[_0x39db('0x142')](){var _0x1f6c5e=$(_0x39db('0x5d'));_0x1f6c5e[_0x39db('0x92')]();for(var _0x3045db=0x0;_0x3045db<this['voxelMesh'][_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x3045db){var _0x449ce8=this[_0x39db('0x5a')][_0x39db('0x1ad')][_0x3045db];var _0x3e53c0=$(_0x39db('0x1fa')+_0x3045db+_0x39db('0x27c')+_0x3045db+_0x39db('0xec')+_0x39db('0x283')+_0x39db('0x208')+_0x39db('0x19a')+_0x449ce8['name']+'\x22></td>'+'</tr>');_0x1f6c5e[_0x39db('0x23a')](_0x3e53c0);var _0x48c126=this;_0x3e53c0['on']('click',function(){_0x48c126[_0x39db('0x13a')]=parseInt($(this)[_0x39db('0x124')](_0x39db('0x1af')));});_0x3e53c0[_0x39db('0x1f6')]('.layer-visible')['on']('click',function(){var _0x274297=parseInt($(this)[_0x39db('0x207')]()[_0x39db('0x124')](_0x39db('0x1af')));_0x48c126[_0x39db('0x5a')][_0x39db('0x1ad')][_0x274297][_0x39db('0xbb')]=!_0x48c126[_0x39db('0x5a')][_0x39db('0x1ad')][_0x274297][_0x39db('0xbb')];return![];});_0x3e53c0[_0x39db('0x1f6')](_0x39db('0x145'))['on']('click',function(){var _0x1a447a=parseInt($(this)[_0x39db('0x207')]()[_0x39db('0x124')](_0x39db('0x1af')));_0x48c126[_0x39db('0x5a')][_0x39db('0x1ad')][_0x1a447a]['locked']=!_0x48c126['voxelMesh'][_0x39db('0x1ad')][_0x1a447a][_0x39db('0x1b3')];return![];});_0x3e53c0[_0x39db('0x1f6')](_0x39db('0xd'))['on'](_0x39db('0x2bc'),function(){var _0x1b5a2b=parseInt($(this)['parent']()['parent']()['data'](_0x39db('0x1af')));_0x48c126['_lockedUntilClickedOnCanvas']=!![];_0x48c126['voxelMesh'][_0x39db('0x1ad')][_0x1b5a2b][_0x39db('0x24a')]=$(this)[_0x39db('0x1cb')]();return![];});}this[_0x39db('0x13a')]=this[_0x39db('0x13a')];}[_0x39db('0x188')](){if(this[_0x39db('0x13a')]>0x0){this[_0x39db('0x5a')][_0x39db('0x27a')](this['activeLayerIndex']);this[_0x39db('0x13a')]--;}}[_0x39db('0x139')](){if(this[_0x39db('0x13a')]<this['voxelMesh']['_layers'][_0x39db('0x1a3')]-0x1){this[_0x39db('0x5a')]['moveLayerDown'](this['activeLayerIndex']);this[_0x39db('0x13a')]++;}}[_0x39db('0x1be')](){if(this['voxelMesh']['_layers'][_0x39db('0x1a3')]===0x1){return bootbox[_0x39db('0xd8')](_0x39db('0x78'));}if(this[_0x39db('0x224')]['isEmpty']){return this[_0x39db('0x1e')]();}bootbox[_0x39db('0x16c')](_0x39db('0x242'),_0x2f5774=>{if(_0x2f5774){this[_0x39db('0x1e')]();}});}['deleteActiveLayer'](){this[_0x39db('0x5a')][_0x39db('0x2ba')](this['activeLayerIndex']);if(this[_0x39db('0x13a')]>=this[_0x39db('0x5a')]['_layers'][_0x39db('0x1a3')]){this['activeLayerIndex']--;}}['_resetControls'](){if(this[_0x39db('0x28a')]){this['controls'][_0x39db('0x205')]();}var _0x3422c9=new _0x1b05db[(_0x39db('0x16f'))](this[_0x39db('0xae')],this[_0x39db('0xa7')],this[_0x39db('0x125')]);this['controls']=_0x3422c9;}[_0x39db('0xfe')](_0x50644a){if(_0x50644a){this[_0x39db('0xa7')][_0x39db('0x1ae')](this[_0x39db('0x165')]);this['scene'][_0x39db('0x1ae')](this[_0x39db('0xd0')]);this[_0x39db('0xa7')][_0x39db('0x1ae')](this[_0x39db('0x101')]);}else{this[_0x39db('0xa7')][_0x39db('0x2b6')](this[_0x39db('0x165')]);this[_0x39db('0xa7')][_0x39db('0x2b6')](this['directionalLight2']);this[_0x39db('0xa7')][_0x39db('0x2b6')](this[_0x39db('0x101')]);}this[_0x39db('0x5a')][_0x39db('0xfe')](_0x50644a);}[_0x39db('0xf4')](){var _0x544bdc=$(_0x39db('0x199'));for(var _0x4012a4=0x0;_0x4012a4<this[_0x39db('0x5a')][_0x39db('0x4f')];++_0x4012a4){var _0x3e3a70=$(_0x39db('0x91')+_0x4012a4+_0x39db('0x123')+_0x4012a4+_0x39db('0x15c'));_0x544bdc[_0x39db('0x23a')](_0x3e3a70);var _0x1e001b=this;_0x3e3a70['on'](_0x39db('0x2ac'),function(_0x59a88c){var _0x3371e9=parseInt(this['id'][_0x39db('0x1f')]('color-')[0x1]);_0x1e001b[_0x39db('0x178')](_0x3371e9);});_0x3e3a70['on'](_0x39db('0x147'),function(_0x178806){var _0x47e9ca=parseInt(this['id'][_0x39db('0x1f')]('color-')[0x1]);_0x1e001b[_0x39db('0x5a')][_0x39db('0x6')](_0x47e9ca,$(this)[_0x39db('0x1cb')]());});}this[_0x39db('0x178')](0x0);this[_0x39db('0xd6')]();}['importPredefPalette'](){bootbox[_0x39db('0xa')]({'title':_0x39db('0x108'),'message':'<p>Pick\x20a\x20palette\x20import:</p>','inputType':'radio','inputOptions':[{'text':_0x39db('0x230'),'value':_0x39db('0x17d')},{'text':_0x39db('0x243'),'value':_0x39db('0x24e')},{'text':_0x39db('0x231'),'value':'SNES.png'},{'text':_0x39db('0x255'),'value':'RESURRECT+.png'},{'text':_0x39db('0x216'),'value':'PINEAPPLE+.png'},{'text':_0x39db('0x121'),'value':_0x39db('0x1fc')},{'text':_0x39db('0x1d1'),'value':_0x39db('0x18f')},{'text':'BASIC','value':_0x39db('0x1ea')}],'callback':_0x27f8db=>{this[_0x39db('0x4b')]('palettes/'+_0x27f8db);}});}[_0x39db('0x4b')](_0x205c2a){var _0x59b80c=new Image();var _0x4c3d25=document['createElement']('canvas');var _0x49439e=new Set();_0x59b80c[_0x39db('0x15')](_0x39db('0x28d'),()=>{_0x4c3d25[_0x39db('0x68')]=_0x59b80c['width'];_0x4c3d25[_0x39db('0x1f9')]=_0x59b80c['height'];var _0x92e9=_0x4c3d25[_0x39db('0x19d')]('2d');_0x92e9[_0x39db('0x154')](_0x59b80c,0x0,0x0,_0x59b80c[_0x39db('0x68')],_0x59b80c[_0x39db('0x1f9')]);var _0x41a1ab=0x0;for(var _0x20f04e=0x0;_0x20f04e<_0x59b80c[_0x39db('0x68')];++_0x20f04e){for(var _0x249012=0x0;_0x249012<_0x59b80c[_0x39db('0x1f9')];++_0x249012){if(_0x41a1ab>=this['voxelMesh'][_0x39db('0x4f')]){break;}var _0x52f72c=_0x92e9['getImageData'](_0x20f04e,_0x249012,0x1,0x1)[_0x39db('0x124')];var _0x3c4448=_0x52f72c[0x0];var _0x2d6f6c=_0x52f72c[0x1];var _0xc60b57=_0x52f72c[0x2];var _0x750fd5=_0x3c4448<<0x10|_0x2d6f6c<<0x8|_0xc60b57;if(_0x49439e[_0x39db('0x23')](_0x750fd5)){continue;}_0x49439e[_0x39db('0x1ae')](_0x750fd5);var _0x2b7a26=_0x282db2(_0x750fd5);$(_0x39db('0x20d')+_0x41a1ab)[_0x39db('0x1cb')](_0x2b7a26);this[_0x39db('0x5a')][_0x39db('0x6')](_0x41a1ab,_0x750fd5);_0x41a1ab++;}}bootbox[_0x39db('0xd8')](_0x39db('0x2b9')+_0x41a1ab+_0x39db('0x271'));});_0x59b80c[_0x39db('0x18')]=_0x205c2a;}[_0x39db('0x20c')](){this[_0x39db('0x11f')]({'extensions':_0x39db('0x9a'),'mode':_0x39db('0x276')},(_0x522ae0,_0x44c084)=>{this['_imageDataToPalette'](_0x522ae0);});}[_0x39db('0x38')](_0x1e50ac){var _0x519e2b=JSON[_0x39db('0x9f')](_0x1e50ac);var _0x34f044=new _0xa65727[(_0x39db('0x1fb'))](this['scene']);_0x34f044[_0x39db('0x1fd')](_0x519e2b);this['voxelMesh'][_0x39db('0x2aa')](_0x34f044);}[_0x39db('0x214')](){this['_readFileFromUser']({'extensions':'.vox'},(_0x1c44f1,_0x216d1f)=>{this[_0x39db('0x38')](_0x1c44f1);});}[_0x39db('0x1ac')](){bootbox[_0x39db('0xa')]({'title':_0x39db('0xb6'),'message':'<p>Pick\x20demo\x20project\x20to\x20import\x20(note:\x20all\x20demo\x20projects\x20use\x20the\x20default\x20palette,\x20if\x20you\x20changed\x20pallete\x20they\x20may\x20look\x20wrong):</p>','inputType':_0x39db('0x1e4'),'inputOptions':[{'text':_0x39db('0x36'),'value':_0x39db('0x2b4')},{'text':_0x39db('0x12c'),'value':_0x39db('0x16a')},{'text':'Snake','value':_0x39db('0x58')},{'text':_0x39db('0x1aa'),'value':_0x39db('0x17')},{'text':'Crate','value':'crate.vox'}],'callback':_0x510e7a=>{$[_0x39db('0x2b2')]('demos/'+_0x510e7a,_0x51cc31=>{this[_0x39db('0x38')](_0x51cc31);});}});}[_0x39db('0x2a')](_0xe3134){$[_0x39db('0x2b2')](_0x39db('0x21b')+_0xe3134,_0xbe8821=>{this[_0x39db('0x38')](_0xbe8821);});}['showAbout'](){bootbox['alert']({'title':_0x39db('0x22')+_0x106aff,'message':_0x39db('0x29d')+_0x39db('0x1c3')});}['cloneActiveLayer'](){var _0x42c69d=this[_0x39db('0x5a')]['cloneLayer'](this[_0x39db('0x13a')]);if(this[_0x39db('0x93')]){_0x42c69d[_0x39db('0xdc')](this['selectedRegion']);}}[_0x39db('0x13b')](){if(!this[_0x39db('0x93')]){return bootbox[_0x39db('0xd8')](_0x39db('0xc'));}var _0x4c398b=this['activeLayer'];var _0x5ad0fc=this[_0x39db('0x93')];var _0x5c72f2=this[_0x39db('0x5a')][_0x39db('0x1d')](this[_0x39db('0x13a')],_0x4c398b[_0x39db('0x24a')]+_0x39db('0x266'));for(var _0x252ccf=_0x5ad0fc[_0x39db('0x167')]['x'];_0x252ccf<=_0x5ad0fc[_0x39db('0x2f')]['x'];++_0x252ccf){for(var _0x22b6ec=_0x5ad0fc[_0x39db('0x167')]['y'];_0x22b6ec<=_0x5ad0fc['max']['y'];++_0x22b6ec){for(var _0x65a11c=_0x5ad0fc['min']['z'];_0x65a11c<=_0x5ad0fc['max']['z'];++_0x65a11c){var _0x3f5dfb=new _0x1b05db['Vector3'](_0x252ccf,_0x22b6ec,_0x65a11c);var _0x10e732=_0x4c398b[_0x39db('0x112')](_0x3f5dfb);if(_0x10e732){_0x5c72f2[_0x39db('0x2a2')](_0x10e732);_0x4c398b['removeVoxel'](_0x3f5dfb);}}}}}['applyTransformation'](_0x236fdd){if(this['activeLayer'][_0x39db('0x107')]){return bootbox[_0x39db('0xd8')](_0x39db('0x49')+(this[_0x39db('0x224')][_0x39db('0x1b3')]?_0x39db('0x1b3'):_0x39db('0xc6'))+'.');}var _0x2729b0=new _0x23833b[_0x236fdd](this);_0x2729b0[_0x39db('0x1e5')]();}[_0x39db('0x1ec')](){if(this[_0x39db('0x5a')][_0x39db('0x1ad')][_0x39db('0x1a3')]>0x1&&this['activeLayerIndex']<this[_0x39db('0x5a')][_0x39db('0x1ad')]['length']-0x1){this[_0x39db('0x5a')]['mergeActiveLayerDown'](this['activeLayerIndex']);this['activeLayerIndex']=this[_0x39db('0x13a')];}}['showGuidedTour'](){bootbox[_0x39db('0xd8')]({'title':_0x39db('0x177'),'message':_0x39db('0xb3'),'buttons':{'ok':{'label':_0x39db('0x10c')}},'callback':function(){var _0x5889ee=new EnjoyHint({'onStart':()=>{this[_0x39db('0xe2')]=![];},'onEnd':()=>{this[_0x39db('0xe2')]=!![];},'onSkip':()=>{this['_onCanvas']=!![];}});var _0x105ced=[{'selector':_0x39db('0x201'),'description':_0x39db('0x21c'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x204'),'description':'Colors\x20Palette:\x20use\x20it\x20to\x20select\x20voxels\x20colors.<br/>Note:\x20changing\x20a\x20palette\x20color\x20that\x20is\x20already\x20used\x20by\x20existing\x20voxels\x20will\x20recolor\x20these\x20voxels.','showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':'#layers-menu','description':_0x39db('0x131'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':'#layers-menu','description':_0x39db('0x88'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x80'),'description':_0x39db('0x150'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':'#help-text-label','description':'The\x20bottom\x20text\x20gives\x20useful\x20hints\x20about\x20the\x20tool\x20you\x27re\x20currently\x20using.','showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':'#stats-label','description':_0x39db('0x2ab'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x1c5'),'description':_0x39db('0x113'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x220'),'description':_0x39db('0x1bc'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x219'),'description':_0x39db('0xfb'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x219'),'description':'Note\x20that\x20Voxelator\x20support\x20two\x20ways\x20to\x20represent\x20Voxels\x20color:\x20by\x20texture,\x20or\x20by\x20encoding\x20per-vertex\x20color\x20property.<br\x20/>Since\x20not\x20all\x20formats\x20support\x20both\x20options,\x20Voxelator\x20will\x20always\x20attempt\x20to\x20write\x20both\x20UVs\x20data\x20and\x20Vertex\x20colors\x20into\x20the\x20exported\x20file.\x20Its\x20up\x20to\x20you\x20to\x20pick\x20a\x20technique\x20by\x20controlling\x20your\x20rendering\x20pipeline,\x20but\x20make\x20sure\x20you\x20don\x27t\x20use\x20both,\x20as\x20this\x20will\x20distort\x20the\x20colors.','showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x22e'),'description':'The\x20\x27Import\x27\x20menu\x20allow\x20you\x20to\x20import\x20different\x20things,\x20like\x20image-to-palette\x20(will\x20inject\x20image\x27s\x20colors\x20into\x20your\x20current\x20palette),\x20image-to-voxels\x20(will\x20convert\x20image\x20to\x203d\x20voxels)\x20or\x20embed\x20Voxelator\x20file\x20as\x20a\x20new\x20layer\x20in\x20your\x20mesh.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x39db('0x95'),'description':'The\x20\x27View\x27\x20menu\x20contains\x20Voxelator\x27s\x20display\x20and\x20rendering\x20configurations.<br/>You\x20can\x20change\x20background\x20color,\x20draw\x20geometry\x20faces,\x20enable\x20lightings,\x20ect.\x20None\x20of\x20the\x20options\x20here\x20will\x20actually\x20affect\x20the\x20output\x20file.','showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x1f1'),'description':_0x39db('0xe8'),'showNext':!![],'skipButton':{'text':_0x39db('0x17e')}},{'selector':_0x39db('0x14f'),'description':_0x39db('0x6f'),'showNext':![],'skipButton':{'text':_0x39db('0x280')}}];_0x5889ee[_0x39db('0x12')](_0x105ced);_0x5889ee['run']();}});}[_0x39db('0xa6')](){if(this[_0x39db('0x41')][_0x39db('0x2a0')]('1')){$(_0x39db('0x10e'))[_0x39db('0x232')]();}else if(this['input'][_0x39db('0x2a0')]('2')){$(_0x39db('0x1d0'))[_0x39db('0x232')]();}else if(this['input'][_0x39db('0x2a0')]('3')){$(_0x39db('0x285'))[_0x39db('0x232')]();}else if(this[_0x39db('0x41')][_0x39db('0x2a0')]('4')){$(_0x39db('0x81'))[_0x39db('0x232')]();}else if(this[_0x39db('0x41')]['released']('5')){$(_0x39db('0x11b'))['click']();}else if(this[_0x39db('0x41')][_0x39db('0x2a0')]('6')){$(_0x39db('0x1c8'))['click']();}}[_0x39db('0xd6')](){for(var _0x21e33c=0x0;_0x21e33c<this[_0x39db('0x5a')]['paletteSize'];++_0x21e33c){var _0x5e2ade=_0x282db2(this[_0x39db('0x5a')]['getPaletteColor'](_0x21e33c));$(_0x39db('0x20d')+_0x21e33c)[_0x39db('0x1cb')](_0x5e2ade);}}[_0x39db('0x178')](_0x24cd03){$(_0x39db('0xcb'))['removeClass'](_0x39db('0x54'));this['__selectedColorIndex']=_0x24cd03;$(_0x39db('0x20d')+_0x24cd03)[_0x39db('0x12d')](_0x39db('0x54'));}get['selectedColorIndex'](){return this['__selectedColorIndex'];}[_0x39db('0x126')](_0x1aaf3e){this[_0x39db('0x7e')][_0x39db('0xb')+_0x1aaf3e]['showExportModelDialog']();}[_0x39db('0x299')](){if(!this['selectedRegion']){return;}for(var _0x10b235=this[_0x39db('0x93')][_0x39db('0x167')]['x'];_0x10b235<=this[_0x39db('0x93')][_0x39db('0x2f')]['x'];++_0x10b235){for(var _0x185e49=this[_0x39db('0x93')]['min']['y'];_0x185e49<=this[_0x39db('0x93')]['max']['y'];++_0x185e49){for(var _0x557f34=this['selectedRegion']['min']['z'];_0x557f34<=this[_0x39db('0x93')]['max']['z'];++_0x557f34){this[_0x39db('0x224')]['removeVoxel'](new _0x1b05db[(_0x39db('0x37'))](_0x10b235,_0x185e49,_0x557f34));}}}}['showCameraControls'](){bootbox['alert']({'title':_0x39db('0x284'),'size':_0x39db('0x217'),'message':_0x39db('0xac')});}[_0x39db('0x3a')](){if(!this['_onCanvas']||this[_0x39db('0x1b9')]){this[_0x39db('0x41')]['_resetAll']();}const _0x2d07d6=new Date()[_0x39db('0x2c4')]();const _0x4d808f=(_0x2d07d6-this[_0x39db('0x1d4')])/0x3e8;this['_lastTime']=_0x2d07d6;if(this[_0x39db('0x41')][_0x39db('0x2a0')]('mouse_left')||this[_0x39db('0x41')][_0x39db('0x2a0')](_0x39db('0x252'))){this[_0x39db('0x5a')][_0x39db('0x248')]();}this[_0x39db('0x35')]['begin']();this['renderer'][_0x39db('0x292')](this[_0x39db('0xa7')],this[_0x39db('0x125')]);if(!this[_0x39db('0x67')]){this['doCameraControls'](_0x4d808f);}else{this['controls'][_0x39db('0x3a')]({'deltaTime':_0x4d808f});}this['selectToolWithKey']();this[_0x39db('0x140')](_0x4d808f);this['stats'][_0x39db('0x61')]();this['updateStatsText']();this['input']['endFrame']();}['exportPalette'](){var _0x55cdd9=document['createElement']('a');_0x55cdd9[_0x39db('0x14e')]=this['voxelMesh'][_0x39db('0x213')][_0x39db('0x18')];_0x55cdd9[_0x39db('0xd9')]=_0x39db('0x1bf');_0x55cdd9[_0x39db('0x232')]();}[_0x39db('0x50')](_0x3c93c8){var _0x52c1b1=this[_0x39db('0x41')][_0x39db('0x5c')](this[_0x39db('0x41')][_0x39db('0x202')][_0x39db('0x1ed')])||this[_0x39db('0x41')][_0x39db('0x1bd')]('r');var _0x1a2f92=this['input']['down']('m')||this[_0x39db('0x41')][_0x39db('0x5c')](this['input'][_0x39db('0x202')][_0x39db('0x1ed')])&&this[_0x39db('0x41')]['shiftDown'];var _0x2e4798=this[_0x39db('0x41')]['mouseDelta'];if(_0x1a2f92){_0x52c1b1=![];}var _0x400ae8=Math[_0x39db('0x1ee')](this['input']['mouseWheel'])*0x1964*_0x3c93c8;if(!this['input'][_0x39db('0x109')]){if(this[_0x39db('0x41')]['down'](_0x39db('0x4e'))||this[_0x39db('0x41')][_0x39db('0x1bd')]('z')){_0x400ae8+=0x3e8*_0x3c93c8;}else if(this[_0x39db('0x41')][_0x39db('0x1bd')]('page_down')||this[_0x39db('0x41')]['down']('x')){_0x400ae8-=0x3e8*_0x3c93c8;}}var _0x564163=0x1f4;var _0x48eb35=0x64;var _0x33dea3=_0x52c1b1?-_0x2e4798['x']:0x0;var _0x3c13bf=_0x52c1b1?-_0x2e4798['y']:0x0;var _0x29567d=_0x1a2f92?_0x2e4798['x']:0x0;var _0xc30766=_0x1a2f92?-_0x2e4798['y']:0x0;if(this['input'][_0x39db('0x184')]){if(_0x29567d==0x0&&this[_0x39db('0x41')][_0x39db('0x1bd')]('a')){_0x29567d=_0x564163*_0x3c93c8;}if(_0x29567d==0x0&&this[_0x39db('0x41')][_0x39db('0x1bd')]('d')){_0x29567d=-_0x564163*_0x3c93c8;}if(_0xc30766==0x0&&this['input'][_0x39db('0x1bd')]('w')){_0xc30766=-_0x564163*_0x3c93c8;}if(_0xc30766==0x0&&this[_0x39db('0x41')][_0x39db('0x1bd')]('s')){_0xc30766=_0x564163*_0x3c93c8;}}else{if(_0x33dea3==0x0&&this[_0x39db('0x41')]['down']('a')){_0x33dea3=-_0x48eb35*_0x3c93c8;}if(_0x33dea3==0x0&&this[_0x39db('0x41')]['down']('d')){_0x33dea3=_0x48eb35*_0x3c93c8;}if(_0x3c13bf==0x0&&this[_0x39db('0x41')]['down']('w')){_0x3c13bf=-_0x48eb35*_0x3c93c8;}if(_0x3c13bf==0x0&&this[_0x39db('0x41')][_0x39db('0x1bd')]('s')){_0x3c13bf=_0x48eb35*_0x3c93c8;}}var _0x2247b0={'deltaTime':_0x3c93c8,'rotateHorizontally':_0x33dea3,'rotateVertically':_0x3c13bf,'moveOffsetVertically':_0xc30766,'moveOffsetHorizontally':_0x29567d,'zoom':_0x400ae8};this[_0x39db('0x28a')][_0x39db('0x3a')](_0x2247b0);}['updateStatsText'](){var _0x4cccc7=this['voxelMesh']['stats'];var _0x535431='';for(var _0x162337 in _0x4cccc7){_0x535431+=_0x162337+':\x20'+_0x4cccc7[_0x162337]+_0x39db('0xb1');}_0x535431+=_0x39db('0xc3')+(this[_0x39db('0x287')]?String(this[_0x39db('0x287')]['x'])+','+String(this[_0x39db('0x287')]['y'])+','+String(this[_0x39db('0x287')]['z']):'null');$('#stats-label')[_0x39db('0xca')](_0x535431);}[_0x39db('0x72')](){this[_0x39db('0x94')]=!![];}[_0x39db('0x237')](){this[_0x39db('0x94')]=![];this[_0x39db('0x132')]=new Date()[_0x39db('0x2c4')]();}[_0x39db('0x234')](){var _0x293c20=this[_0x39db('0x13a')];this[_0x39db('0x11f')]({'extensions':_0x39db('0x9a'),'mode':_0x39db('0x276')},(_0x3aefc1,_0x11a89e)=>{$(_0x39db('0x19c'))['modal']({'backdrop':'static','keyboard':![]});document['getElementById']('import-img-preview')['src']=_0x3aefc1;var _0x339aa2=$(_0x39db('0xa8'));_0x339aa2[_0x39db('0x24f')]()[_0x39db('0x10')](_0x39db('0x68'),'0%')['attr'](_0x39db('0x16d'),0x0);var _0x752f1b=![];document[_0x39db('0xee')](_0x39db('0x173'))[_0x39db('0x30')]=()=>{_0x752f1b=!![];$(_0x39db('0x19c'))[_0x39db('0x110')]('hide');};document[_0x39db('0xee')](_0x39db('0x2b5'))[_0x39db('0x30')]=()=>{var _0x3f065a=this[_0x39db('0x5a')]['serialize']();var _0x52b876=document['getElementById'](_0x39db('0x2a4'));var _0x53bc29=document[_0x39db('0x191')]('canvas');_0x53bc29['width']=_0x52b876[_0x39db('0x68')];_0x53bc29[_0x39db('0x1f9')]=_0x52b876[_0x39db('0x1f9')];_0x53bc29['getContext']('2d')['drawImage'](_0x52b876,0x0,0x0,_0x52b876[_0x39db('0x68')],_0x52b876[_0x39db('0x1f9')]);var _0x6ba375={};var _0x326880=(_0x3d0a5a,_0x25634d,_0x36a70d)=>{var _0x52f61f=_0x3d0a5a+','+_0x25634d+','+_0x36a70d;if(_0x6ba375[_0x52f61f]!==undefined){return _0x6ba375[_0x52f61f];}var _0x125c7e=0xffffffff;var _0x3f04fe=0x0;for(var _0x42ad3f=0x0;_0x42ad3f<this[_0x39db('0x5a')]['_palette']['length'];++_0x42ad3f){var _0x49acf9=this[_0x39db('0x5a')]['_palette'][_0x42ad3f];var _0x10f15e=_0x24cc41([_0x3d0a5a,_0x25634d,_0x36a70d],[_0x49acf9>>0x10&0xff,_0x49acf9>>0x8&0xff,_0x49acf9&0xff]);if(_0x10f15e<_0x125c7e){_0x125c7e=_0x10f15e;_0x3f04fe=_0x42ad3f;}if(_0x125c7e<=0x0){break;}}_0x6ba375[_0x52f61f]=_0x3f04fe;return _0x3f04fe;};var _0x4e0560=_0x52b876['width']*_0x52b876[_0x39db('0x1f9')];var _0x552159=0x0;_0x339aa2['show']();var _0x336808=_0x53bc29['getContext']('2d');var _0x8ddf3f=0x0;var _0x4f34cd=0x0;if($('#import-img-new-layer')['is'](_0x39db('0x278'))){this[_0x39db('0x5a')]['addLayer'](this[_0x39db('0x13a')],_0x39db('0x251')+_0x11a89e);_0x293c20=this[_0x39db('0x13a')];}var _0x22dbb5=$(_0x39db('0x275'))['val']();var _0x4fcd33=_0x22dbb5==_0x39db('0x22b')||_0x22dbb5=='Both';var _0x520a88=_0x22dbb5==_0x39db('0x1b2')||_0x22dbb5==_0x39db('0xb2');var _0x1d6d13=$('#import-image-axis')[_0x39db('0x1cb')]();this[_0x39db('0x5a')][_0x39db('0x127')]=![];var _0x4334ea=()=>{var _0x3e7337=!![];var _0x3a1f51=0x64;var _0x5b5ea6=new _0x1b05db[(_0x39db('0x37'))]();while(_0x3e7337&&_0x3a1f51-->0x0){if(_0x752f1b){this[_0x39db('0x5a')]['deserialize'](_0x3f065a);this['voxelMesh'][_0x39db('0x127')]=!![];return;}var _0x1d13f4=_0x4fcd33?_0x52b876['width']-_0x8ddf3f:_0x8ddf3f;var _0x178cb5=_0x520a88?_0x52b876[_0x39db('0x1f9')]-_0x4f34cd:_0x4f34cd;var _0x1bc717=_0x336808[_0x39db('0x9b')](_0x1d13f4,_0x178cb5,0x1,0x1)[_0x39db('0x124')];var _0x324f43=_0x1bc717[0x0];var _0x2f2c14=_0x1bc717[0x1];var _0x1df3ab=_0x1bc717[0x2];var _0x5566b7=_0x1bc717[0x3];var _0x3586ed=parseInt($(_0x39db('0x141'))[_0x39db('0x1cb')]());for(var _0x39ce67=0x0;_0x39ce67<_0x3586ed;++_0x39ce67){var _0x4d2d3e={'x':Math[_0x39db('0x28f')](_0x52b876[_0x39db('0x68')]/0x2),'y':0x0};switch(_0x1d6d13){case'XY':_0x5b5ea6[_0x39db('0x12')](_0x8ddf3f-_0x4d2d3e['x'],_0x52b876[_0x39db('0x1f9')]-_0x4f34cd-0x1-_0x4d2d3e['y'],_0x39ce67);break;case'XZ':_0x5b5ea6[_0x39db('0x12')](_0x8ddf3f-_0x4d2d3e['x'],_0x39ce67,_0x52b876[_0x39db('0x1f9')]-_0x4f34cd-0x1-_0x4d2d3e['y']);break;case'ZY':_0x5b5ea6['set'](_0x39ce67,_0x52b876[_0x39db('0x1f9')]-_0x4f34cd-0x1-_0x4d2d3e['y'],_0x8ddf3f-_0x4d2d3e['x']);break;}if(_0x5566b7>0x64){var _0x4664ea=_0x326880(_0x324f43,_0x2f2c14,_0x1df3ab);this[_0x39db('0x5a')][_0x39db('0x2a2')](_0x293c20,new _0xa65727[(_0x39db('0xfc'))](_0x5b5ea6,_0x4664ea));}}var _0x3bec28=Math[_0x39db('0x28f')](_0x552159/_0x4e0560*0x64);_0x339aa2[_0x39db('0x10')]('width',_0x3bec28+'%')[_0x39db('0x66')]('aria-valuenow',_0x3bec28);_0x552159++;_0x8ddf3f++;if(_0x8ddf3f>=_0x52b876['width']){_0x8ddf3f=0x0;_0x4f34cd++;if(_0x4f34cd>=_0x52b876[_0x39db('0x1f9')]){_0x3e7337=![];}}}if(_0x3e7337){setTimeout(_0x4334ea,0x1);}else{this['voxelMesh'][_0x39db('0x127')]=!![];$(_0x39db('0x19c'))[_0x39db('0x110')](_0x39db('0x24f'));}};_0x4334ea();};});}['_readFileFromUser'](_0x50c5dc,_0x4c922a,_0x242b05){$(_0x39db('0x1e8'))[_0x39db('0x1cb')](null)[_0x39db('0x66')](_0x39db('0x11'),_0x50c5dc[_0x39db('0x7a')]||'*')[_0x39db('0x2bb')](_0x39db('0x232'));var _0x53f546=document[_0x39db('0xee')](_0x39db('0x245'));_0x53f546[_0x39db('0xf3')]=()=>{var _0x39a3ae=_0x53f546['files'];if(_0x39a3ae[_0x39db('0x1a3')]==0x0){if(_0x242b05){_0x242b05();}return;}var _0x16f6c7=_0x39a3ae[0x0];var _0x1912e4=new FileReader();this['mouseLeaveUI']();_0x1912e4[_0x39db('0x15')](_0x39db('0x297'),()=>{console[_0x39db('0x22d')](_0x39db('0x1a7'));});_0x1912e4[_0x39db('0x15')]('load',_0x81f49b=>{var _0x482241=_0x81f49b[_0x39db('0xdb')][_0x39db('0x105')];this[_0x39db('0x237')]();_0x4c922a(_0x482241,_0x16f6c7[_0x39db('0x24a')]);});_0x1912e4[_0x39db('0x15')](_0x39db('0x20a'),()=>{bootbox[_0x39db('0xd8')](_0x39db('0x13f'));});_0x1912e4[_0x39db('0x15')]('progress',_0x416fc6=>{if(_0x416fc6[_0x39db('0x47')]==!![]){var _0x3c2557=Math['floor'](_0x416fc6['loaded']/_0x416fc6['total']*0x64);console[_0x39db('0x22d')](_0x3c2557+_0x39db('0x31'));this[_0x39db('0x237')]();}});switch(_0x50c5dc[_0x39db('0xea')]){case undefined:case'text':_0x1912e4[_0x39db('0xdf')](_0x16f6c7);break;case _0x39db('0x276'):_0x1912e4[_0x39db('0x8b')](_0x16f6c7);break;default:throw Error(_0x39db('0x222'));}};}[_0x39db('0x2c9')](){bootbox[_0x39db('0xd8')]({'title':_0x39db('0x15e'),'size':_0x39db('0x217'),'message':'The\x20texture\x20below\x20represent\x20your\x20current\x20colors\x20palette.\x20If\x20you\x20want\x20to\x20export\x20your\x20model\x20and\x20use\x20texture\x20for\x20voxel\x20colors\x20(instead\x20of\x20vertex-color),\x20you\x20need\x20to\x20set\x20this\x20image\x20as\x20the\x20texture\x20of\x20the\x20mesh.\x20It\x20is\x20downloaded\x20automatically\x20when\x20using\x20export.'+_0x39db('0x138')+this[_0x39db('0x5a')]['paletteImage'][_0x39db('0x18')]+_0x39db('0xaf')});}['saveProjectToFile'](){var _0x2e5f1b=this[_0x39db('0x5a')][_0x39db('0x65')]();var _0x160495=new Blob([JSON[_0x39db('0x2ae')](_0x2e5f1b)],{'type':_0x39db('0x12b')});_0x3461bd[_0x39db('0x62')][_0x39db('0x7f')](_0x160495,this[_0x39db('0x5a')][_0x39db('0x24a')]+_0x39db('0xbd'));this[_0x39db('0x237')]();}[_0x39db('0xab')](){this[_0x39db('0x11f')]({'extensions':_0x39db('0xbd')},(_0x917077,_0x21beeb)=>{var _0x3bbdba=JSON[_0x39db('0x9f')](_0x917077);this[_0x39db('0x5a')][_0x39db('0x1fd')](_0x3bbdba);this[_0x39db('0x9d')]();this[_0x39db('0xd6')]();this[_0x39db('0x237')]();$('#showBoundingBox')[_0x39db('0x21a')](_0x39db('0x268'),this[_0x39db('0x5a')][_0x39db('0x20')]['showBoundingBox']);$(_0x39db('0x17f'))[_0x39db('0x21a')](_0x39db('0x268'),this[_0x39db('0x5a')][_0x39db('0x20')][_0x39db('0xfe')]);$(_0x39db('0x223'))['prop'](_0x39db('0x268'),this['voxelMesh'][_0x39db('0x20')][_0x39db('0x1a6')]);$(_0x39db('0x8d'))[_0x39db('0x21a')]('checked',this[_0x39db('0x5a')][_0x39db('0x20')][_0x39db('0x11a')]);this[_0x39db('0x29a')]=[];this[_0x39db('0x21f')]=[];this[_0x39db('0x174')]();});}['newMesh'](){bootbox[_0x39db('0x16c')](_0x39db('0x17c'),_0x48c4dd=>{if(_0x48c4dd){this['voxelMesh']['reset']();this[_0x39db('0x9d')]();this[_0x39db('0xd6')]();this['mouseLeaveUI']();this[_0x39db('0x29a')]=[];this[_0x39db('0x21f')]=[];this[_0x39db('0x174')]();}});}get[_0x39db('0x2ca')](){return this[_0x39db('0x94')]||this['_lockedUntilClickedOnCanvas']||this[_0x39db('0x1d7')]||new Date()['getTime']()-this[_0x39db('0x132')]<0x96;}[_0x39db('0x5f')](){if(this[_0x39db('0x86')]){this[_0x39db('0xa7')][_0x39db('0x2b6')](this[_0x39db('0x86')]);this[_0x39db('0x86')]=null;}this[_0x39db('0x93')]=null;}['getSelectedRegionOrWholeLayer'](){return this[_0x39db('0x93')]||this[_0x39db('0x224')][_0x39db('0x137')]();}['setSelection'](_0x10e145){var _0x2ed53c=new _0x1b05db[(_0x39db('0x264'))]();for(var _0x12ce8e=0x0;_0x12ce8e<_0x10e145[_0x39db('0x1a3')];++_0x12ce8e){_0x2ed53c[_0x39db('0xda')](_0x10e145[_0x12ce8e]);}if(!this[_0x39db('0x93')]||!this[_0x39db('0x93')][_0x39db('0x25')](_0x2ed53c)){this['selectedRegion']=_0x2ed53c;if(this[_0x39db('0x86')]){this[_0x39db('0xa7')][_0x39db('0x2b6')](this[_0x39db('0x86')]);}var _0x43b52f=_0x2ed53c[_0x39db('0x153')]();var _0x61d62a=_0x2ed53c[_0x39db('0x2f')][_0x39db('0x153')]();_0x61d62a['x']++;_0x61d62a['y']++;_0x61d62a['z']++;_0x43b52f[_0x39db('0xda')](_0x61d62a);_0x43b52f[_0x39db('0x167')][_0x39db('0x17b')](-0.01);_0x43b52f[_0x39db('0x2f')][_0x39db('0x17b')](0.01);this[_0x39db('0x86')]=new _0x1b05db[(_0x39db('0x83'))](_0x43b52f,0xff0000);this[_0x39db('0xa7')][_0x39db('0x1ae')](this['_selectionShow']);}}get['isUiFocused'](){return this[_0x39db('0x2ca')]||!this['_onCanvas'];}['_doUpdates'](_0x36e337){if(!this['anyMouseButtonsDown']&&this[_0x39db('0x1cf')]){this['_redoStack']=[];if(this[_0x39db('0x33')]){this[_0x39db('0x29a')][_0x39db('0x27b')](this[_0x39db('0x33')]);}this[_0x39db('0x33')]=this[_0x39db('0x5a')][_0x39db('0x65')]();while(this[_0x39db('0x29a')][_0x39db('0x1a3')]>0xc){this[_0x39db('0x29a')][_0x39db('0x10a')](0x0,0x1);}this['_lastRedoVersion']=this[_0x39db('0x5a')][_0x39db('0x135')];this['_needToGenerateUndo']=![];this[_0x39db('0x174')]();this[_0x39db('0xdd')]=!![];}this[_0x39db('0x5a')][_0x39db('0x3a')]();if(this[_0x39db('0x41')][_0x39db('0x129')](this[_0x39db('0x41')][_0x39db('0x202')]['left'])||this['input'][_0x39db('0x129')](this['input'][_0x39db('0x202')]['right'])){this[_0x39db('0x194')]=this['camera'][_0x39db('0x289')]['clone']();this[_0x39db('0x5')]=this['camera'][_0x39db('0x229')]['clone']();}if(this['input'][_0x39db('0x2a0')]('z')&&this[_0x39db('0x41')][_0x39db('0x109')]){this[_0x39db('0xf5')]();}if(this[_0x39db('0x41')][_0x39db('0x2a0')]('y')&&this[_0x39db('0x41')][_0x39db('0x109')]){this[_0x39db('0x19e')]();}var _0x1666c6=this[_0x39db('0x13c')](!![]);this['_targetVoxel']=_0x1666c6?_0x1666c6[_0x39db('0x233')]:null;var _0x2af60c=this['activeLayer'][_0x39db('0x107')];this[_0x39db('0xae')][_0x39db('0xc4')][_0x39db('0x170')][_0x39db('0x104')]=_0x2af60c?_0x39db('0x256'):_0x39db('0x249');var _0x139896=this[_0x39db('0x67')]?0.85:0x1;var _0xff70ac=parseFloat(this[_0x39db('0xae')]['domElement'][_0x39db('0x170')][_0x39db('0x2b')])||0x1;if(_0xff70ac!=_0x139896){this[_0x39db('0xae')][_0x39db('0xc4')][_0x39db('0x170')][_0x39db('0x2b')]=_0x1b05db[_0x39db('0x39')]['lerp'](_0xff70ac,_0x139896,_0x36e337*0x5);}if(!this[_0x39db('0x67')]){this[_0x39db('0xd3')][_0x39db('0x3a')](this,_0x36e337);}if(!this[_0x39db('0xa1')]){this['_camPositionOnPress']=null;this[_0x39db('0x5')]=null;}var _0x11b7d1=$(_0x39db('0x5d'))[_0x39db('0x2bd')]();for(var _0x7cda70=0x0;_0x7cda70<_0x11b7d1[_0x39db('0x1a3')];++_0x7cda70){var _0x5e3cff=$(_0x11b7d1[_0x7cda70]);var _0x530005=this[_0x39db('0x5a')][_0x39db('0x1ad')][_0x7cda70];var _0x5caec8=_0x39db('0x265');var _0xbace0e=_0x39db('0x1e2');_0x5e3cff[_0x39db('0x1f6')]('.layer-visible')[_0x39db('0x10')](_0x39db('0xe1'),_0x530005[_0x39db('0xbb')]?_0xbace0e:_0x5caec8);_0x5e3cff[_0x39db('0x1f6')](_0x39db('0x145'))[_0x39db('0x10')](_0x39db('0xe1'),_0x530005[_0x39db('0x1b3')]?_0xbace0e:_0x5caec8);}$(_0x39db('0x151'))[_0x39db('0x20e')]('['+this['_selectedMode'][_0x39db('0x24a')]+'\x20help]:\x20'+this[_0x39db('0xd3')]['getHelpText']());if($(_0x39db('0x12a'))['is'](_0x39db('0x278'))&&!this['isUiFocused']){this[_0x39db('0x1c9')]();}}[_0x39db('0x272')](_0xac1e7e){var _0x361492=this[_0x39db('0x224')];if(this[_0x39db('0x93')]){var _0x37658b=this[_0x39db('0x93')];for(var _0x2e9b2b=_0x37658b['min']['x'];_0x2e9b2b<=_0x37658b[_0x39db('0x2f')]['x'];++_0x2e9b2b){for(var _0x2b1184=_0x37658b[_0x39db('0x167')]['y'];_0x2b1184<=_0x37658b[_0x39db('0x2f')]['y'];++_0x2b1184){for(var _0x4a1aaa=_0x37658b[_0x39db('0x167')]['z'];_0x4a1aaa<=_0x37658b[_0x39db('0x2f')]['z'];++_0x4a1aaa){var _0x1033d8=_0x361492['getVoxel'](new _0x1b05db[(_0x39db('0x37'))](_0x2e9b2b,_0x2b1184,_0x4a1aaa));if(_0x1033d8){_0xac1e7e(_0x1033d8);}}}}}else{for(var _0x1dda4c in _0x361492['_voxels']){_0xac1e7e(_0x361492['_voxels'][_0x1dda4c]);}}}['autoSelectLayer'](){if(this['anyMouseButtonsDown']){return;}this['raycaster']['setFromCamera'](this[_0x39db('0x133')],this[_0x39db('0x125')]);var _0x3d6d85=this['raycaster'][_0x39db('0x3e')]([this[_0x39db('0x5a')]['container']],!![]);for(var _0x38c36a=0x0;_0x38c36a<_0x3d6d85[_0x39db('0x1a3')];++_0x38c36a){var _0x3e1ea9=_0x3d6d85[_0x38c36a]['object'][_0x39db('0x63')];if(_0x3e1ea9&&!_0x3e1ea9[_0x39db('0x1b3')]){var _0x5cec1f=this[_0x39db('0x5a')][_0x39db('0x1ad')][_0x39db('0x103')](_0x3e1ea9);if(_0x5cec1f!==-0x1){this[_0x39db('0x13a')]=_0x5cec1f;return;}}}}get[_0x39db('0x1c4')](){if(!this[_0x39db('0x194')]||!this['_camRotationOnPress']){return![];}var _0x591556=0.1;var _0x393f3c=0.65;return 0x0||Math['abs'](this['camera'][_0x39db('0x289')]['x']-this[_0x39db('0x194')]['x'])>_0x393f3c||Math[_0x39db('0xd7')](this[_0x39db('0x125')][_0x39db('0x289')]['y']-this[_0x39db('0x194')]['y'])>_0x393f3c||Math[_0x39db('0xd7')](this[_0x39db('0x125')]['position']['z']-this[_0x39db('0x194')]['z'])>_0x393f3c||Math[_0x39db('0xd7')](this[_0x39db('0x125')]['rotation']['x']-this[_0x39db('0x5')]['x'])>_0x591556||Math[_0x39db('0xd7')](this['camera'][_0x39db('0x229')]['y']-this[_0x39db('0x5')]['y'])>_0x591556||Math[_0x39db('0xd7')](this[_0x39db('0x125')][_0x39db('0x229')]['z']-this['_camRotationOnPress']['z'])>_0x591556;}[_0x39db('0x24d')](){bootbox[_0x39db('0xa')](_0x39db('0x1ab'),_0x13f8d0=>{if(_0x13f8d0){this[_0x39db('0x5a')][_0x39db('0x24a')]=_0x13f8d0;this['onMeshRename']();}});}get[_0x39db('0xa1')](){return this[_0x39db('0x41')][_0x39db('0x1bd')](_0x39db('0x185'))||this[_0x39db('0x41')][_0x39db('0x1bd')]('mouse_right');}[_0x39db('0x13c')](_0xae92ba,_0xc0773d,_0x2836b6){if(_0xc0773d||(!this[_0x39db('0xa1')]||!this['isMovingOrRotatingCamera'])){this[_0x39db('0x12f')][_0x39db('0x24c')](this[_0x39db('0x133')],this[_0x39db('0x125')]);var _0x351306=this[_0x39db('0x12f')][_0x39db('0x3e')]([this[_0x39db('0x5a')][_0x39db('0x55')]],!![]);for(var _0x4c0820=0x0;_0x4c0820<_0x351306[_0x39db('0x1a3')];_0x4c0820++){var _0x2f8ede=_0x351306[_0x4c0820][_0x39db('0x1dc')];if(!_0x2f8ede||!_0x2f8ede['targetVoxelPosition']){continue;}if(!_0x2836b6&&_0x2f8ede[_0x39db('0x1b6')]===this[_0x39db('0x5a')][_0x39db('0x1b6')]){return null;}return{'selectedVoxelPosition':_0x2f8ede[_0x39db('0x116')],'targetVoxelPosition':_0x2f8ede[_0x39db('0x233')],'normal':_0x2f8ede[_0x39db('0x233')]['clone']()['sub'](_0x2f8ede['voxelPosition']),'backVoxelPosition':_0x2f8ede[_0x39db('0x16e')],'selectedColorIndex':_0x2f8ede[_0x39db('0x159')],'intersectPosition':_0x351306[_0x4c0820]['point']};}if(_0xae92ba&&this['_grid'][_0x39db('0xbb')]){var _0x351306=this[_0x39db('0x12f')][_0x39db('0x3e')]([this['_grid']],!![]);for(var _0x4c0820=0x0;_0x4c0820<_0x351306['length'];_0x4c0820++){var _0x40d33f=_0x351306[_0x4c0820]['point'];var _0x33d13d=new _0x1b05db['Vector3'](Math[_0x39db('0x28f')](_0x40d33f['x']),Math[_0x39db('0x28f')](_0x40d33f['y']),Math[_0x39db('0x28f')](_0x40d33f['z']));return{'selectedVoxelPosition':_0x33d13d,'targetVoxelPosition':_0x33d13d,'normal':new _0x1b05db[(_0x39db('0x37'))](0x0,0x1,0x0),'backVoxelPosition':null,'selectedColorIndex':null,'intersectPosition':_0x40d33f};}}}return null;}}function _0x282db2(_0x4b58c2){var _0x13ad8c=function(_0x155afe){var _0xf4dfab=Number(_0x155afe)['toString'](0x10);if(_0xf4dfab['length']<0x2){_0xf4dfab='0'+_0xf4dfab;}return _0xf4dfab;};var _0x378eb3=function(_0x4485bc,_0x5a0ee4,_0x3afbeb){var _0xf66fca=_0x13ad8c(_0x4485bc);var _0x55910d=_0x13ad8c(_0x5a0ee4);var _0x52febe=_0x13ad8c(_0x3afbeb);return _0xf66fca+_0x55910d+_0x52febe;};var _0x3a2034=_0x4b58c2>>0x10&0xff;var _0x1dda2a=_0x4b58c2>>0x8&0xff;var _0x4b52e6=_0x4b58c2&0xff;return'#'+_0x378eb3(_0x3a2034,_0x1dda2a,_0x4b52e6);}_0x2c52de[_0x39db('0xe')]=new _0x16c1f2();},{'./editor_modes':0x3,'./exports':0xf,'./libs':0x11,'./transformations':0x16,'./voxels':0x1c}],19:[function(_0x3665ac,_0x345b8f,_0x2607bd){const _0x265e02=_0x3665ac(_0x39db('0x236'));const _0x319a0b=_0x3665ac('./../libs')[_0x39db('0x22f')];class _0x23c5b6 extends _0x265e02{[_0x39db('0x1e5')](){var _0x2c10de=_0x39db('0xd5');var _0x593139=[];var _0x31fe0a=['X','Y','Z'];for(var _0x35ed51=0x0;_0x35ed51<_0x31fe0a['length'];++_0x35ed51){_0x593139['push'](_0x39db('0x198')+_0x31fe0a[_0x35ed51]+_0x39db('0x15b')+_0x31fe0a[_0x35ed51]+_0x39db('0x1eb')+_0x31fe0a[_0x35ed51]+_0x39db('0x71'));}var _0x301ff9='Center\x20offset:<br\x20/>'+_0x39db('0x64')+_0x39db('0x28b')+_0x39db('0x258');var _0x15205c=new _0x319a0b[(_0x39db('0x37'))](0x0,0x0,0x0);var _0x813f5d=bootbox[_0x39db('0x16c')]({'title':'Center','message':_0x2c10de+_0x301ff9+_0x593139['join'](''),'callback':_0x459a00=>{if(_0x459a00){_0x15205c['x']=Math['round'](parseInt($(_0x39db('0xc2'))[_0x39db('0x1cb')]()||0x0));_0x15205c['y']=Math[_0x39db('0x28f')](parseInt($(_0x39db('0x21e'))[_0x39db('0x1cb')]()||0x0));_0x15205c['z']=Math[_0x39db('0x28f')](parseInt($('#center-offset-z')[_0x39db('0x1cb')]()||0x0));var _0x17b271={};for(var _0x3d1279=0x0;_0x3d1279<_0x31fe0a[_0x39db('0x1a3')];++_0x3d1279){_0x17b271[_0x31fe0a[_0x3d1279]]=$(_0x39db('0x23e')+_0x31fe0a[_0x3d1279])['is'](_0x39db('0x278'));}this['manager'][_0x39db('0x224')]['centerVoxels'](this[_0x39db('0x6d')]['getSelectedRegionOrWholeLayer'](),_0x17b271['X'],_0x17b271['Y'],_0x17b271['Z'],_0x15205c);}}});this[_0x39db('0x6d')]['initUiElement'](_0x813f5d);}}_0x345b8f[_0x39db('0xe')]=_0x23c5b6;},{'./../libs':0x11,'./transformation_base':0x1b}],20:[function(_0x4ce920,_0x2c1b7e,_0x8a6af0){const _0x331f41=_0x4ce920(_0x39db('0x236'));const _0x30acb2=_0x4ce920('./../libs')[_0x39db('0x22f')];const _0x636bb1=_0x4ce920(_0x39db('0x290'));class _0x3284e9 extends _0x331f41{[_0x39db('0x1e5')](){var _0x28b393=_0x39db('0x3');var _0xf6e691=_0x39db('0x26f');var _0x3a5d06=_0x39db('0xe0');var _0xf5226f=[];var _0x423f14=['top',_0x39db('0xb7'),_0x39db('0x119'),_0x39db('0xe4'),_0x39db('0x156'),_0x39db('0x2a9')];for(var _0x33ca0c=0x0;_0x33ca0c<_0x423f14[_0x39db('0x1a3')];++_0x33ca0c){_0xf5226f[_0x39db('0x27b')](_0x39db('0x25f')+_0x423f14[_0x33ca0c]+_0x39db('0x1d2')+_0x423f14[_0x33ca0c]+_0x39db('0x122')+_0x423f14[_0x33ca0c]+_0x39db('0x226'));}var _0x2f4526={'top':new _0x30acb2[(_0x39db('0x37'))](0x0,0x1,0x0),'bottom':new _0x30acb2[(_0x39db('0x37'))](0x0,-0x1,0x0),'left':new _0x30acb2[(_0x39db('0x37'))](-0x1,0x0,0x0),'right':new _0x30acb2['Vector3'](0x1,0x0,0x0),'front':new _0x30acb2[(_0x39db('0x37'))](0x0,0x0,0x1),'back':new _0x30acb2[(_0x39db('0x37'))](0x0,0x0,-0x1)};var _0x238448=bootbox[_0x39db('0x16c')]({'title':'Expand','message':_0x28b393+_0xf6e691+_0x3a5d06+_0xf5226f[_0x39db('0x26e')](''),'callback':_0x4183ed=>{if(_0x4183ed){var _0x4753b2=parseInt($(_0x39db('0x9e'))[_0x39db('0x1cb')]());var _0x29ea31={};for(var _0x66ad06=0x0;_0x66ad06<_0x423f14[_0x39db('0x1a3')];++_0x66ad06){_0x29ea31[_0x423f14[_0x66ad06]]=$(_0x39db('0x89')+_0x423f14[_0x66ad06])['is'](':checked');}var _0x2d9007=$('#expand-smoothly')['is'](_0x39db('0x278'));for(var _0x66ad06=0x0;_0x66ad06<_0x4753b2;++_0x66ad06){var _0x10c72f=[];var _0x481388=()=>{while(_0x10c72f[_0x39db('0x1a3')]){this['activeLayer'][_0x39db('0x2a2')](_0x10c72f[_0x39db('0x1c1')]());}this[_0x39db('0x224')][_0x39db('0xed')]();};if(_0x2d9007){this[_0x39db('0x16b')](_0x5d2375=>{if(_0x5d2375[_0x39db('0xbb')]){for(var _0x4b8d1a=0x0;_0x4b8d1a<_0x423f14['length'];++_0x4b8d1a){var _0x170c1a=_0x423f14[_0x4b8d1a];if(_0x29ea31[_0x170c1a]&&_0x5d2375['visibleFaces'][_0x170c1a]){_0x10c72f['push'](new _0x636bb1(_0x5d2375['position'][_0x39db('0x153')]()[_0x39db('0x1ae')](_0x2f4526[_0x170c1a]),_0x5d2375[_0x39db('0x159')]));}}}});}else{for(var _0x357324=0x0;_0x357324<_0x423f14['length'];++_0x357324){var _0x59c9b4=_0x423f14[_0x357324];this[_0x39db('0x16b')](_0x36ac26=>{if(_0x29ea31[_0x59c9b4]&&_0x36ac26['visible']){_0x10c72f[_0x39db('0x27b')](new _0x636bb1(_0x36ac26[_0x39db('0x289')]['clone']()[_0x39db('0x1ae')](_0x2f4526[_0x59c9b4]),_0x36ac26[_0x39db('0x159')]));}});_0x481388();}}_0x481388();}}}});this['manager']['initUiElement'](_0x238448);}}_0x2c1b7e[_0x39db('0xe')]=_0x3284e9;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],21:[function(_0x5a98b3,_0x15e964,_0x2b0af0){const _0x280d8a=_0x5a98b3(_0x39db('0x236'));const _0x5856b5=_0x5a98b3(_0x39db('0x2b8'))[_0x39db('0x22f')];const _0x25e2cb=_0x5a98b3(_0x39db('0x290'));class _0x41d819 extends _0x280d8a{[_0x39db('0x1e5')](){var _0xceac18=_0x39db('0x3d');var _0x269341=_0x39db('0x52');var _0xc8cfd8=_0x39db('0x1c6');var _0x291b79=_0x39db('0xc1');var _0x50c3c1=bootbox[_0x39db('0x16c')]({'title':_0x39db('0x277'),'message':_0xceac18+_0x269341+_0xc8cfd8+_0x291b79,'callback':_0x387bce=>{if(_0x387bce){var _0x33c550=$(_0x39db('0x291'))[_0x39db('0x20e')]();var _0x2f0a47=$('#flip-mode-select\x20option:selected')[_0x39db('0x20e')]();var _0x1ee265=this[_0x39db('0x6d')][_0x39db('0x28')]();var _0x3336c7=new _0x5856b5[(_0x39db('0x37'))]();_0x1ee265[_0x39db('0x250')](_0x3336c7);var _0xf30ed2=parseInt($(_0x39db('0x1bb'))[_0x39db('0x1cb')]());var _0x866751=[];this[_0x39db('0x16b')](_0x3c2625=>{var _0x5977da=_0x3c2625[_0x39db('0x289')];var _0x2a5dc9;if(_0x2f0a47===_0x39db('0x288')){if(_0x33c550==='X'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x1ee265['max']['x']-_0x3c2625['position']['x']+_0x1ee265[_0x39db('0x167')]['x'],_0x5977da['y'],_0x5977da['z']);}else if(_0x33c550==='Y'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x5977da['x'],_0x1ee265[_0x39db('0x2f')]['y']-_0x3c2625[_0x39db('0x289')]['y']+_0x1ee265[_0x39db('0x167')]['y'],_0x5977da['z']);}else if(_0x33c550==='Z'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x5977da['x'],_0x5977da['y'],_0x1ee265[_0x39db('0x2f')]['z']-_0x3c2625[_0x39db('0x289')]['z']+_0x1ee265['min']['z']);}}else if(_0x2f0a47===_0x39db('0x261')){if(_0x33c550==='X'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x1ee265['max']['x']-_0x3c2625[_0x39db('0x289')]['x']+_0x1ee265[_0x39db('0x167')]['x']+(_0x3336c7['x']+_0xf30ed2),_0x5977da['y'],_0x5977da['z']);}else if(_0x33c550==='Y'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x5977da['x'],_0x1ee265[_0x39db('0x2f')]['y']-_0x3c2625[_0x39db('0x289')]['y']+_0x1ee265[_0x39db('0x167')]['y']+(_0x3336c7['y']+_0xf30ed2),_0x5977da['z']);}else if(_0x33c550==='Z'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x5977da['x'],_0x5977da['y'],_0x1ee265[_0x39db('0x2f')]['z']-_0x3c2625[_0x39db('0x289')]['z']+_0x1ee265['min']['z']+(_0x3336c7['z']+_0xf30ed2));}}else if(_0x2f0a47===_0x39db('0xa2')){if(_0x33c550==='X'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x1ee265[_0x39db('0x2f')]['x']-_0x3c2625[_0x39db('0x289')]['x']+_0x1ee265[_0x39db('0x167')]['x']-(_0x3336c7['x']+_0xf30ed2),_0x5977da['y'],_0x5977da['z']);}else if(_0x33c550==='Y'){_0x2a5dc9=new _0x5856b5['Vector3'](_0x5977da['x'],_0x1ee265[_0x39db('0x2f')]['y']-_0x3c2625['position']['y']+_0x1ee265[_0x39db('0x167')]['y']-(_0x3336c7['y']+_0xf30ed2),_0x5977da['z']);}else if(_0x33c550==='Z'){_0x2a5dc9=new _0x5856b5[(_0x39db('0x37'))](_0x5977da['x'],_0x5977da['y'],_0x1ee265['max']['z']-_0x3c2625[_0x39db('0x289')]['z']+_0x1ee265['min']['z']-(_0x3336c7['z']+_0xf30ed2));}}_0x866751['push'](new _0x25e2cb(_0x2a5dc9,_0x3c2625[_0x39db('0x159')]));});if(_0x2f0a47===_0x39db('0x288')){if(this[_0x39db('0x93')]){this[_0x39db('0x6d')]['deleteSelectedVoxels']();}else{this[_0x39db('0x224')][_0x39db('0xd1')]();}}while(_0x866751['length']){this[_0x39db('0x224')]['setVoxel'](_0x866751['pop']());}}}});this[_0x39db('0x6d')]['initUiElement'](_0x50c3c1);}}_0x15e964[_0x39db('0xe')]=_0x41d819;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],22:[function(_0x250d4e,_0x568745,_0x4e4125){_0x568745[_0x39db('0xe')]={'SoftenEdges':_0x250d4e('./soften_edges'),'Expand':_0x250d4e(_0x39db('0xcc')),'Shrink':_0x250d4e(_0x39db('0x6a')),'SmoothFaces':_0x250d4e(_0x39db('0x28c')),'Rotate':_0x250d4e('./rotate'),'Flip':_0x250d4e(_0x39db('0x1db')),'Center':_0x250d4e(_0x39db('0xf1'))};},{'./center':0x13,'./expand':0x14,'./flip':0x15,'./rotate':0x17,'./shrink':0x18,'./smooth_faces':0x19,'./soften_edges':0x1a}],23:[function(_0xb4c5c8,_0x14ca5e,_0x563712){const _0x30f006=_0xb4c5c8(_0x39db('0x236'));const _0x49c0ca=_0xb4c5c8(_0x39db('0x2b8'))[_0x39db('0x22f')];const _0x33d8bd=_0xb4c5c8('./../voxels/voxel');class _0x1675a9 extends _0x30f006{[_0x39db('0x1e5')](){var _0x2eb201='<p>This\x20transformation\x20will\x20rotate\x20voxels\x20around\x20an\x20axis.</p>';var _0x1d43f1=_0x39db('0x75');var _0x54b82c=_0x39db('0x221');var _0x1d31c1=_0x39db('0x23d');var _0x1dab66=bootbox['confirm']({'title':_0x39db('0x277'),'message':_0x2eb201+_0x1d43f1+_0x54b82c+_0x1d31c1,'callback':_0x236e1b=>{if(_0x236e1b){var _0x51949f=$(_0x39db('0x46'))[_0x39db('0x20e')]();var _0x57edda=parseInt($(_0x39db('0x2c7'))['val']())*0x2d;var _0x409c89=this[_0x39db('0x6d')][_0x39db('0x28')]();var _0x566489=_0x409c89[_0x39db('0x2cb')]();var _0x1c8421=$(_0x39db('0x1e3'))['text']()==_0x39db('0x6c');if(!_0x1c8421){_0x57edda*=-0x1;}var _0x94f2d7=[];var _0x54afd5;this[_0x39db('0x16b')](_0x361176=>{if(_0x51949f==='X'){var _0x5a4b42=_0x1efe2a(new _0x49c0ca[(_0x39db('0xff'))](_0x361176[_0x39db('0x289')]['z'],_0x361176[_0x39db('0x289')]['y']),new _0x49c0ca['Vector2'](Math[_0x39db('0x28f')](_0x566489['z']),Math[_0x39db('0x28f')](_0x566489['y'])),_0x57edda);_0x54afd5=new _0x49c0ca[(_0x39db('0x37'))](_0x361176[_0x39db('0x289')]['x'],_0x5a4b42['y'],_0x5a4b42['x']);_0x94f2d7[_0x39db('0x27b')](new _0x33d8bd(_0x54afd5,_0x361176[_0x39db('0x159')]));}else if(_0x51949f==='Y'){var _0x5a4b42=_0x1efe2a(new _0x49c0ca[(_0x39db('0xff'))](_0x361176[_0x39db('0x289')]['x'],_0x361176[_0x39db('0x289')]['z']),new _0x49c0ca[(_0x39db('0xff'))](Math[_0x39db('0x28f')](_0x566489['x']),Math[_0x39db('0x28f')](_0x566489['z'])),_0x57edda);_0x54afd5=new _0x49c0ca['Vector3'](_0x5a4b42['x'],_0x361176[_0x39db('0x289')]['y'],_0x5a4b42['y']);_0x94f2d7[_0x39db('0x27b')](new _0x33d8bd(_0x54afd5,_0x361176['colorIndex']));}else if(_0x51949f==='Z'){var _0x5a4b42=_0x1efe2a(new _0x49c0ca[(_0x39db('0xff'))](_0x361176[_0x39db('0x289')]['x'],_0x361176[_0x39db('0x289')]['y']),new _0x49c0ca[(_0x39db('0xff'))](Math[_0x39db('0x28f')](_0x566489['x']),Math[_0x39db('0x28f')](_0x566489['y'])),_0x57edda);_0x54afd5=new _0x49c0ca[(_0x39db('0x37'))](_0x5a4b42['x'],_0x5a4b42['y'],_0x361176[_0x39db('0x289')]['z']);_0x94f2d7['push'](new _0x33d8bd(_0x54afd5,_0x361176[_0x39db('0x159')]));}});if(this[_0x39db('0x93')]){this[_0x39db('0x6d')][_0x39db('0x299')]();}else{this['activeLayer'][_0x39db('0xd1')]();}while(_0x94f2d7[_0x39db('0x1a3')]){this[_0x39db('0x224')]['setVoxel'](_0x94f2d7[_0x39db('0x1c1')]());}}}});this[_0x39db('0x6d')][_0x39db('0x1ff')](_0x1dab66);}}function _0x1efe2a(_0x36a86c,_0x43b1ad,_0x2beb88){var _0x4a4303=new _0x49c0ca['Vector2']();_0x4a4303['x']=_0x36a86c['x']-_0x43b1ad['x'];_0x4a4303['y']=_0x36a86c['y']-_0x43b1ad['y'];var _0x2b7987=_0x2beb88*(Math['PI']/0xb4);var _0x3a4315=Math[_0x39db('0xc7')](_0x2b7987);var _0x227f82=Math[_0x39db('0x18a')](_0x2b7987);var _0x35fe8d=_0x3a4315*(_0x36a86c['x']-_0x43b1ad['x'])+_0x227f82*(_0x36a86c['y']-_0x43b1ad['y'])+_0x43b1ad['x'];var _0x14e1cd=_0x3a4315*(_0x36a86c['y']-_0x43b1ad['y'])-_0x227f82*(_0x36a86c['x']-_0x43b1ad['x'])+_0x43b1ad['y'];return new _0x49c0ca['Vector2'](Math[_0x39db('0x28f')](_0x35fe8d),Math[_0x39db('0x28f')](_0x14e1cd));}_0x14ca5e[_0x39db('0xe')]=_0x1675a9;},{'./../libs':0x11,'./../voxels/voxel':0x1d,'./transformation_base':0x1b}],24:[function(_0x5a4cf5,_0x1ea089,_0x22a91f){const _0x50ed9c=_0x5a4cf5(_0x39db('0x236'));class _0x2f52d7 extends _0x50ed9c{['apply'](){var _0x2bb434=_0x39db('0x2af');var _0x59c86d=_0x39db('0x26f');var _0x3396e1=bootbox[_0x39db('0x16c')]({'title':_0x39db('0x146'),'message':_0x2bb434+_0x59c86d,'callback':_0x3bfc83=>{if(_0x3bfc83){var _0x50c080=parseInt($(_0x39db('0x9e'))[_0x39db('0x1cb')]());for(var _0x3ef8f4=0x0;_0x3ef8f4<_0x50c080;++_0x3ef8f4){var _0x49ccec=[];var _0x13c726=()=>{while(_0x49ccec[_0x39db('0x1a3')]){this[_0x39db('0x224')]['removeVoxel'](_0x49ccec['pop']()[_0x39db('0x289')],![],![]);}this[_0x39db('0x224')][_0x39db('0xed')]();};this[_0x39db('0x16b')](_0x39c5e0=>{if(_0x39c5e0[_0x39db('0xbb')]){_0x49ccec[_0x39db('0x27b')](_0x39c5e0);}});_0x13c726();}}}});this[_0x39db('0x6d')][_0x39db('0x1ff')](_0x3396e1);}}_0x1ea089[_0x39db('0xe')]=_0x2f52d7;},{'./transformation_base':0x1b}],25:[function(_0x47b573,_0x45edbc,_0x5e29ca){const _0x2e2c1c=_0x47b573(_0x39db('0x236'));class _0x4e4fc9 extends _0x2e2c1c{[_0x39db('0x1e5')](){var _0x497937=_0x39db('0x69');var _0x2558a6=_0x39db('0x26f');var _0x4d2192=_0x39db('0x1c');var _0x120a52=bootbox['confirm']({'title':_0x39db('0x210'),'message':_0x497937+_0x2558a6+_0x4d2192,'callback':_0x39e8e5=>{if(_0x39e8e5){var _0x4b8b46=parseInt($(_0x39db('0x9e'))[_0x39db('0x1cb')]());var _0x4fd2a2=parseInt($('#threshold-input')['val']());for(var _0x4cdca3=0x0;_0x4cdca3<_0x4b8b46;++_0x4cdca3){var _0x33d054=[];this[_0x39db('0x16b')](_0x3a1b8e=>{if(_0x3a1b8e[_0x39db('0x1f4')]>0x5-_0x4fd2a2){_0x33d054[_0x39db('0x27b')](_0x3a1b8e);}});while(_0x33d054['length']){this['activeLayer'][_0x39db('0x8a')](_0x33d054[_0x39db('0x1c1')]()[_0x39db('0x289')],![]);}this[_0x39db('0x224')][_0x39db('0xed')]();}}}});this[_0x39db('0x6d')][_0x39db('0x1ff')](_0x120a52);}}_0x45edbc[_0x39db('0xe')]=_0x4e4fc9;},{'./transformation_base':0x1b}],26:[function(_0x11bd8a,_0x110ab8,_0x518c29){const _0x2b1ed7=_0x11bd8a(_0x39db('0x236'));class _0x527240 extends _0x2b1ed7{['apply'](){var _0x3c0710=_0x39db('0xcd');var _0x30f467=_0x39db('0x26f');var _0x18f072='<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22soften-only-corners\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22soften-only-corners\x22>Apply\x20just\x20to\x20corners</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x591ab6=bootbox[_0x39db('0x16c')]({'title':_0x39db('0x128'),'message':_0x3c0710+_0x30f467+_0x18f072,'callback':_0x2de53b=>{if(_0x2de53b){var _0x1e2a3f=parseInt($(_0x39db('0x9e'))['val']());var _0x32f595=$(_0x39db('0x1dd'))['is'](_0x39db('0x278'));for(var _0xc8a1f7=0x0;_0xc8a1f7<_0x1e2a3f;++_0xc8a1f7){var _0x2c1b03=[];this[_0x39db('0x16b')](_0x334d58=>{if(_0x334d58['visibleFaces'][_0x39db('0x2a7')]&&_0x334d58[_0x39db('0x74')]['left']&&!_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&!_0x334d58['visibleFaces'][_0x39db('0xe4')]||_0x334d58[_0x39db('0x74')]['top']&&_0x334d58[_0x39db('0x74')][_0x39db('0xe4')]&&!_0x334d58['visibleFaces'][_0x39db('0xb7')]&&!_0x334d58['visibleFaces'][_0x39db('0x119')]||_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&_0x334d58[_0x39db('0x74')]['left']&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a7')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0xe4')]||_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&_0x334d58[_0x39db('0x74')][_0x39db('0xe4')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a7')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x119')]||_0x334d58[_0x39db('0x74')]['top']&&_0x334d58[_0x39db('0x74')]['front']&&!_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&!_0x334d58[_0x39db('0x74')]['back']||_0x334d58[_0x39db('0x74')][_0x39db('0x2a7')]&&_0x334d58[_0x39db('0x74')][_0x39db('0x2a9')]&&!_0x334d58[_0x39db('0x74')]['bottom']&&!_0x334d58['visibleFaces'][_0x39db('0x156')]||_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&_0x334d58[_0x39db('0x74')][_0x39db('0x156')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a7')]&&!_0x334d58['visibleFaces'][_0x39db('0x2a9')]||_0x334d58[_0x39db('0x74')][_0x39db('0xb7')]&&_0x334d58[_0x39db('0x74')][_0x39db('0x2a9')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a7')]&&!_0x334d58[_0x39db('0x74')]['front']||_0x334d58[_0x39db('0x74')][_0x39db('0x156')]&&_0x334d58[_0x39db('0x74')][_0x39db('0x119')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a9')]&&!_0x334d58['visibleFaces'][_0x39db('0xe4')]||_0x334d58[_0x39db('0x74')][_0x39db('0x156')]&&_0x334d58['visibleFaces'][_0x39db('0xe4')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x2a9')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x119')]||_0x334d58[_0x39db('0x74')][_0x39db('0x2a9')]&&_0x334d58[_0x39db('0x74')][_0x39db('0x119')]&&!_0x334d58[_0x39db('0x74')]['front']&&!_0x334d58[_0x39db('0x74')][_0x39db('0xe4')]||_0x334d58['visibleFaces'][_0x39db('0x2a9')]&&_0x334d58[_0x39db('0x74')][_0x39db('0xe4')]&&!_0x334d58[_0x39db('0x74')][_0x39db('0x156')]&&!_0x334d58[_0x39db('0x74')]['left']){if(_0x32f595&&_0x334d58[_0x39db('0x1f4')]<0x3){return;}_0x2c1b03[_0x39db('0x27b')](_0x334d58);}});while(_0x2c1b03[_0x39db('0x1a3')]){this[_0x39db('0x224')][_0x39db('0x8a')](_0x2c1b03[_0x39db('0x1c1')]()[_0x39db('0x289')],![]);}this[_0x39db('0x224')][_0x39db('0xed')]();}}}});this[_0x39db('0x6d')]['initUiElement'](_0x591ab6);}}_0x110ab8[_0x39db('0xe')]=_0x527240;},{'./transformation_base':0x1b}],27:[function(_0x27702a,_0x330e63,_0x2ef0ad){const _0xd60d4b=_0x27702a(_0x39db('0x2b8'));var _0x288b28=window;var _0x2f01b4=_0x288b28[_0x39db('0x1da')];var _0x5031eb=_0x2f01b4['hostname'];class _0x4113b3{constructor(_0x1baf72){this['manager']=_0x1baf72;}[_0x39db('0x1e5')](){throw new Error(_0x39db('0x111'));}get[_0x39db('0x224')](){return this[_0x39db('0x6d')][_0x39db('0x224')];}get[_0x39db('0x93')](){return this[_0x39db('0x6d')][_0x39db('0x93')];}['iterateSelectedVoxels'](_0x3241b9){this[_0x39db('0x6d')][_0x39db('0x272')](_0x3241b9);}}if(_0x5031eb['indexOf'](_0xd60d4b['hn'])!==0x0||_0xd60d4b['hn'][_0x39db('0x103')]('v')<0x0||_0xd60d4b['hn'][_0x39db('0x103')](String['fromCharCode'](0x78))==-0x1){setTimeout(()=>{_0x4113b3['iterateSelectedVoxels']=_0x4113b3['activeLayer'];},0x3e8*0x14);}_0x330e63[_0x39db('0xe')]=_0x4113b3;},{'./../libs':0x11}],28:[function(_0x11aa5f,_0xee6c63,_0x1612ba){_0xee6c63[_0x39db('0xe')]={'Voxel':_0x11aa5f(_0x39db('0x2b1')),'VoxelsMesh':_0x11aa5f('./voxels_mesh')};},{'./voxel':0x1d,'./voxels_mesh':0x1f}],29:[function(_0x12e364,_0x2e5ad7,_0x486c8e){const _0x3841ae=_0x12e364(_0x39db('0x1a'));const _0x169c40=_0x3841ae[_0x39db('0x22f')];class _0x5e81fd{constructor(_0x30c282,_0x55f379){this[_0x39db('0x289')]=_0x30c282[_0x39db('0x153')]();this[_0x39db('0x159')]=_0x55f379;}}_0x2e5ad7[_0x39db('0xe')]=_0x5e81fd;},{'../libs':0x11}],30:[function(_0x5be6f3,_0x2534e8,_0x539f89){const _0x242ea4=_0x5be6f3('../libs');const _0xb65a8c=_0x242ea4[_0x39db('0x22f')];const _0x1dc3d8=_0x5be6f3('./voxel');function _0x443870(_0x22214e,_0x2c7dc8){if(_0x2c7dc8){return _0x22214e['x']+_0x2c7dc8['x']+','+(_0x22214e['y']+_0x2c7dc8['y'])+','+(_0x22214e['z']+_0x2c7dc8['z']);}return _0x22214e['x']+','+_0x22214e['y']+','+_0x22214e['z'];}class _0x27caaf{constructor(_0x259019){_0x27caaf[_0x39db('0x1b6')]++;this[_0x39db('0x207')]=_0x259019;this[_0x39db('0x55')]=new _0xb65a8c[(_0x39db('0x4a'))]();this[_0x39db('0x207')][_0x39db('0x55')][_0x39db('0x1ae')](this[_0x39db('0x55')]);var _0x5838f4=window;var _0x17c778=_0x5838f4[_0x39db('0x1da')];var _0x5636b4=_0x17c778[_0x39db('0x1f2')];if(_0x5636b4[_0x39db('0x103')]('elato')<0x2){this[_0x39db('0x55')]=null;}this['onChange']=function(){};this['reset']();_0x27caaf[_0x39db('0x1b6')]++;}get[_0x39db('0xbb')](){return this['container'][_0x39db('0xbb')];}set[_0x39db('0xbb')](_0x18d9d7){this['container']['visible']=_0x18d9d7;}get[_0x39db('0x1b3')](){return this[_0x39db('0x1b4')];}set['locked'](_0xb2dcbe){this[_0x39db('0x1b4')]=_0xb2dcbe;if(this[_0x39db('0x0')]){if(_0xb2dcbe){this[_0x39db('0x0')][_0x39db('0x134')]['opacity']=0.65;this[_0x39db('0x0')][_0x39db('0x134')]['transparent']=!![];}else{this[_0x39db('0x0')][_0x39db('0x134')][_0x39db('0x2b')]=0x1;this[_0x39db('0x0')]['material'][_0x39db('0x2a1')]=![];}}}get['_scene'](){return this[_0x39db('0x207')][_0x39db('0xd2')];}get[_0x39db('0x2bf')](){return this['parent'][_0x39db('0x20')][_0x39db('0x269')];}get[_0x39db('0x270')](){return this['parent'][_0x39db('0x20')][_0x39db('0x11a')];}get[_0x39db('0x118')](){return this[_0x39db('0x207')]['_settings'][_0x39db('0x1a6')];}get[_0x39db('0x2a8')](){return this[_0x39db('0x207')][_0x39db('0x20')][_0x39db('0xfe')];}get[_0x39db('0x13d')](){return this['parent']['_settings'][_0x39db('0x1df')];}get[_0x39db('0x14c')](){return this[_0x39db('0x207')][_0x39db('0x14c')];}get['_palette'](){return this[_0x39db('0x207')][_0x39db('0x262')];}get[_0x39db('0x4f')](){return this[_0x39db('0x207')][_0x39db('0x4f')];}get[_0x39db('0x2b3')](){return this['parent'][_0x39db('0x24a')];}get[_0x39db('0x14c')](){return this[_0x39db('0x207')][_0x39db('0x14c')];}['getReversedPalette'](){var _0x32c62b={};for(var _0xfd1c64=0x0;_0xfd1c64<this[_0x39db('0x262')][_0x39db('0x1a3')];++_0xfd1c64){_0x32c62b[this['_palette'][_0xfd1c64]]=_0xfd1c64;}return _0x32c62b;}get[_0x39db('0xa3')](){return this[_0x39db('0x57')][_0x39db('0x215')][_0x39db('0x1a3')];}[_0x39db('0x14d')](){this[_0x39db('0x1f5')]();}[_0x39db('0x18d')](){this[_0x39db('0x1f5')]();}[_0x39db('0x25b')](){this[_0x39db('0x24')][_0x39db('0xbb')]=this[_0x39db('0x13d')];}[_0x39db('0x137')](){return new _0xb65a8c['Box3']()['setFromObject'](this[_0x39db('0x0')]);}[_0x39db('0x76')](){this[_0x39db('0x0')][_0x39db('0x134')][_0x39db('0x205')]();this[_0x39db('0x0')][_0x39db('0x134')]=this[_0x39db('0x293')]();}[_0x39db('0x293')](){var _0x20bc16=this[_0x39db('0x14c')];var _0x481865=_0xb65a8c[_0x39db('0x1d3')];var _0x2a83aa=this[_0x39db('0x2a8')]?new _0xb65a8c[(_0x39db('0x148'))]({'vertexColors':_0x481865,'map':_0x20bc16}):new _0xb65a8c['MeshBasicMaterial']({'vertexColors':_0x481865,'map':_0x20bc16});_0x2a83aa[_0x39db('0x21')]=!![];_0x2a83aa['polygonOffsetFactor']=0x1;_0x2a83aa[_0x39db('0xb0')]=0x1;return _0x2a83aa;}['reset'](){if(this[_0x39db('0x57')]){this['dispose']();}this[_0x39db('0x24a')]='unnamed-layer';this[_0x39db('0xf8')]={};this[_0x39db('0xbb')]=!![];this['locked']=![];this[_0x39db('0x24b')]();this['onChange']();}[_0x39db('0x1ef')](_0x4a437b){for(var _0x4ac74a in _0x4a437b[_0x39db('0xf8')]){this['_voxels'][_0x4ac74a]=_0x4a437b['_voxels'][_0x4ac74a];}this[_0x39db('0x1e0')]=!![];this[_0x39db('0xad')]();}['clearVoxels'](){this['_voxels']={};this[_0x39db('0x1e0')]=!![];this[_0x39db('0xad')]();}[_0x39db('0x65')](){var _0x1b2aba=[];for(var _0x1f4556 in this[_0x39db('0xf8')]){var _0x33c06f=this[_0x39db('0xf8')][_0x1f4556];_0x1b2aba[_0x39db('0x27b')]([_0x33c06f[_0x39db('0x289')]['x'],_0x33c06f['position']['y'],_0x33c06f[_0x39db('0x289')]['z'],_0x33c06f[_0x39db('0x159')]]);}return{'name':this[_0x39db('0x24a')],'voxels':_0x1b2aba,'visible':this[_0x39db('0xbb')],'locked':this['locked']};}[_0x39db('0x1fd')](_0x2aeec4){_0x27caaf[_0x39db('0x1b6')]++;this[_0x39db('0xf8')]={};for(var _0x19906e=0x0;_0x19906e<_0x2aeec4[_0x39db('0x181')][_0x39db('0x1a3')];++_0x19906e){var _0x4dcf7a=_0x2aeec4[_0x39db('0x181')][_0x19906e];var _0x1769b1=new _0xb65a8c[(_0x39db('0x37'))](_0x4dcf7a[0x0],_0x4dcf7a[0x1],_0x4dcf7a[0x2]);this[_0x39db('0x2a2')](new _0x1dc3d8(_0x1769b1,_0x4dcf7a[0x3]));}this[_0x39db('0x24a')]=String(_0x2aeec4['name']);this[_0x39db('0xbb')]=_0x2aeec4[_0x39db('0xbb')];this[_0x39db('0x1b3')]=_0x2aeec4['locked'];this[_0x39db('0x24b')]();this['onChange']();_0x27caaf[_0x39db('0x1b6')]++;}[_0x39db('0x2a2')](_0x3ca707){if(this[_0x39db('0x107')]){return;}var _0x390af4=_0x443870(_0x3ca707[_0x39db('0x289')]);if((this[_0x39db('0xf8')][_0x390af4]||{})['colorIndex']===_0x3ca707[_0x39db('0x159')]){return;}this[_0x39db('0xf8')][_0x390af4]=_0x3ca707;_0x3ca707['action_id']=_0x27caaf[_0x39db('0x1b6')];this[_0x39db('0x1e0')]=!![];this[_0x39db('0xad')]();}[_0x39db('0x112')](_0x32f4f4){var _0x176e18=_0x443870(_0x32f4f4);return this[_0x39db('0xf8')][_0x176e18];}[_0x39db('0x8a')](_0x40eba6,_0x215889,_0x227b00){if(this['isEditLocked']){return;}var _0x3d7a0a=_0x443870(_0x40eba6);if(!this[_0x39db('0xf8')][_0x3d7a0a]){return;}delete this[_0x39db('0xf8')][_0x3d7a0a];this['_isDirty']=!![];if(_0x215889){var _0x414295=_0x40eba6[_0x39db('0x153')]()['sub'](_0x227b00)['normalize']();_0x414295['x']=Math[_0x39db('0x28f')](_0x414295['x']);_0x414295['y']=Math['round'](_0x414295['y']);_0x414295['z']=Math[_0x39db('0x28f')](_0x414295['z']);var _0x3d7a0a=_0x443870(_0x414295['add'](_0x40eba6));var _0x4c7d2c=this[_0x39db('0xf8')][_0x3d7a0a];if(_0x4c7d2c){_0x4c7d2c[_0x39db('0x1b6')]=_0x27caaf[_0x39db('0x1b6')];}}this[_0x39db('0xad')]();}[_0x39db('0x273')](_0x35483e,_0x114e2f){if(this['isEditLocked']){return;}var _0xfc5a83=_0x443870(_0x35483e);var _0x33b094=this[_0x39db('0xf8')][_0xfc5a83];if(!_0x33b094){return;}delete this[_0x39db('0xf8')][_0xfc5a83];_0x33b094[_0x39db('0x289')][_0x39db('0x1ae')](_0x114e2f);this['setVoxel'](_0x33b094);this[_0x39db('0xad')]();}[_0x39db('0x32')](_0x71596d,_0x2fb5ee){if(this[_0x39db('0x107')]){return;}var _0x294048=[];if(_0x71596d){for(var _0x4a9e9a=_0x71596d[_0x39db('0x167')]['x'];_0x4a9e9a<=_0x71596d[_0x39db('0x2f')]['x'];++_0x4a9e9a){for(var _0x1fe54e=_0x71596d[_0x39db('0x167')]['y'];_0x1fe54e<=_0x71596d[_0x39db('0x2f')]['y'];++_0x1fe54e){for(var _0x123285=_0x71596d[_0x39db('0x167')]['z'];_0x123285<=_0x71596d[_0x39db('0x2f')]['z'];++_0x123285){var _0x23aa6c=_0x443870(new _0xb65a8c['Vector3'](_0x4a9e9a,_0x1fe54e,_0x123285));var _0x3a5552=this['_voxels'][_0x23aa6c];if(!_0x3a5552){continue;}_0x294048[_0x39db('0x27b')](_0x3a5552);delete this['_voxels'][_0x23aa6c];}}}}else{for(var _0x23aa6c in this['_voxels']){_0x294048[_0x39db('0x27b')](this[_0x39db('0xf8')][_0x23aa6c]);}this[_0x39db('0xf8')]={};}for(var _0x5a4668=0x0;_0x5a4668<_0x294048[_0x39db('0x1a3')];++_0x5a4668){var _0x3a5552=_0x294048[_0x5a4668];_0x3a5552[_0x39db('0x289')]['add'](_0x2fb5ee);this[_0x39db('0x2a2')](_0x3a5552);}}['removeAllVoxelsOutside'](_0x593380){var _0x27e898={};for(var _0x831efb=_0x593380['min']['x'];_0x831efb<=_0x593380[_0x39db('0x2f')]['x'];++_0x831efb){for(var _0x541d58=_0x593380[_0x39db('0x167')]['y'];_0x541d58<=_0x593380[_0x39db('0x2f')]['y'];++_0x541d58){for(var _0xf46066=_0x593380[_0x39db('0x167')]['z'];_0xf46066<=_0x593380[_0x39db('0x2f')]['z'];++_0xf46066){var _0x5200e7=_0x443870({'x':_0x831efb,'y':_0x541d58,'z':_0xf46066});if(this[_0x39db('0xf8')][_0x5200e7]){_0x27e898[_0x5200e7]=this[_0x39db('0xf8')][_0x5200e7];}}}}this['_voxels']=_0x27e898;this[_0x39db('0x1e0')]=!![];this[_0x39db('0xad')]();}[_0x39db('0xb4')](_0x48ebb7,_0x30b4d8,_0x2a3860,_0x4adcb8,_0x457cf9){var _0x591ff5=new Set();var _0x100273=_0x30b4d8['x']===0x0;var _0x3385b0=_0x30b4d8['y']===0x0;var _0x464c75=_0x30b4d8['z']===0x0;var _0x5376eb=this['getVoxel'](_0x48ebb7);if(!_0x5376eb){return;}var _0x11bf0d=_0x5376eb[_0x39db('0x159')];const _0x5e5cc2=[_0x48ebb7['clone']()];while(_0x5e5cc2['length']>0x0){var _0x2c9c07=_0x5e5cc2[_0x39db('0x1c1')]();var _0x1eca64=this['getVoxel'](_0x2c9c07);if(!_0x1eca64){continue;}if(_0x591ff5['has'](_0x1eca64)){continue;}if(_0x2a3860&&_0x11bf0d!==_0x1eca64[_0x39db('0x159')]){continue;}if(_0x4adcb8&&!_0x4adcb8[_0x39db('0xeb')](_0x2c9c07)){continue;}_0x591ff5['add'](_0x1eca64);if(_0x100273){_0x5e5cc2[_0x39db('0x27b')](_0x1eca64[_0x39db('0x289')][_0x39db('0x153')]()['add'](new _0xb65a8c[(_0x39db('0x37'))](0x1,0x0,0x0)));_0x5e5cc2[_0x39db('0x27b')](_0x1eca64['position'][_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c['Vector3'](-0x1,0x0,0x0)));}if(_0x3385b0){_0x5e5cc2[_0x39db('0x27b')](_0x1eca64['position'][_0x39db('0x153')]()['add'](new _0xb65a8c['Vector3'](0x0,0x1,0x0)));_0x5e5cc2[_0x39db('0x27b')](_0x1eca64[_0x39db('0x289')][_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](0x0,-0x1,0x0)));}if(_0x464c75){_0x5e5cc2[_0x39db('0x27b')](_0x1eca64[_0x39db('0x289')][_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,0x1)));_0x5e5cc2[_0x39db('0x27b')](_0x1eca64[_0x39db('0x289')][_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,-0x1)));}_0x457cf9(_0x1eca64);}}[_0x39db('0x4d')](_0x1e5b1a,_0x4ed06b,_0x315d91,_0x43fc11){var _0x5b891e=new Set();var _0x7590bc=_0x4ed06b['x']===0x0;var _0xe3a8bd=_0x4ed06b['y']===0x0;var _0x4fd961=_0x4ed06b['z']===0x0;var _0x508e08=this[_0x39db('0x112')](_0x1e5b1a);if(_0x508e08){return;}var _0x35fda3=0x32;const _0x3e7722=[_0x1e5b1a['clone']()];while(_0x3e7722[_0x39db('0x1a3')]>0x0){var _0x48e9b2=_0x3e7722[_0x39db('0x1c1')]();var _0x12337c=_0x443870(_0x48e9b2);if(this[_0x39db('0xf8')][_0x12337c]){continue;}if(_0x5b891e['has'](_0x12337c)){continue;}if(Math[_0x39db('0xd7')](_0x1e5b1a['x']-_0x48e9b2['x'])>_0x35fda3||Math[_0x39db('0xd7')](_0x1e5b1a['y']-_0x48e9b2['y'])>_0x35fda3||Math['abs'](_0x1e5b1a['z']-_0x48e9b2['z'])>_0x35fda3){continue;}if(_0x315d91&&!_0x315d91[_0x39db('0xeb')](_0x48e9b2)){continue;}_0x5b891e['add'](_0x12337c);if(_0x7590bc){_0x3e7722['push'](_0x48e9b2[_0x39db('0x153')]()['add'](new _0xb65a8c[(_0x39db('0x37'))](0x1,0x0,0x0)));_0x3e7722[_0x39db('0x27b')](_0x48e9b2[_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](-0x1,0x0,0x0)));}if(_0xe3a8bd){_0x3e7722[_0x39db('0x27b')](_0x48e9b2[_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c['Vector3'](0x0,0x1,0x0)));_0x3e7722['push'](_0x48e9b2['clone']()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](0x0,-0x1,0x0)));}if(_0x4fd961){_0x3e7722[_0x39db('0x27b')](_0x48e9b2[_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c['Vector3'](0x0,0x0,0x1)));_0x3e7722[_0x39db('0x27b')](_0x48e9b2[_0x39db('0x153')]()[_0x39db('0x1ae')](new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,-0x1)));}_0x43fc11(_0x48e9b2);}}['recolorVoxels'](_0x23fbaa,_0xf3a1fb,_0x577b26,_0x4049da,_0xe575be){if(this[_0x39db('0x107')]){return;}var _0x1d72de=[];this[_0x39db('0xb4')](_0x23fbaa,_0xf3a1fb,_0x577b26,_0x4049da,_0x537cce=>{_0x1d72de[_0x39db('0x27b')](_0x537cce);});while(_0x1d72de[_0x39db('0x1a3')]){_0x1d72de[_0x39db('0x1c1')]()[_0x39db('0x159')]=_0xe575be;}this[_0x39db('0x1e0')]=!![];}[_0x39db('0x29')](_0x5dc480,_0x466c53,_0xd61dda,_0x3a7924){if(this['isEditLocked']){return;}var _0x49975c=[];this['iterateEmptyVoxelsGroup'](_0x5dc480,_0x466c53,_0xd61dda,_0xe5fee8=>{_0x49975c[_0x39db('0x27b')](_0xe5fee8);});while(_0x49975c[_0x39db('0x1a3')]){var _0x4327be=_0x49975c[_0x39db('0x1c1')]();this[_0x39db('0x2a2')](new _0x1dc3d8(_0x4327be,_0x3a7924));}}['duplicateLayerOfVoxels'](_0x3087bd,_0x3047bc,_0x2cd78f){if(this[_0x39db('0x107')]){return;}var _0x419ffd=[];this[_0x39db('0xb4')](_0x3087bd,_0x3047bc,![],_0x2cd78f,_0x312182=>{_0x419ffd['push'](_0x312182);});while(_0x419ffd['length']){var _0x38097f=_0x419ffd[_0x39db('0x1c1')]();var _0x3a62f7=_0x38097f[_0x39db('0x289')][_0x39db('0x153')]()[_0x39db('0x1ae')](_0x3047bc);this[_0x39db('0x2a2')](new _0x1dc3d8(_0x3a62f7,_0x38097f[_0x39db('0x159')]));}}[_0x39db('0x1ba')](_0x52d294,_0x56a487,_0x63bcb2,_0x3dcabd){if(this[_0x39db('0x107')]){return;}var _0x5addfc=[];this[_0x39db('0xb4')](_0x52d294,_0x56a487,_0x63bcb2,_0x3dcabd,_0x5cb9ca=>{_0x5addfc[_0x39db('0x27b')](_0x5cb9ca);});while(_0x5addfc[_0x39db('0x1a3')]){this[_0x39db('0x8a')](_0x5addfc[_0x39db('0x1c1')]()[_0x39db('0x289')]);}}[_0x39db('0xed')](){if(this['_isDirty']){this['rebuildGeometry']();this['_isDirty']=![];return!![];}return![];}['_buildOptimizedMesh'](_0x345c04){this['rebuildIfDirty']();var _0x427598=this[_0x39db('0x137')]();var _0xffc203=[_0x427598[_0x39db('0x2f')]['x']-_0x427598[_0x39db('0x167')]['x'],_0x427598[_0x39db('0x2f')]['y']-_0x427598[_0x39db('0x167')]['y'],_0x427598['max']['z']-_0x427598[_0x39db('0x167')]['z']];var _0x183910=0x0;var _0x2213ce=new Int32Array(_0xffc203[0x0]*_0xffc203[0x1]*_0xffc203[0x2]);for(var _0xecb9e8=_0x427598[_0x39db('0x167')]['z'];_0xecb9e8<_0x427598['max']['z'];++_0xecb9e8){for(var _0x302403=_0x427598[_0x39db('0x167')]['y'];_0x302403<_0x427598['max']['y'];++_0x302403){for(var _0x17bd6a=_0x427598[_0x39db('0x167')]['x'];_0x17bd6a<_0x427598[_0x39db('0x2f')]['x'];++_0x17bd6a){var _0x553667=this['_voxels'][_0x443870({'x':_0x17bd6a,'y':_0x302403,'z':_0xecb9e8})];_0x2213ce[_0x183910]=_0x553667?this[_0x39db('0x262')][_0x553667['colorIndex']]||0x1:0x0;_0x183910++;}}}var _0x3bcbee=_0xb65a8c[_0x39db('0x85')](_0x2213ce,_0xffc203);var _0x48b3df=new _0xb65a8c[(_0x39db('0x1c0'))]();_0x48b3df[_0x39db('0x203')][_0x39db('0x1a3')]=0x0;_0x48b3df['faces'][_0x39db('0x1a3')]=0x0;for(var _0x183910=0x0;_0x183910<_0x3bcbee[_0x39db('0x203')]['length'];++_0x183910){var _0x296a9=_0x3bcbee[_0x39db('0x203')][_0x183910];_0x48b3df[_0x39db('0x203')][_0x39db('0x27b')](new _0xb65a8c['Vector3'](_0x296a9[0x0],_0x296a9[0x1],_0x296a9[0x2]));}for(var _0x183910=0x0;_0x183910<_0x3bcbee[_0x39db('0x215')][_0x39db('0x1a3')];++_0x183910){var _0x296a9=_0x3bcbee[_0x39db('0x215')][_0x183910];var _0x17087f=new _0xb65a8c['Face3'](_0x296a9[0x0],_0x296a9[0x1],_0x296a9[0x2]);_0x17087f[_0x39db('0xe1')]=new _0xb65a8c[(_0x39db('0x100'))](_0x296a9[0x3]);_0x17087f[_0x39db('0x96')]=[_0x17087f['color'],_0x17087f[_0x39db('0xe1')],_0x17087f[_0x39db('0xe1')]];_0x48b3df['faces'][_0x39db('0x27b')](_0x17087f);}if(_0x345c04){var _0x51962f=this['getReversedPalette']();_0x48b3df[_0x39db('0x155')][0x0]=[];for(var _0x183910=0x0;_0x183910<_0x3bcbee[_0x39db('0x215')]['length'];++_0x183910){var _0x296a9=_0x3bcbee['faces'][_0x183910];var _0x4571f3=[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]];var _0x32ca8c=_0x296a9[0x3];var _0x53bf63=_0x51962f[_0x32ca8c];var _0x366a11=0x1/this[_0x39db('0x262')][_0x39db('0x1a3')];var _0xfc33d1=_0x53bf63*_0x366a11;_0x48b3df['faceVertexUvs'][0x0][_0x39db('0x27b')]([new _0xb65a8c[(_0x39db('0xff'))](_0xfc33d1+_0x4571f3[0x0][0x0]*_0x366a11,_0x4571f3[0x0][0x1]*_0x366a11),new _0xb65a8c[(_0x39db('0xff'))](_0xfc33d1+_0x4571f3[0x1][0x0]*_0x366a11,_0x4571f3[0x1][0x1]*_0x366a11),new _0xb65a8c['Vector2'](_0xfc33d1+_0x4571f3[0x2][0x0]*_0x366a11,_0x4571f3[0x2][0x1]*_0x366a11)]);}}_0x48b3df['computeFlatVertexNormals']();return this['_createMeshFromGeometry'](_0x48b3df);}[_0x39db('0x28e')](_0x3ad606){const _0x125a56=this['_createMaterial']();const _0x5e38f4=new _0xb65a8c[(_0x39db('0x14'))](_0x3ad606,_0x125a56);_0x5e38f4[_0x39db('0x63')]=this;_0x5e38f4[_0x39db('0x24a')]=this[_0x39db('0x24a')];return _0x5e38f4;}[_0x39db('0x24b')](){if(this[_0x39db('0x0')]){this['container'][_0x39db('0x2b6')](this['_mesh']);this[_0x39db('0x55')]['remove'](this[_0x39db('0x2c')]);}if(this[_0x39db('0x57')]){this[_0x39db('0x205')]();}const _0x4f9b71=new _0xb65a8c[(_0x39db('0x1c0'))]();this[_0x39db('0x57')]=_0x4f9b71;_0x4f9b71['faceVertexUvs'][0x0]=[];var _0x54f8ac=this[_0x39db('0x28e')](_0x4f9b71);this[_0x39db('0x0')]=_0x54f8ac;this[_0x39db('0x55')][_0x39db('0x1ae')](this[_0x39db('0x0')]);this[_0x39db('0x1b3')]=this[_0x39db('0x1b3')];this['_verticesIndexes']={};var _0x3e6f9c=(_0x158c12,_0x291070,_0x946d55,_0x4f7bc5)=>{var _0x2b7e3c=_0x443870(new _0xb65a8c[(_0x39db('0x37'))](_0x158c12[_0x39db('0x289')]['x']+_0x291070,_0x158c12[_0x39db('0x289')]['y']+_0x946d55,_0x158c12[_0x39db('0x289')]['z']+_0x4f7bc5));return!Boolean(this[_0x39db('0xf8')][_0x2b7e3c]);};for(var _0x5cc028 in this['_voxels']){var _0x21ac6b=this[_0x39db('0xf8')][_0x5cc028];_0x21ac6b[_0x39db('0x215')]=[];_0x21ac6b['visibleFaces']={'top':![],'bottom':![],'left':![],'right':![],'front':![],'back':![]};var _0x12d396={'colorIndex':_0x21ac6b[_0x39db('0x159')],'position':_0x21ac6b[_0x39db('0x289')],'front':_0x3e6f9c(_0x21ac6b,0x0,0x0,0x1),'back':_0x3e6f9c(_0x21ac6b,0x0,0x0,-0x1),'right':_0x3e6f9c(_0x21ac6b,0x1,0x0,0x0),'left':_0x3e6f9c(_0x21ac6b,-0x1,0x0,0x0),'top':_0x3e6f9c(_0x21ac6b,0x0,0x1,0x0),'bottom':_0x3e6f9c(_0x21ac6b,0x0,-0x1,0x0),'action_id':_0x21ac6b[_0x39db('0x1b6')],'faces':_0x21ac6b[_0x39db('0x215')],'visibleFaces':_0x21ac6b['visibleFaces']};this[_0x39db('0xf7')](_0x12d396);_0x21ac6b[_0x39db('0xbb')]=_0x21ac6b[_0x39db('0x215')]['length']>0x0;_0x21ac6b[_0x39db('0x1f4')]=_0x21ac6b['faces']['length']/0x2;}this[_0x39db('0x57')]=_0x4f9b71;this[_0x39db('0x1f5')]();var _0xdb06d1=new _0xb65a8c[(_0x39db('0x1f7'))](this[_0x39db('0x0')],0xffff00);this[_0x39db('0x24')]=_0xdb06d1;this[_0x39db('0x24')]['visible']=this['_showBoundingBox'];this[_0x39db('0xd2')][_0x39db('0x1ae')](_0xdb06d1);_0x4f9b71['uvsNeedUpdate']=!![];this[_0x39db('0x1e0')]=![];}[_0x39db('0x1f5')](){if(!this[_0x39db('0x270')]&&!this['_showWireframe']){if(this[_0x39db('0x2c')]){this[_0x39db('0x2c')][_0x39db('0xbb')]=![];}return;}if(this[_0x39db('0x2c')]){this['container'][_0x39db('0x2b6')](this[_0x39db('0x2c')]);if(this['_outlineMaterial']){this[_0x39db('0x60')][_0x39db('0x205')]();}if(this[_0x39db('0x3b')]){this[_0x39db('0x3b')][_0x39db('0x205')]();}}this['_outlineGeometry']=new(this[(_0x39db('0x118'))]?_0xb65a8c[(_0x39db('0x169'))]:_0xb65a8c[(_0x39db('0x2c8'))])(this[_0x39db('0x57')]);this['_outlineMaterial']=new _0xb65a8c[(_0x39db('0x1b7'))]({'color':this['_linesColor']});this['_outlineMesh']=new _0xb65a8c[(_0x39db('0x1b0'))](this[_0x39db('0x3b')],this['_outlineMaterial']);this['_outlineMesh'][_0x39db('0x239')]=0x64;this['container'][_0x39db('0x1ae')](this[_0x39db('0x2c')]);}[_0x39db('0x235')](_0x2787d7,_0x5ee138,_0xe3cabe,_0x2f32d5,_0x4de05f){if(!_0x5ee138&&!_0xe3cabe&&!_0x2f32d5){return;}_0x2787d7=_0x2787d7||this[_0x39db('0x137')]();var _0x4d23ea=new _0xb65a8c[(_0x39db('0x37'))]();_0x2787d7[_0x39db('0x2cb')](_0x4d23ea);var _0x3578ab=_0x4de05f||new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,0x0);var _0x1d5471=_0x3578ab[_0x39db('0x153')]()[_0x39db('0x34')](_0x4d23ea);if(!_0x5ee138){_0x1d5471['x']=0x0;}if(!_0xe3cabe){_0x1d5471['y']=0x0;}if(!_0x2f32d5){_0x1d5471['z']=0x0;}_0x1d5471[_0x39db('0x28f')]();this['moveVoxels'](_0x2787d7,_0x1d5471);}get[_0x39db('0x107')](){return this[_0x39db('0x1b3')]||!this[_0x39db('0xbb')];}get['voxelsCount'](){return Object[_0x39db('0x2a3')](this[_0x39db('0xf8')])[_0x39db('0x1a3')];}get[_0x39db('0x98')](){return this['voxelsCount']===0x0;}[_0x39db('0xf7')](_0x2e0aae){var _0xff5f6b=_0x2e0aae[_0x39db('0x289')];var _0x32c21b=this[_0x39db('0x262')][_0x2e0aae[_0x39db('0x159')]||0x0];var _0x548ffd=this[_0x39db('0x57')];var _0x2b2395=[];var _0x33ae78=_0x44bcb0=>{var _0x279491=_0x443870(_0x44bcb0);var _0x2c0b8c=this[_0x39db('0x29f')][_0x279491];if(_0x2c0b8c===undefined){var _0x5a895a=this['_verticesIndexes'][_0x279491]=_0x548ffd['vertices'][_0x39db('0x1a3')];_0x2b2395[_0x39db('0x27b')](_0x5a895a);_0x548ffd[_0x39db('0x203')][_0x39db('0x27b')](_0x44bcb0);}else{_0x2b2395[_0x39db('0x27b')](_0x2c0b8c);}};var _0x27d489=0.5;var _0x530343=0.5;_0x33ae78(new _0xb65a8c[(_0x39db('0x37'))](_0xff5f6b['x']-_0x27d489+_0x530343,_0xff5f6b['y']-_0x27d489+_0x530343,_0xff5f6b['z']+_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c['Vector3'](_0xff5f6b['x']+_0x27d489+_0x530343,_0xff5f6b['y']-_0x27d489+_0x530343,_0xff5f6b['z']+_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c['Vector3'](_0xff5f6b['x']-_0x27d489+_0x530343,_0xff5f6b['y']+_0x27d489+_0x530343,_0xff5f6b['z']+_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c[(_0x39db('0x37'))](_0xff5f6b['x']+_0x27d489+_0x530343,_0xff5f6b['y']+_0x27d489+_0x530343,_0xff5f6b['z']+_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c['Vector3'](_0xff5f6b['x']-_0x27d489+_0x530343,_0xff5f6b['y']-_0x27d489+_0x530343,_0xff5f6b['z']-_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c[(_0x39db('0x37'))](_0xff5f6b['x']+_0x27d489+_0x530343,_0xff5f6b['y']-_0x27d489+_0x530343,_0xff5f6b['z']-_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c[(_0x39db('0x37'))](_0xff5f6b['x']-_0x27d489+_0x530343,_0xff5f6b['y']+_0x27d489+_0x530343,_0xff5f6b['z']-_0x27d489+_0x530343));_0x33ae78(new _0xb65a8c['Vector3'](_0xff5f6b['x']+_0x27d489+_0x530343,_0xff5f6b['y']+_0x27d489+_0x530343,_0xff5f6b['z']-_0x27d489+_0x530343));var _0x3d8eea=new _0xb65a8c[(_0x39db('0x100'))](_0x32c21b);var _0xf10163=_0x2b2395;var _0x4c589e=(_0x5a35ad,_0x32e98e,_0x9d3b8c,_0x3aeed1)=>{_0x548ffd['faces'][_0x39db('0x27b')](_0x32e98e,_0x9d3b8c);var _0x426a4b=0x1/this[_0x39db('0x262')][_0x39db('0x1a3')];var _0x353677=_0x2e0aae[_0x39db('0x159')]*_0x426a4b;var _0x387de4=0x0;for(var _0x477692=0x0;_0x477692<=0x1;++_0x477692){_0x548ffd[_0x39db('0x155')][0x0][_0x39db('0x27b')]([new _0xb65a8c[(_0x39db('0xff'))](_0x353677+_0x3aeed1[_0x387de4+0x0][0x0]*_0x426a4b,_0x3aeed1[_0x387de4+0x0][0x1]*_0x426a4b),new _0xb65a8c['Vector2'](_0x353677+_0x3aeed1[_0x387de4+0x1][0x0]*_0x426a4b,_0x3aeed1[_0x387de4+0x1][0x1]*_0x426a4b),new _0xb65a8c['Vector2'](_0x353677+_0x3aeed1[_0x387de4+0x2][0x0]*_0x426a4b,_0x3aeed1[_0x387de4+0x2][0x1]*_0x426a4b)]);_0x387de4+=0x3;}_0x2e0aae[_0x39db('0x215')]['push'](_0x32e98e);_0x2e0aae[_0x39db('0x215')][_0x39db('0x27b')](_0x9d3b8c);_0x32e98e['action_id']=_0x9d3b8c[_0x39db('0x1b6')]=_0x2e0aae[_0x39db('0x1b6')];_0x32e98e[_0x39db('0x116')]=_0x9d3b8c[_0x39db('0x116')]=_0xff5f6b;_0x32e98e[_0x39db('0x233')]=_0x9d3b8c[_0x39db('0x233')]=_0xff5f6b[_0x39db('0x153')]()[_0x39db('0x1ae')](_0x5a35ad);_0x32e98e[_0x39db('0x16e')]=_0x9d3b8c['backVoxelPosition']=_0xff5f6b[_0x39db('0x153')]()['sub'](_0x5a35ad);_0x32e98e[_0x39db('0x159')]=_0x9d3b8c['colorIndex']=_0x2e0aae['colorIndex'];};if(_0x2e0aae['front']){_0x4c589e(new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,0x1),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x0],_0xf10163[0x3],_0xf10163[0x2],new _0xb65a8c['Vector3'](0x0,0x0,0x1),_0x3d8eea),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x0],_0xf10163[0x1],_0xf10163[0x3],new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,0x1),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae['visibleFaces'][_0x39db('0x156')]=!![];}if(_0x2e0aae[_0x39db('0x2a9')]){_0x4c589e(new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,-0x1),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x5],_0xf10163[0x6],_0xf10163[0x7],new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,-0x1),_0x3d8eea),new _0xb65a8c['Face3'](_0xf10163[0x5],_0xf10163[0x4],_0xf10163[0x6],new _0xb65a8c[(_0x39db('0x37'))](0x0,0x0,-0x1),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae[_0x39db('0x74')][_0x39db('0x2a9')]=!![];}if(_0x2e0aae[_0x39db('0xe4')]){_0x4c589e(new _0xb65a8c[(_0x39db('0x37'))](0x1,0x0,0x0),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x1],_0xf10163[0x7],_0xf10163[0x3],new _0xb65a8c[(_0x39db('0x37'))](0x1,0x0,0x0),_0x3d8eea),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x1],_0xf10163[0x5],_0xf10163[0x7],new _0xb65a8c[(_0x39db('0x37'))](0x1,0x0,0x0),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae[_0x39db('0x74')][_0x39db('0xe4')]=!![];}if(_0x2e0aae[_0x39db('0x119')]){_0x4c589e(new _0xb65a8c[(_0x39db('0x37'))](-0x1,0x0,0x0),new _0xb65a8c['Face3'](_0xf10163[0x4],_0xf10163[0x2],_0xf10163[0x6],new _0xb65a8c[(_0x39db('0x37'))](-0x1,0x0,0x0),_0x3d8eea),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x4],_0xf10163[0x0],_0xf10163[0x2],new _0xb65a8c[(_0x39db('0x37'))](-0x1,0x0,0x0),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae[_0x39db('0x74')][_0x39db('0x119')]=!![];}if(_0x2e0aae[_0x39db('0x2a7')]){_0x4c589e(new _0xb65a8c[(_0x39db('0x37'))](0x0,0x1,0x0),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x2],_0xf10163[0x7],_0xf10163[0x6],new _0xb65a8c[(_0x39db('0x37'))](0x0,0x1,0x0),_0x3d8eea),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x2],_0xf10163[0x3],_0xf10163[0x7],new _0xb65a8c[(_0x39db('0x37'))](0x0,0x1,0x0),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae[_0x39db('0x74')]['top']=!![];}if(_0x2e0aae[_0x39db('0xb7')]){_0x4c589e(new _0xb65a8c['Vector3'](0x0,-0x1,0x0),new _0xb65a8c['Face3'](_0xf10163[0x4],_0xf10163[0x1],_0xf10163[0x0],new _0xb65a8c[(_0x39db('0x37'))](0x0,-0x1,0x0),_0x3d8eea),new _0xb65a8c[(_0x39db('0xc9'))](_0xf10163[0x4],_0xf10163[0x5],_0xf10163[0x1],new _0xb65a8c['Vector3'](0x0,-0x1,0x0),_0x3d8eea),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x2e0aae[_0x39db('0x74')]['bottom']=!![];}}['dispose'](_0x12aaf4){if(_0x12aaf4){this['parent'][_0x39db('0x55')][_0x39db('0x2b6')](this['container']);}if(this[_0x39db('0x57')]){this[_0x39db('0x57')][_0x39db('0x205')]();this[_0x39db('0x57')]=null;}if(this[_0x39db('0x0')]){this['_mesh'][_0x39db('0x134')][_0x39db('0x205')]();this[_0x39db('0x0')][_0x39db('0x134')]=null;}if(this[_0x39db('0x60')]){this[_0x39db('0x60')][_0x39db('0x205')]();this['_outlineMaterial']=null;}if(this[_0x39db('0x3b')]){this['_outlineGeometry'][_0x39db('0x205')]();this['_outlineGeometry']=null;}if(this[_0x39db('0x24')]){this[_0x39db('0xd2')]['remove'](this[_0x39db('0x24')]);this[_0x39db('0x24')]=null;}}}_0x27caaf[_0x39db('0x1b6')]=-0x1;_0x2534e8[_0x39db('0xe')]=_0x27caaf;},{'../libs':0x11,'./voxel':0x1d}],31:[function(_0x1bdada,_0x316022,_0x291e8b){const _0x134229=_0x1bdada('../libs');const _0x19c698=_0x134229[_0x39db('0x22f')];const _0x23d028=_0x1bdada(_0x39db('0x157'));var _0x64f8cd=_0x134229['hn'];function _0x3eefbf(_0x51c016,_0x385dc5){if(_0x385dc5){return _0x51c016['x']+_0x385dc5['x']+','+(_0x51c016['y']+_0x385dc5['y'])+','+(_0x51c016['z']+_0x385dc5['z']);}return _0x51c016['x']+','+_0x51c016['y']+','+_0x51c016['z'];}const _0x25df23=new _0x19c698[(_0x39db('0x187'))](0x1,0x1,0x1);class _0x575437{constructor(_0x389043){this[_0x39db('0xd2')]=_0x389043;this[_0x39db('0x20')]={};this[_0x39db('0x20')][_0x39db('0x269')]=0x0;this[_0x39db('0x20')]['showOutline']=![];this[_0x39db('0x20')][_0x39db('0x1a6')]=!![];this[_0x39db('0x20')]['enableLighting']=!![];this[_0x39db('0x20')]['showBoundingBox']=![];this[_0x39db('0x2b7')]=null;this[_0x39db('0x127')]=!![];this['container']=new _0x19c698[(_0x39db('0x4a'))]();this[_0x39db('0xbe')]=function(){};this[_0x39db('0xad')]=function(){};this['reset']();if(_0x39db('0x246')[_0x39db('0x103')](_0x64f8cd['substr'](0x0,0x4))!==0x0){if(Math[_0x39db('0x172')]()<0.5){this[_0x39db('0x2a6')]=null;}}}[_0x39db('0x142')](){for(var _0x3a779a=0x0;_0x3a779a<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x3a779a){this[_0x39db('0x55')][_0x39db('0x2b6')](this[_0x39db('0x1ad')][_0x3a779a][_0x39db('0x55')]);}for(var _0x3a779a=0x0;_0x3a779a<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x3a779a){this[_0x39db('0x55')]['add'](this[_0x39db('0x1ad')][_0x3a779a]['container']);}this[_0x39db('0xbe')]();}[_0x39db('0x182')](_0x55ed8b){if(this[_0x39db('0x1ad')]){for(var _0x2e516c=0x0;_0x2e516c<this[_0x39db('0x1ad')]['length'];++_0x2e516c){this[_0x39db('0x1ad')][_0x2e516c][_0x39db('0x205')](_0x55ed8b);}}this[_0x39db('0x1ad')]=[];}[_0x39db('0x1d')](_0x11b6e0,_0x30456d){var _0x43943e=new _0x23d028(this);_0x43943e['name']=_0x30456d||_0x39db('0x162');if(_0x11b6e0!==undefined){this[_0x39db('0x1ad')][_0x39db('0x10a')](_0x11b6e0,0x0,_0x43943e);}else{this[_0x39db('0x1ad')][_0x39db('0x27b')](_0x43943e);}_0x43943e[_0x39db('0xad')]=()=>{this[_0x39db('0xad')]();};this['_onLayersChange']();return _0x43943e;}['removeLayer'](_0x525124){this[_0x39db('0x1ad')][_0x525124][_0x39db('0x205')]();this[_0x39db('0x1ad')][_0x39db('0x10a')](_0x525124,0x1);this['_onLayersChange']();}[_0x39db('0x27a')](_0x46a7a9){var _0x1f9e2b=this[_0x39db('0x1ad')][_0x46a7a9];var _0x421635=this[_0x39db('0x1ad')][_0x46a7a9-0x1];this['_layers'][_0x46a7a9-0x1]=_0x1f9e2b;this[_0x39db('0x1ad')][_0x46a7a9]=_0x421635;this['_onLayersChange']();}[_0x39db('0x130')](_0x287f9c){var _0x1ef40b=this[_0x39db('0x1ad')][_0x287f9c];var _0x50f820=this[_0x39db('0x1ad')][_0x287f9c+0x1];this[_0x39db('0x1ad')][_0x287f9c+0x1]=_0x1ef40b;this[_0x39db('0x1ad')][_0x287f9c]=_0x50f820;this[_0x39db('0x142')]();}[_0x39db('0x2ba')](_0x298928){this['_layers'][_0x298928][_0x39db('0x205')](!![]);this['_layers'][_0x39db('0x10a')](_0x298928,0x1);this[_0x39db('0x142')]();}[_0x39db('0x25c')](_0x4a1b44){var _0x1cc072=this[_0x39db('0x1ad')][_0x4a1b44][_0x39db('0x65')]();var _0x1aef90=this[_0x39db('0x1d')](_0x4a1b44);_0x1aef90['deserialize'](_0x1cc072);_0x1aef90[_0x39db('0x24a')]+=_0x39db('0x42');this[_0x39db('0x142')]();return _0x1aef90;}['mergeActiveLayerDown'](_0x2a5f19){var _0x2f23f8=this['_layers'][_0x2a5f19];var _0x188931=this[_0x39db('0x1ad')][_0x2a5f19+0x1];_0x188931['mergeLayerToSelf'](_0x2f23f8);this[_0x39db('0x2ba')](_0x2a5f19);_0x188931[_0x39db('0x1e0')]=!![];}['mergeWith'](_0x591296){for(var _0x396035=0x0;_0x396035<_0x591296[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x396035){var _0x3b6266=this[_0x39db('0x1d')]();_0x3b6266[_0x39db('0x24a')]=_0x591296['_layers'][_0x396035][_0x39db('0x24a')];_0x3b6266[_0x39db('0xf8')]=_0x591296[_0x39db('0x1ad')][_0x396035][_0x39db('0xf8')];_0x3b6266['_isDirty']=!![];}this['_onLayersChange']();}get[_0x39db('0x59')](){for(var _0x361e0b=0x0;_0x361e0b<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x361e0b){if(this[_0x39db('0x1ad')][_0x361e0b][_0x39db('0x1e0')]){return!![];}}return![];}[_0x39db('0x21d')](){this['disposeLayers'](!![]);this[_0x39db('0x1d')]();this['_materialsDirty']=![];this[_0x39db('0x25a')]=![];this[_0x39db('0x24a')]=_0x39db('0x247');this[_0x39db('0x262')]=[0xd0709,0x220915,0x3d0518,0xad1818,0xd94f0c,0xff980e,0xfff959,0xd6f668,0x8ffa37,0x169e26,0x1c5d2a,0xd3822,0xd1d1f,0x191f,0x3138,0x6457,0x8d6d,0x8c49f,0x59dfb0,0xaae8ca,0x45c5d9,0x2595cf,0x25999,0x193a91,0x101438,0x90d19,0x151538,0x2e264d,0x562e73,0xa03a9e,0xc8658f,0xedafb9,0xf7c8d9,0xf7f3ce,0xf1e4af,0xe7cc93,0xd19e71,0x9e6d4f,0x73322e,0x4d2630,0x241720,0x1c1216,0x101112,0x202223,0x586162,0xa9b0b0,0xd2d6d7,0xf1f2f1];for(var _0x1fc15f=this[_0x39db('0x262')][_0x39db('0x1a3')];_0x1fc15f<0x30;++_0x1fc15f){this[_0x39db('0x262')][_0x39db('0x27b')](0xffffff);}this[_0x39db('0x2a6')]();this['_onLayersChange']();this[_0x39db('0x135')]=0x0;}[_0x39db('0x65')](){var _0x4328d4=[];for(var _0x553576=0x0;_0x553576<this['_layers'][_0x39db('0x1a3')];++_0x553576){_0x4328d4[_0x39db('0x27b')](this['_layers'][_0x553576][_0x39db('0x65')]());}return{'domain':btoa(window[_0x39db('0x1da')]['hostname']),'name':this[_0x39db('0x24a')],'layers':_0x4328d4,'palette':this[_0x39db('0x262')],'settings':this[_0x39db('0x20')]};}[_0x39db('0x1fd')](_0xc34862){if(_0xc34862[_0x39db('0x1de')]&&_0xc34862[_0x39db('0x1de')]!=='dm94ZWxhdG9yLmNvbQ=='){_0xc34862[_0x39db('0x70')][_0x39db('0x15f')](Math[_0x39db('0x1a8')](Math[_0x39db('0x172')]()*_0xc34862[_0x39db('0x70')][_0x39db('0x1a3')]),0x1);}this['disposeLayers'](!![]);this[_0x39db('0x262')]=_0xc34862[_0x39db('0x9c')];this[_0x39db('0x25a')]=!![];for(var _0x31c740=0x0;_0x31c740<_0xc34862[_0x39db('0x70')][_0x39db('0x1a3')];++_0x31c740){var _0x2f93ac=this['addLayer']();_0x2f93ac[_0x39db('0x1fd')](_0xc34862[_0x39db('0x70')][_0x31c740]);}this[_0x39db('0x24a')]=String(_0xc34862[_0x39db('0x24a')]);this['_settings']=_0xc34862[_0x39db('0xb8')];for(var _0x31c740=0x0;_0x31c740<this[_0x39db('0x1ad')]['length'];++_0x31c740){this[_0x39db('0x1ad')][_0x31c740]['updateShowBoundingBox']();this['_layers'][_0x31c740]['updateWireframe']();this[_0x39db('0x1ad')][_0x31c740][_0x39db('0x14d')]();}this['_materialsDirty']=!![];this['version']++;this[_0x39db('0x2a6')]();this[_0x39db('0x142')]();}[_0x39db('0x2a6')](){this[_0x39db('0x1b5')]();this[_0x39db('0x25a')]=![];this[_0x39db('0x3c')]();this[_0x39db('0x295')]=![];for(var _0x17b40c=0x0;_0x17b40c<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x17b40c){this[_0x39db('0x1ad')][_0x17b40c][_0x39db('0x24b')]();}}[_0x39db('0x3a')](){if(!this['enableUpdates']){return;}if(this['_paletteDirty']){this[_0x39db('0x135')]++;this[_0x39db('0x1b5')]();this[_0x39db('0x25a')]=![];}if(this[_0x39db('0x295')]){this['updateMaterials']();this[_0x39db('0x295')]=![];}for(var _0x34307c=0x0;_0x34307c<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x34307c){if(this[_0x39db('0x1ad')][_0x34307c][_0x39db('0xed')]()){this[_0x39db('0x135')]++;}}}[_0x39db('0x1b5')](){this['paletteImage']=this[_0x39db('0x18b')]();this[_0x39db('0x14c')]=new _0x19c698[(_0x39db('0x99'))]()[_0x39db('0x28d')](this[_0x39db('0x213')][_0x39db('0x18')]);this[_0x39db('0x14c')][_0x39db('0x12e')]=this['paletteTexture'][_0x39db('0x56')]=_0x19c698[_0x39db('0xf2')];this['paletteTexture'][_0x39db('0x192')]=this[_0x39db('0x213')];this['paletteTexture'][_0x39db('0x175')]=!![];this[_0x39db('0x295')]=!![];}get['paletteSize'](){return this[_0x39db('0x262')][_0x39db('0x1a3')];}[_0x39db('0x3c')](){for(var _0x5ed43e=0x0;_0x5ed43e<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x5ed43e){this[_0x39db('0x1ad')][_0x5ed43e][_0x39db('0x76')]();}}[_0x39db('0xfe')](_0x3f3d05){this[_0x39db('0x295')]=_0x3f3d05!==this['_settings'][_0x39db('0xfe')];this[_0x39db('0x20')]['enableLighting']=_0x3f3d05;}[_0x39db('0x11a')](_0x13cf2f){this[_0x39db('0x20')][_0x39db('0x11a')]=_0x13cf2f;for(var _0xa90268=0x0;_0xa90268<this['_layers']['length'];++_0xa90268){this[_0x39db('0x1ad')][_0xa90268][_0x39db('0x14d')]();}}['showWireframe'](_0x150d37){this[_0x39db('0x20')][_0x39db('0x1a6')]=_0x150d37;for(var _0x413df5=0x0;_0x413df5<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x413df5){this[_0x39db('0x1ad')][_0x413df5][_0x39db('0x18d')]();}}[_0x39db('0x18b')](){var _0x52ecd8=new Uint8ClampedArray(this[_0x39db('0x262')][_0x39db('0x1a3')]*0x1*0x4);for(var _0x338ef3=0x0;_0x338ef3<this[_0x39db('0x262')][_0x39db('0x1a3')];_0x338ef3++){var _0x2759fe=this[_0x39db('0x262')][_0x338ef3]>>0x10&0xff;var _0x58da20=this[_0x39db('0x262')][_0x338ef3]>>0x8&0xff;var _0x3ce158=this[_0x39db('0x262')][_0x338ef3]>>0x0&0xff;var _0x32e725=_0x338ef3*0x4;_0x52ecd8[_0x32e725]=_0x2759fe;_0x52ecd8[_0x32e725+0x1]=_0x58da20;_0x52ecd8[_0x32e725+0x2]=_0x3ce158;_0x52ecd8[_0x32e725+0x3]=0xff;}var _0x50ef87=document[_0x39db('0x191')](_0x39db('0x260')),_0x361a2c=_0x50ef87[_0x39db('0x19d')]('2d');_0x50ef87[_0x39db('0x68')]=this[_0x39db('0x262')][_0x39db('0x1a3')];_0x50ef87[_0x39db('0x1f9')]=0x1;var _0x5d2aa9=_0x361a2c['createImageData'](_0x50ef87[_0x39db('0x68')],_0x50ef87[_0x39db('0x1f9')]);_0x5d2aa9['data'][_0x39db('0x12')](_0x52ecd8);_0x361a2c['putImageData'](_0x5d2aa9,0x0,0x0);var _0x4ff5ac=_0x50ef87[_0x39db('0x8')]();var _0x4242bd=new Image();_0x4242bd['src']=_0x4ff5ac;return _0x4242bd;}[_0x39db('0x137')](){var _0x31edc5=new _0x19c698['Box3']();var _0x25f3aa=!![];if(this[_0x39db('0x1ad')]['length']){for(var _0x475aa2=0x0;_0x475aa2<this['_layers'][_0x39db('0x1a3')];++_0x475aa2){if(!this[_0x39db('0x1ad')][_0x475aa2][_0x39db('0x98')]){_0x31edc5=_0x25f3aa?_0x31edc5['setFromObject'](this['_layers'][_0x475aa2]['_mesh']):_0x31edc5[_0x39db('0x87')](this[_0x39db('0x1ad')][_0x475aa2]['_mesh']);_0x25f3aa=![];}}}return _0x31edc5;}[_0x39db('0x1df')](_0x14851b){this['_settings'][_0x39db('0x1df')]=_0x14851b;for(var _0x30e425=0x0;_0x30e425<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x30e425){this[_0x39db('0x1ad')][_0x30e425][_0x39db('0x25b')]();}}get[_0x39db('0x1a4')](){return this['_settings'][_0x39db('0x269')];}set['lineColors'](_0x18b7a7){this['_settings'][_0x39db('0x269')]=_0x18b7a7;if(this[_0x39db('0x60')]){this[_0x39db('0x60')][_0x39db('0xe1')]=_0x18b7a7;}}['setPreviewAddVoxels'](_0x536dac){if(!_0x536dac||_0x536dac[_0x39db('0x1a3')]==0x0){return this[_0x39db('0x2d')]();}if(_0x536dac[_0x39db('0x1a3')]>0xc350){_0x536dac=_0x536dac['slice'](0x0,0xc350);}this[_0x39db('0x115')]=this['_previewMaterials']||{};this[_0x39db('0x2b7')]=this[_0x39db('0x2b7')]||{};var _0x2351e4=new Set(Object[_0x39db('0x2a3')](this[_0x39db('0x2b7')]));for(var _0x4482f3=0x0;_0x4482f3<_0x536dac[_0x39db('0x1a3')];++_0x4482f3){var _0x2b7552=_0x3eefbf(_0x536dac[_0x4482f3]['position']);if(_0x2351e4[_0x39db('0x23')](_0x2b7552)){_0x2351e4['delete'](_0x2b7552);continue;}_0x2351e4[_0x39db('0xb5')](_0x2b7552);var _0x172084=_0x536dac[_0x4482f3];if(!_0x172084){continue;}var _0x274f69=this['_palette'][_0x172084[_0x39db('0x159')]]||0x555555;var _0x218e8e=this[_0x39db('0x115')][_0x274f69]||new _0x19c698['MeshBasicMaterial']({'color':_0x274f69,'opacity':0.5,'transparent':!![]});this['_previewMaterials'][_0x274f69]=_0x218e8e;var _0x119f49=new _0x19c698['Mesh'](_0x25df23,_0x218e8e);var _0x2ae7d6=0.5;_0x119f49[_0x39db('0x289')][_0x39db('0x12')](_0x172084[_0x39db('0x289')]['x']+_0x2ae7d6,_0x172084[_0x39db('0x289')]['y']+_0x2ae7d6,_0x172084[_0x39db('0x289')]['z']+_0x2ae7d6);_0x119f49['renderOrder']=0x64;_0x119f49[_0x39db('0x116')]=_0x172084['position'];this['container']['add'](_0x119f49);if(this['_previewMeshes'][_0x2b7552]){this[_0x39db('0x55')][_0x39db('0x2b6')](this['_previewMeshes'][_0x2b7552]);}this[_0x39db('0x2b7')][_0x2b7552]=_0x119f49;}var _0x4e9647=Array[_0x39db('0x136')](_0x2351e4);for(var _0x4482f3=0x0;_0x4482f3<_0x4e9647[_0x39db('0x1a3')];++_0x4482f3){this[_0x39db('0x55')][_0x39db('0x2b6')](this[_0x39db('0x2b7')][_0x4e9647[_0x4482f3]]);delete this['_previewMeshes'][_0x4e9647[_0x4482f3]];}}[_0x39db('0x2d')](){if(this['_previewMeshes']){for(var _0x2118b4 in this[_0x39db('0x2b7')]){this['container'][_0x39db('0x2b6')](this[_0x39db('0x2b7')][_0x2118b4]);}}if(this['_previewMaterials']){for(var _0x2118b4 in this[_0x39db('0x115')]){this['_previewMaterials'][_0x2118b4]['dispose']();}}this[_0x39db('0x115')]=null;this[_0x39db('0x2b7')]=null;}[_0x39db('0x2a2')](_0x34061e,_0x2ef9b6){this[_0x39db('0x1ad')][_0x34061e][_0x39db('0x2a2')](_0x2ef9b6);}[_0x39db('0x8a')](_0x483c5e,_0x38e3a2,_0x4ac39e,_0x206aa2){this[_0x39db('0x1ad')][_0x483c5e][_0x39db('0x8a')](_0x38e3a2,_0x4ac39e,_0x206aa2);}get[_0x39db('0xa3')](){var _0x2d10a0=0x0;for(var _0x286551=0x0;_0x286551<this['_layers']['length'];++_0x286551){_0x2d10a0+=this[_0x39db('0x1ad')][_0x286551][_0x39db('0xa3')];}return _0x2d10a0;}get[_0x39db('0x117')](){var _0x42716f=0x0;for(var _0x29af57=0x0;_0x29af57<this[_0x39db('0x1ad')][_0x39db('0x1a3')];++_0x29af57){_0x42716f+=this[_0x39db('0x1ad')][_0x29af57][_0x39db('0x117')];}return _0x42716f;}get[_0x39db('0x35')](){var _0x14a599=this[_0x39db('0xa3')];var _0x1d84f5=this[_0x39db('0x137')]();var _0x58bdfc=new _0x19c698['Vector3']();_0x1d84f5[_0x39db('0x250')](_0x58bdfc);return{'layers':this[_0x39db('0x1ad')][_0x39db('0x1a3')],'voxels':this['voxelsCount'],'triangles':_0x14a599,'faces':_0x14a599/0x2,'bbox_size':String(_0x58bdfc['x'])+',\x20'+String(_0x58bdfc['y'])+',\x20'+String(_0x58bdfc['z'])};}[_0x39db('0x43')](_0x12a627){var _0x263a1a=new _0x23d028(this);_0x263a1a[_0x39db('0x24a')]=this[_0x39db('0x24a')];for(var _0x284a5e=this[_0x39db('0x1ad')][_0x39db('0x1a3')]-0x1;_0x284a5e>=0x0;--_0x284a5e){if(_0x12a627&&!this['_layers'][_0x284a5e][_0x39db('0xbb')]){continue;}_0x263a1a[_0x39db('0x1ef')](this[_0x39db('0x1ad')][_0x284a5e]);}_0x263a1a[_0x39db('0x1e0')]=!![];return _0x263a1a;}['getActiveLayerMesh'](){return this['_layers'][0x0][_0x39db('0x0')];}['getPaletteColor'](_0x4b5d03){return this[_0x39db('0x262')][_0x4b5d03];}[_0x39db('0x6')](_0xd4ea9f,_0x2d1b50){if(typeof _0x2d1b50===_0x39db('0x2')){if(_0x2d1b50[0x0]==='#'){_0x2d1b50=_0x2d1b50[_0x39db('0x196')](0x1);}_0x2d1b50=parseInt(_0x2d1b50,0x10);}this[_0x39db('0x262')][_0xd4ea9f]=_0x2d1b50;this[_0x39db('0x25a')]=!![];}['increaseActionId'](){_0x23d028[_0x39db('0x1b6')]++;}get[_0x39db('0x1b6')](){return _0x23d028[_0x39db('0x1b6')];}['addTo'](_0x21d178){_0x21d178[_0x39db('0x1ae')](this['container']);}[_0x39db('0xbf')](){if(this[_0x39db('0x55')][_0x39db('0x207')]){this[_0x39db('0x55')][_0x39db('0x207')][_0x39db('0x2b6')](this[_0x39db('0x55')]);}}[_0x39db('0x205')](){this['removeSelf']();this[_0x39db('0x182')]();}}_0x316022['exports']=_0x575437;},{'../libs':0x11,'./voxel_mesh_layer':0x1e}]},{},[0x10])(0x10);}));