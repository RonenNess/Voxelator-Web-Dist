var _0x29ab=['containsPoint','Cannot\x20find\x20module\x20\x27','./voxel_mesh_layer','backVoxelPosition','_grid','initialize','visibleSidesCount','min','Geometry','Eraser\x20Tool','addEventListener','onclick','voxelator_preview_texture','display','Crate','call','prompt','applyTransformation','_outlineGeometry','Opposite\x20Mirror','#exported-mesh-name','clientX','confirm','vertexColors','BoxGeometry','update','./exports','#redo-btn','progress','iterateVoxelsGroup','fillEmptyVoxels','val','expandByPoint','sin','Not\x20Implemented!','meshName','Raycaster','import-btn','_isDirty','#999999','binary','#mesh-name-show','deleteSelectedVoxels','StInput','#threshold-input','selectedVoxelPosition','_pushVoxelToMesh','_createMaterial','Successfully\x20imported\x20Palette!\x20','_showBoundingBox','voxelPosition','_palette','material','innerHeight','faces','mode','opacity','Rotate\x20Mesh','iterateSelectedOrAllVoxels','removeAllVoxelsOutside','_camPositionOnPress','_voxels','scene','controls','%\x20read','updateStatsText','elato','Select\x20groups\x20of\x20voxels\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection\x20|\x20Arrows\x20to\x20move\x20selection\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Delete\x20to\x20delete\x20voxels\x20at\x20selection','#export-options-dropdown','canShowPreview','_axes','./exporters_base','disabled','./transformations','cos','setVoxel','#tool-eraser','SNES.png','Camera\x20Controls','importPredefPalette','Box3Helper','point','manager','Face3','#export-as-vertex-color','onChange','exports','setItem','locked','</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','moveLayerDown','text','#export-save-binary-div','tree.vox','uvsNeedUpdate','__activeLayerIndex','title','Selection\x20Tool','toString','Tree','undefined','#shapes-select\x20option:selected','_doSphere','Not\x20Implemented','To\x20contact\x20me:\x20<a\x20href=\x22mailto:ronenness@gmail.com\x22>ronenness@gmail.com</a>.','#mirror-offset-input','Invalid\x20file\x20type!','Sphere','bottom','null','PLYExporter','importPaletteFile','Soften\x20Edges','_settings','#import-img-depth','Draw\x20predefined\x20shapes\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20create\x20selected\x20shape\x20|\x20Shift+LMB\x20remove\x20voxels\x20in\x20shape\x27s\x20region','distanceTo','generateMipmaps','#tool-pencil','vertex','import-img-preview','_showOutline','up_arrow','keyup','active-layer-row','createElement','directionalLight3','The\x20\x27Project\x27\x20menu\x20allow\x20you\x20to\x20rename\x20the\x20project,\x20load\x20from\x20file,\x20save\x20it,\x20or\x20create\x20a\x20new\x20empty\x20project.','lineColors','<img\x20src=\x22img/controls.png\x22\x20style=\x22width:100%;height:auto;\x22>','VOXELATOR','ZYKRO-48.png','down','Invalid\x20camera\x20preset\x20key:\x20\x27','rebuildGeometry','.dae','readAsDataURL','Voxelator','iterateEmptyVoxelsGroup','onLayersChange','activeLayer','_points','./paint_bucket','./export_gltf','<p>This\x20transformation\x20will\x20shrink\x20mesh\x20by\x20removing\x20the\x20outter\x20layer\x20of\x20visible\x20voxels.</p>','./voxels_pencil','crate.vox','#import-img-new-layer','getActiveLayerMesh','\x22></td>','Note\x20this\x20checkbox\x20-\x20when\x20checked,\x20Voxelator\x20will\x20automatically\x20pick\x20the\x20layer\x20of\x20the\x20voxel\x20you\x20currently\x20point\x20on\x20with\x20your\x20cursor.','splice','voxelator_model_type','selection','_verticesIndexes','#voxel-color-','palette.png','mouse_right','find','isDirty','End\x20finally,\x20the\x20\x27Help\x27\x20menu\x20contains\x20link\x20to\x20the\x20documentation\x20pages,\x20info\x20about\x20the\x20software,\x20and\x20this\x20guided\x20tour!<br/>Hope\x20you\x20find\x20this\x20tour\x20useful\x20and\x20have\x20fun\x20using\x20Voxelator\x20:)','#trans-iterations-count-input','_outlineMesh','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','getBoundingBox','getHelpText','getContext','putImageData','right_arrow','Exported\x20successfully!\x20Total\x20vertices:\x20','_lastSelected','__locked','palette','#continous-paint','./editor_mode','#showBoundingBox','fileExtension','open','_from','normal','setSize','BASIC.png','_mesh','Lets\x20Go!','snake.vox','transparent','Exit\x20Tour','indexOf','canvas','_showWireframe','./smooth_faces','sub','end','_createPaletteElements','\x22>Expand\x20','intersectPosition','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20checked\x20class=\x22custom-control-input\x22\x20id=\x22expand-to-','<br\x20/><br\x20/><p>Flip\x20/\x20Mirror\x20mode:</p><select\x20id=\x22flip-mode-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Flip\x22\x20selected>Flip</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Mirror\x22>Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Opposite\x20Mirror\x22>Opposite\x20Mirror</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','released','Dark\x20Blue','#stats-label','rotation','./voxels','directionalLight1','redo','polygonOffsetFactor','white','#transforms-dropdown','back','_outlineMaterial','dm94ZWxhd','Palette\x20Texture','_updateWireframeOrOutline','0xffffff','<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-rotation-count-input\x22>Rotate\x20by\x20<span\x20id=\x22trans-rotation-count\x22>90</span>\x20degrees</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-rotation-count\x27).text(parseInt($(this).val())\x20*\x2045)\x22\x20value=\x222\x22\x20min=\x221\x22\x20max=\x228\x22\x20id=\x22trans-rotation-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_exportMeshBase','set','WireframeGeometryNoDiagonal','removeClass','add','location','<p>Pick\x20a\x20palette\x20import:</p>','<td><input\x20class=\x22layer-name\x20layer-name-input\x22\x20maxlength=\x2220\x22\x20type=\x22text\x22\x20name=\x22layer-name\x22\x20value=\x22','action_id','Black','parent','camera','html','#shapes-select-div','append','showWireframe','#colors-palette','endFrame','isMovingOrRotatingCamera','MonotoneMesh','_imageDataToPalette','AmbientLight','updatePaletteUiFromMeshPalette','color','index','face','<p>This\x20transformation\x20will\x20remove\x20lonely\x20voxels\x20to\x20make\x20surfaces\x20smoother.</p>','ColorDelta','Grey','click','stats','Voxels\x20Pencil','<p>This\x20transformation\x20will\x20make\x20corners\x20/\x20edges\x20softer\x20by\x20removing\x20the\x20sharp\x20edges\x20voxels.</p>','getCombinedLayer','./rotate','FileSaver','updatePaletteTexture','zIndex','#rotate-around-select\x20option:selected','showOutline','serialize','down_arrow','mouseenter','length','#undo-btn','mouseLeaveUI','./voxel','Cannot\x20delete\x20this\x20layer\x20since\x20its\x20the\x20last\x20remaining\x20layer.','./expand','_to','addClass','front','./shrink','Color','\x22\x20/>','The\x20\x27Edit\x27\x20menu\x20contains\x20different\x20transformations\x20and\x20effects\x20you\x20can\x20apply\x20on\x20your\x20mesh.\x20It\x20also\x20contains\x20the\x20undo\x20and\x20redo\x20buttons.\x20Transformations\x20either\x20affect\x20the\x20whole\x20layer,\x20or\x20currently\x20selected\x20region\x20if\x20you\x20have\x20one.','Welcome\x20To\x20Voxelator!','showPanel','\x22\x20style=\x22cursor:pointer\x22\x20id=\x22layer-','removeSelf','Note:\x20vertex\x20color\x20is\x20not\x20supported\x20in\x20.stl\x20forat.\x20Choosing\x20\x27Vertex\x20Color\x27\x20will\x20result\x20in\x20colorless\x20mesh.','getRightVector','download','renderOrder','_lastRedoVersion','SphereGeometry','./translation_tool','cutSelectedVoxelsToNewLayer','updateMaterial','#auto-select-layer-div','visible','0xaecfee','cursor','onMeshRename','addTo','_createMeshFromGeometry','#showWireframe','ZYKRO-48','code','getPaletteColor','colorsComment','aria-valuenow','default','-row\x22>','total','-cut','Colors\x20Palette:\x20use\x20it\x20to\x20select\x20voxels\x20colors.<br/>Note:\x20changing\x20a\x20palette\x20color\x20that\x20is\x20already\x20used\x20by\x20existing\x20voxels\x20will\x20recolor\x20these\x20voxels.','Shrink',':checked','TextureLoader','New\x20name\x20for\x20mesh:','enableUpdates','Error\x20:\x20Failed\x20to\x20read\x20file','mouseleave','right','prop','lerp','visibleFaces','Scene','image','_scene','normalize','getVoxel','dm94ZWxhdG9yLmNvbQ==','initUiElement','_enableLighting','MouseButtons','computeFlatVertexNormals','getReversedPalette','black','importVoxelFile','reset','_timeLeftUI','Mirror','readAsText','geometry','disposeLayers','Object3D','Flip','onchange','Box','keys','voxelator_use_texture','MONO.png','_undoStack','moveLayerUp','cloneLayer','#export-mesh-description','round','_linesColor','_disposePreviewStuff','change','show','selectTargetVoxel','Vertical','resize','getImageData','_doBox','deleteLayer','_pointOnMarker','Layers:\x20layers\x20are\x20separated\x20segments\x20of\x20your\x20mesh.<br/>You\x20can\x20use\x20layers\x20to\x20apply\x20transformations\x20only\x20on\x20parts\x20of\x20your\x20model,\x20or\x20hide\x20/\x20show\x20parts\x20of\x20your\x20model\x20while\x20editing.','.vox','Clockwise','LineBasicMaterial','<p>This\x20transformation\x20will\x20flip\x20or\x20mirror\x20voxels\x20around\x20an\x20axis.</p>','moveActiveLayerDown','none','text/plain;charset=utf-8','css','#import-img-modal','showCameraControls','rebuildIfDirty','substr','updateMaterials','run','domElement','MeshLambertMaterial','Voxelator\x20-\x20','anyMouseButtonsDown','_lastUndoMove','EdgesGeometry','top','#trans-rotation-input','NearestFilter','empty','exportModel','_voxelator_layer','PerspectiveCamera','#import-image-flip','loadstart','<p>Rotate\x20direction:</p><select\x20id=\x22rotate-dir-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Clockwise\x22\x20selected>Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Counter-Clockwise\x22>Counter-Clockwise</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','directionalLight2','<p>Pick\x20demo\x20project\x20to\x20import\x20(note:\x20all\x20demo\x20projects\x20use\x20the\x20default\x20palette,\x20if\x20you\x20changed\x20pallete\x20it\x20may\x20look\x20wrong):</p>','Import\x20Voxelator\x20Built-In\x20Palette','.ply','Box3','Background\x20Selection','height','MONO','showGuidedTour','parse','image/*','undo','colorIndex','_blank','setClearColor','Voxelator\x20v','_selectedMode','loaded','#expand-to-','src','voxels','#palette-container','GridHelper','Voxel','setPaletteColor','normalizedMousePos','voxelator_preview_model','.stl','moveActiveLayerUp','preview.html','<input\x20class=\x22color-in-palette\x22\x20type=\x22color\x22\x20id=\x22voxel-color-','name','_boundingBoxMesh','_lockedUntilClickedOnCanvas','<th\x20class=\x22layer-visible\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-eye\x22></i></th>','checked','.active-layer-row','updateOutlines','rebuildEverything','selectToolWithKey','#tool-paint-brush','_readFileFromUser','__selectedColorIndex','./../libs','Line','modal','selectColorFromPalette','fromCharCode','updateWireframe','selected-color','apply','0x7db7ed','_resetControls','_removeSelectionPreviews','The\x20following\x20guided\x20tour\x20will\x20walk\x20you\x20through\x20the\x20UI\x20of\x20Voxelator.\x20For\x20more\x20info,\x20check\x20out\x20the\x20documentation\x20pages\x20under\x20\x27Help\x27\x20menu.<br\x20/><br\x20/>Ready\x20to\x20begin?','ctrlDown','#expand-smoothly','iterateSelectedVoxels','selectEditorMode','clone','End\x20Tour','#import-progress-bar','clearSelection','./manager','.ui-element','deleteActiveLayer','mousemove','saveAs','setSelection','showAbout','voxelator.vox','renderer','voxelMesh','exportPalette','string','onDeselected','floor','./../voxels/voxel','trianglesCount','./transformation_base','log','<br\x20/><br\x20/><div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mirror-offset-input\x22>Mirror\x20Distance:\x20<span\x20id=\x22mirror-offset-input-label\x22>0</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#mirror-offset-input-label\x27).text($(this).val())\x22\x20value=\x220\x22\x20min=\x22-10\x22\x20max=\x2210\x22\x20id=\x22mirror-offset-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#tools-menu','./export_obj','STLExporter','getSize','width','_paletteDirty','import-cancel-btn','.color-in-palette','importVoxFileFromJson','max','attr','#export-color-mode-comment','isEmpty','removeVoxel','render','#layers-table','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22soften-only-corners\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22soften-only-corners\x22>Apply\x20just\x20to\x20corners</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','createImageData','addScalar','style','pressed','./libs','getElementById','has','target','appendChild','OBJExporter','setPreviewAddVoxels','_lastTime','function','isInUI','join','#help-dropdown','.layer-visible','color-','demos/','moveVoxels','Target\x20Voxel:\x20','mergeActiveLayerDown','lookAt','You\x20must\x20select\x20voxels\x20using\x20the\x20selection\x20tool\x20to\x20use\x20this\x20option.','_doLine','static','_selectionShow','addLayer','mouseWheel','Expand','left','setFromCamera','0x282828','VoxelsPencil','removeVoxelsLayer','linesColor','_isInUI','paletteSize','Math','\x22\x20name=\x22voxel-color-','VoxelsMesh','Vector2','_camRotationOnPress','pop','href','hostname','object','updateProjectionMatrix','layers','equals','_needToGenerateUndo','mergeWith','onSelected','recolorVoxels','_onLayersChange','<div\x20class=\x22custom-control\x20custom-checkbox\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22custom-control-input\x22\x20id=\x22expand-smoothly\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-smoothly\x22>Expand\x20roundly\x20between\x20different\x20axises</label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','hide','worldDirection','fixed','vertices','#view-options-dropdown','_needDoubleUndoPop','version','resetCamera','duplicateLayerOfVoxels','delete','.on-screen-text','updateShowBoundingBox','everything','../voxels','innerWidth','showBoundingBox','./flip','_materialsDirty','domain','targetVoxelPosition','_previewMeshes','container','autoSelectLayer','moveVoxel','getTime','showDeleteLayerDialog','mouseDown','input','increaseActionId','large','random','stringify','./editor_modes','showGrid','split','extensions','Adds\x20or\x20remove\x20voxels\x20|\x20LMB\x20to\x20add\x20voxels\x20|\x20Shift+LMB\x20to\x20set\x20color\x20of\x20existing\x20voxels\x20|\x20RMB\x20to\x20remove\x20voxels\x20|\x20Shift+RMB\x20to\x20copy\x20voxel\x20color\x20|\x20LMB+Alt\x20to\x20push\x20voxels\x20|\x20RMB+Alt\x20to\x20pull\x20voxels','doCameraControls','voxe','#soften-only-corners','MeshBasicMaterial','Disk','unnamed-layer','not-allowed','middle','<th\x20class=\x22layer-locked\x20layers-table-icon\x22><i\x20class=\x22fas\x20fa-lock\x22></i></th>','_buildOptimizedMesh','_exporters','FARAWAY48.png','dispose','../libs','BASIC','showBackgroundSelectDialog','newMesh','shiftDown','amd','1.0.0','_onCanvas','options','#showOutline','data_url','#export-save-binary','page_down','_updateRedoBtns','disk.vox','paletteTexture','mergeLayerToSelf','Nothing\x20to\x20export,\x20layer\x20is\x20empty.','inline-block','./shapes_tool','voxelsCount','New\x20Layer','showExportModelDialog','.<br\x20/>Open\x20exported\x20model\x20for\x20preview?','_modes','getCenter','abs','radio','_targetVoxel','accept','_geometry','./voxels_mesh','#export-btn','G9yLmNvbQ==','Vector3','paletteImage','_waitingForClickAfterUI','createPaletteTexture','<br\x20/>','faceVertexUvs','clearVoxels','trigger','raycaster','colors','#continous-paint-div','showPalette','MODULE_NOT_FOUND','_redoStack','WebGLRenderer','isUiFocused','left_arrow','push','THREE','remove','body','AxesHelper','#tool-paint-bucket','_doUpdates','And\x20this\x20text\x20gives\x20useful\x20info\x20about\x20your\x20mesh\x20size\x20and\x20faces\x20count.<br/>Note:\x20when\x20exporting\x20the\x20mesh\x20some\x20extra\x20optimizations\x20are\x20applied,\x20so\x20the\x20exported\x20file\x20is\x20usually\x20much\x20more\x20efficient.','children','position','All\x20unsaved\x20changes\x20will\x20be\x20lost.\x20Continue?','mouse_left','data','Smooth\x20Faces','Move\x20selected\x20voxels\x20|\x20Arrows\x20to\x20move\x20voxels\x20on\x20XZ\x20axis,\x20Shift\x20+\x20up\x20/\x20down\x20to\x20move\x20on\x20Y\x20axis\x20|\x20Hold\x20LMB\x20and\x20drag\x20to\x20set\x20selection\x20|\x20Shift\x20+\x20LMB\x20to\x20expand\x20selection\x20|\x20RMB\x20to\x20clear\x20selection','activeLayerIndex','drawImage','White','selectedColorIndex','0x002244','Mesh','enableLighting','alert','selectedRegion','Note:\x20.obj\x20with\x20vertex\x20color\x20is\x20non-standard\x20and\x20not\x20guaranteed\x20to\x20work\x20everywhere.','getLeftVector','Both','PINEAPPLE+.png','loadProjectFromFile','.layer-locked','Stats','altDown','\x20colors\x20were\x20added.','multiplyScalar','./soften_edges','.gltf','mousePressed','unnamed_mesh1','Recolor\x20voxels\x20|\x20LMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20|\x20RMB\x20change\x20color\x20of\x20all\x20voxels\x20with\x20the\x20same\x20color\x20only\x20on\x20the\x20plane\x20you\x20clicked\x20on\x20|\x20Shift+LMB\x20fill\x20empty\x20voxels\x20|\x20Shift+RMB\x20duplicate\x20the\x20plane\x20you\x20clicked\x20on','renameMesh','__voxelator_third_party_libs__','#export-optimize','deserialize','_resetAll','BoxHelper','#flip-mode-select\x20option:selected','importDemoProjects','mousedown','_layers','polygonOffsetUnits','intersectObjects','load'];(function(_0x466b5b,_0x2a37fa){var _0x35df72=function(_0x280b0f){while(--_0x280b0f){_0x466b5b['push'](_0x466b5b['shift']());}};_0x35df72(++_0x2a37fa);}(_0x29ab,0x118));var _0x3704=function(_0x466b5b,_0x2a37fa){_0x466b5b=_0x466b5b-0x0;var _0x35df72=_0x29ab[_0x466b5b];return _0x35df72;};(function(_0x295618){if(typeof exports===_0x3704('0xfb')&&typeof module!==_0x3704('0x202')){module[_0x3704('0x1f4')]=_0x295618();}else if(typeof define==='function'&&define[_0x3704('0x13c')]){define([],_0x295618);}else{var _0x46428c;if(typeof window!=='undefined'){_0x46428c=window;}else if(typeof global!==_0x3704('0x202')){_0x46428c=global;}else if(typeof self!==_0x3704('0x202')){_0x46428c=self;}else{_0x46428c=this;}_0x46428c[_0x3704('0x227')]=_0x295618();}}(function(){var _0x516cbc,_0x1421c3,_0x64e1ab;return function(){function _0x59837a(_0x1de2e1,_0x2678b9,_0x5a6820){function _0x56a563(_0x3b48ee,_0x17a5b5){if(!_0x2678b9[_0x3b48ee]){if(!_0x1de2e1[_0x3b48ee]){var _0x4d4a86=_0x3704('0xd9')==typeof require&&require;if(!_0x17a5b5&&_0x4d4a86)return _0x4d4a86(_0x3b48ee,!0x0);if(_0x5c09a5)return _0x5c09a5(_0x3b48ee,!0x0);var _0x1b9481=new Error(_0x3704('0x19f')+_0x3b48ee+'\x27');throw _0x1b9481[_0x3704('0xd')]=_0x3704('0x165'),_0x1b9481;}var _0x3f9ff4=_0x2678b9[_0x3b48ee]={'exports':{}};_0x1de2e1[_0x3b48ee][0x0][_0x3704('0x1ad')](_0x3f9ff4[_0x3704('0x1f4')],function(_0x502b75){var _0x16aa42=_0x1de2e1[_0x3b48ee][0x1][_0x502b75];return _0x56a563(_0x16aa42||_0x502b75);},_0x3f9ff4,_0x3f9ff4[_0x3704('0x1f4')],_0x59837a,_0x1de2e1,_0x2678b9,_0x5a6820);}return _0x2678b9[_0x3b48ee][_0x3704('0x1f4')];}for(var _0x5c09a5='function'==typeof require&&require,_0x653a40=0x0;_0x653a40<_0x5a6820[_0x3704('0x2a0')];_0x653a40++)_0x56a563(_0x5a6820[_0x653a40]);return _0x56a563;}return _0x59837a;}()({1:[function(_0x40d7ce,_0x1384c3,_0x16b9b8){class _0x34df1a{[_0x3704('0x1a3')](_0x19c091){}[_0x3704('0x1b7')](_0x5b736c,_0x4ce142){}['onSelected'](_0x499f1c){}[_0x3704('0xb5')](_0x58cbf0){}[_0x3704('0x243')](){throw new Error(_0x3704('0x1c0'));}get['showPalette'](){return!![];}get[_0x3704('0x89')](){throw new Error(_0x3704('0x1c0'));}}_0x1384c3[_0x3704('0x1f4')]=_0x34df1a;},{}],2:[function(_0x1c18ce,_0x42faaf,_0x28132c){const _0x5af80c=_0x1c18ce('./editor_mode');const _0x55bde9=_0x1c18ce('../voxels');const _0x2266c4=_0x1c18ce('../libs');const _0x29bf23=_0x2266c4[_0x3704('0x16b')];class _0x565043 extends _0x5af80c{[_0x3704('0x1a3')](_0x2b005c){const _0x5ccb23=new _0x29bf23[(_0x3704('0x0'))](0.2,0x5,0x5);var _0x177097=0xff0000;var _0x562b2c=new _0x29bf23[(_0x3704('0x12d'))]({'color':_0x177097,'opacity':0.65,'transparent':!![]});var _0x337fab=new _0x29bf23[(_0x3704('0x17e'))](_0x5ccb23,_0x562b2c);_0x337fab['renderOrder']=0x64;_0x2b005c['scene']['add'](_0x337fab);this['_pointOnMarker']=_0x337fab;this[_0x3704('0x4a')]['visible']=![];}['_removeSelectionPreviews'](_0x1d747e){this[_0x3704('0x4a')]['visible']=![];}[_0x3704('0x1b7')](_0x10d477,_0x51248a){var _0x3b7ef4=_0x10d477['activeLayer'];if(_0x10d477[_0x3704('0x287')]){this['_removeSelectionPreviews'](_0x10d477);this[_0x3704('0x248')]=null;return;}var _0x1b65f6=_0x10d477[_0x3704('0x44')]();this[_0x3704('0x248')]=_0x1b65f6;if(!_0x1b65f6){this[_0x3704('0x9f')](_0x10d477);return;}this[_0x3704('0x4a')][_0x3704('0x173')][_0x3704('0x276')](_0x1b65f6[_0x3704('0x261')]['x'],_0x1b65f6[_0x3704('0x261')]['y'],_0x1b65f6[_0x3704('0x261')]['z']);this['_pointOnMarker'][_0x3704('0x5')]=!![];if(_0x10d477[_0x3704('0x120')][_0x3704('0x13b')]){if(_0x10d477[_0x3704('0x120')]['released'](_0x3704('0x175'))){_0x3b7ef4[_0x3704('0xef')](_0x1b65f6[_0x3704('0x1cb')],_0x1b65f6['normal'],![],_0x10d477[_0x3704('0x181')]);}if(_0x10d477['input']['released'](_0x3704('0x23b'))){_0x3b7ef4[_0x3704('0xef')](_0x1b65f6['selectedVoxelPosition'],_0x1b65f6[_0x3704('0x251')],!![],_0x10d477['selectedRegion']);}}else{if(_0x10d477['input'][_0x3704('0x264')](_0x3704('0x175'))){_0x3b7ef4[_0x3704('0xc9')](_0x1b65f6['selectedVoxelPosition']);}if(_0x10d477[_0x3704('0x120')][_0x3704('0x222')](_0x3704('0x23b'))){_0x3b7ef4[_0x3704('0xc9')](_0x1b65f6[_0x3704('0x1cb')]);}}}get[_0x3704('0x164')](){return![];}[_0x3704('0x101')](_0x215088){}[_0x3704('0xb5')](_0x558afd){this[_0x3704('0x9f')](_0x558afd);}['getHelpText'](){return'Remove\x20voxels\x20|\x20LMB\x20to\x20remove\x20a\x20single\x20voxel\x20|\x20RMB\x20to\x20remove\x20voxels\x20while\x20button\x20is\x20down\x20|\x20Shift+LMB\x20to\x20remove\x20layer\x20of\x20voxels\x20|\x20Shift+RMB\x20to\x20remove\x20layer\x20of\x20voxels\x20of\x20the\x20same\x20color';}get['name'](){return _0x3704('0x1a7');}}_0x42faaf['exports']=_0x565043;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],3:[function(_0x62fed0,_0x1b72ca,_0x4be971){_0x1b72ca[_0x3704('0x1f4')]={'VoxelsPencil':_0x62fed0(_0x3704('0x22f')),'SelectionTool':_0x62fed0('./selection_tool'),'TranslationTool':_0x62fed0(_0x3704('0x1')),'EraserTool':_0x62fed0('./eraser_tool'),'PaintBucket':_0x62fed0(_0x3704('0x22c')),'ShapesTool':_0x62fed0(_0x3704('0x14a'))};},{'./eraser_tool':0x2,'./paint_bucket':0x4,'./selection_tool':0x5,'./shapes_tool':0x6,'./translation_tool':0x7,'./voxels_pencil':0x8}],4:[function(_0x599ff0,_0x262338,_0x283788){const _0x314adb=_0x599ff0(_0x3704('0x24c'));const _0x113a92=_0x599ff0('../voxels');const _0x40afad=_0x599ff0('../libs');const _0x2cf8c0=_0x40afad[_0x3704('0x16b')];class _0x4385df extends _0x314adb{['initialize'](_0x1c209c){const _0x1ab12a=new _0x2cf8c0['SphereGeometry'](0.2,0x5,0x5);var _0x3d5681=0xff0000;var _0xacb4b1=new _0x2cf8c0['MeshBasicMaterial']({'color':_0x3d5681,'opacity':0.65,'transparent':!![]});var _0x7839d7=new _0x2cf8c0[(_0x3704('0x17e'))](_0x1ab12a,_0xacb4b1);_0x7839d7[_0x3704('0x2b4')]=0x64;_0x1c209c[_0x3704('0x1dc')][_0x3704('0x279')](_0x7839d7);this[_0x3704('0x4a')]=_0x7839d7;this[_0x3704('0x4a')][_0x3704('0x5')]=![];}[_0x3704('0x9f')](_0x51c7e5){this[_0x3704('0x4a')][_0x3704('0x5')]=![];}['update'](_0x325abb,_0x39ad42){var _0x48fda6=_0x325abb[_0x3704('0x22a')];if(_0x325abb[_0x3704('0x287')]){this['_removeSelectionPreviews'](_0x325abb);this['_lastSelected']=null;return;}var _0x38ad7a=_0x325abb[_0x3704('0x44')](_0x325abb[_0x3704('0x120')][_0x3704('0x13b')]);this[_0x3704('0x248')]=_0x38ad7a;if(!_0x38ad7a){this[_0x3704('0x9f')](_0x325abb);return;}this['_pointOnMarker'][_0x3704('0x173')][_0x3704('0x276')](_0x38ad7a['intersectPosition']['x'],_0x38ad7a[_0x3704('0x261')]['y'],_0x38ad7a['intersectPosition']['z']);this[_0x3704('0x4a')][_0x3704('0x5')]=!![];if(_0x325abb[_0x3704('0x120')][_0x3704('0x264')]('mouse_left')){if(_0x325abb[_0x3704('0x120')]['shiftDown']){_0x48fda6[_0x3704('0x1bc')](_0x38ad7a['targetVoxelPosition'],_0x38ad7a['normal'],_0x325abb[_0x3704('0x181')],_0x325abb[_0x3704('0x17c')]);}else{_0x48fda6[_0x3704('0x102')](_0x38ad7a[_0x3704('0x1cb')],new _0x2cf8c0[(_0x3704('0x159'))](0x0,0x0,0x0),!![],_0x325abb[_0x3704('0x181')],_0x325abb[_0x3704('0x17c')]);}}if(_0x325abb[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x23b'))){if(_0x325abb[_0x3704('0x120')]['shiftDown']){_0x48fda6[_0x3704('0x10d')](_0x38ad7a[_0x3704('0x1cb')],_0x38ad7a[_0x3704('0x251')],_0x325abb[_0x3704('0x181')]);}else{_0x48fda6['recolorVoxels'](_0x38ad7a[_0x3704('0x1cb')],_0x38ad7a[_0x3704('0x251')],!![],_0x325abb[_0x3704('0x181')],_0x325abb[_0x3704('0x17c')]);}}}get[_0x3704('0x164')](){return!![];}[_0x3704('0x101')](_0x48fbbd){}[_0x3704('0xb5')](_0x19636c){this[_0x3704('0x9f')](_0x19636c);}[_0x3704('0x243')](){return _0x3704('0x190');}get[_0x3704('0x89')](){return'Paint\x20Bucket';}}_0x262338[_0x3704('0x1f4')]=_0x4385df;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],5:[function(_0x22573d,_0x7bb0c6,_0x50ce36){const _0x49e6a2=_0x22573d(_0x3704('0x24c'));const _0x4026c6=_0x22573d('../voxels');const _0x3cbda3=_0x22573d(_0x3704('0x137'));const _0x3581b0=_0x3cbda3['THREE'];class _0x4e623d extends _0x49e6a2{['initialize'](_0x5d3959){this[_0x3704('0x22b')]=[];}[_0x3704('0x1b7')](_0x160730,_0x2c1b62){var _0x2b98f6=_0x160730[_0x3704('0x44')](!![],!![]);var _0x1c08a1=_0x2b98f6?_0x2b98f6[_0x3704('0x1cb')]||_0x2b98f6['targetVoxelPosition']:null;if(location[_0x3704('0xf9')][_0x3704('0x259')](atob('dm94ZWxhdG9yLmNvbQ=='))<0x0){_0x160730[_0x3704('0x120')][_0x3704('0x222')]=null;}if(_0x160730[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x23b'))){this[_0x3704('0x22b')]=[];}if(_0x160730[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x175'))){if(_0x160730[_0x3704('0x120')]['shiftDown']&&_0x1c08a1){this['_points'][_0x3704('0x16a')](_0x1c08a1);}else{this['_points']=_0x1c08a1?[_0x1c08a1,_0x1c08a1]:[];}}var _0x472361=_0x2afb1d=>{_0x2afb1d['y']=0x0;_0x2afb1d['x']=Math[_0x3704('0x3f')](_0x2afb1d['x']);_0x2afb1d['z']=Math[_0x3704('0x3f')](_0x2afb1d['z']);if(_0x2afb1d['x']==0x0&&_0x2afb1d['z']==0x0){_0x2afb1d['x']=Math[_0x3704('0x3f')](_0x2afb1d['x']*1.5);}return _0x2afb1d;};var _0x4ea56e=_0x472361(_0x160730[_0x3704('0x1dd')][_0x3704('0x183')]());var _0x79aeab=_0x472361(_0x160730[_0x3704('0x1dd')][_0x3704('0x2b2')]());var _0x5eec5b=_0x472361(_0x160730[_0x3704('0x1dd')][_0x3704('0x106')]);var _0x39034b=_0x5eec5b[_0x3704('0xa5')]()[_0x3704('0x18b')](-0x1);if(_0x160730[_0x3704('0x120')]['pressed']('right_arrow')){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x1b7543){this['_points'][_0x1b7543]['add'](_0x79aeab);}}if(_0x160730[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x169'))){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x1b7543){this[_0x3704('0x22b')][_0x1b7543][_0x3704('0x279')](_0x4ea56e);}}if(_0x160730[_0x3704('0x120')][_0x3704('0x13b')]){if(_0x160730['input'][_0x3704('0xd0')](_0x3704('0x218'))){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x1b7543){this[_0x3704('0x22b')][_0x1b7543]['y']++;}}if(_0x160730[_0x3704('0x120')]['pressed'](_0x3704('0x29e'))){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x1b7543){this[_0x3704('0x22b')][_0x1b7543]['y']--;}}}else{if(_0x160730[_0x3704('0x120')][_0x3704('0xd0')]('up_arrow')){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x1b7543){this[_0x3704('0x22b')][_0x1b7543][_0x3704('0x279')](_0x5eec5b);}}if(_0x160730[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x29e'))){for(var _0x1b7543=0x0;_0x1b7543<this[_0x3704('0x22b')]['length'];++_0x1b7543){this[_0x3704('0x22b')][_0x1b7543]['add'](_0x39034b);}}}if(_0x160730['input'][_0x3704('0x264')](_0x3704('0x10e'))){_0x160730[_0x3704('0x1c8')]();}if(_0x160730[_0x3704('0x120')][_0x3704('0x222')](_0x3704('0x175'))&&_0x1c08a1){this['_points'][this[_0x3704('0x22b')][_0x3704('0x2a0')]-0x1]=_0x1c08a1;}if(this[_0x3704('0x22b')][_0x3704('0x2a0')]){_0x160730[_0x3704('0xae')](this[_0x3704('0x22b')]);}else{_0x160730[_0x3704('0xa8')]();}}get['showPalette'](){return![];}[_0x3704('0x101')](_0x4f5416){}[_0x3704('0xb5')](_0x2f8a1f){}[_0x3704('0x243')](){return _0x3704('0x1e1');}get['name'](){return _0x3704('0x1ff');}}_0x7bb0c6[_0x3704('0x1f4')]=_0x4e623d;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],6:[function(_0x4d43ac,_0x4e2928,_0xedac64){const _0x609917=_0x4d43ac('./editor_mode');const _0x1a9014=_0x4d43ac(_0x3704('0x112'));const _0xb7801d=_0x4d43ac(_0x3704('0x137'));const _0x48c692=_0xb7801d['THREE'];class _0x27114f extends _0x609917{[_0x3704('0x1a3')](_0x4e79ba){this[_0x3704('0x22b')]=[];}[_0x3704('0x1b7')](_0x4a81b2,_0x451812){var _0x2d26c7=_0x4a81b2['selectTargetVoxel'](!![],!![],!![]);var _0x43994e=_0x2d26c7?_0x2d26c7[_0x3704('0x118')]||_0x2d26c7[_0x3704('0x1cb')]:null;if(_0x4a81b2[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x175'))){this[_0x3704('0x250')]=_0x43994e;}else if(_0x4a81b2['input'][_0x3704('0x222')]('mouse_left')){this[_0x3704('0x2a6')]=_0x43994e;}if(_0x4a81b2['input'][_0x3704('0x222')]('mouse_right')){this[_0x3704('0x250')]=this[_0x3704('0x2a6')]=null;_0x4a81b2['voxelMesh'][_0x3704('0xd7')]([]);}if(this['_from']&&this[_0x3704('0x2a6')]){var _0x5c233f=$(_0x3704('0x203'))[_0x3704('0x1f9')]();var _0x437305=[];switch(_0x5c233f){case _0x3704('0x96'):_0x437305=this[_0x3704('0xe5')](_0x4a81b2);break;case _0x3704('0x37'):_0x437305=this['_doBox'](_0x4a81b2);break;case _0x3704('0x209'):_0x437305=this[_0x3704('0x204')](_0x4a81b2);break;}}if(_0x4a81b2[_0x3704('0x120')][_0x3704('0x264')]('mouse_left')&&_0x437305){for(var _0x4181b6=0x0;_0x4181b6<_0x437305[_0x3704('0x2a0')];++_0x4181b6){if(_0x4a81b2[_0x3704('0x120')][_0x3704('0x13b')]){_0x4a81b2[_0x3704('0x22a')]['removeVoxel'](_0x437305[_0x4181b6][_0x3704('0x173')]);}else{_0x4a81b2['activeLayer'][_0x3704('0x1e9')](_0x437305[_0x4181b6]);}}}if(!_0x4a81b2['input'][_0x3704('0x222')]('mouse_left')){this[_0x3704('0x250')]=this['_to']=null;_0x4a81b2[_0x3704('0xb2')][_0x3704('0xd7')]([]);}else{_0x4a81b2[_0x3704('0xb2')][_0x3704('0xd7')](_0x437305||[]);}}[_0x3704('0x48')](_0xf93999){var _0x121167=new _0x48c692[(_0x3704('0x6e'))]();_0x121167[_0x3704('0x1be')](this['_from']);_0x121167[_0x3704('0x1be')](this[_0x3704('0x2a6')]);var _0x1f897d=[];for(var _0x186951=_0x121167[_0x3704('0x1a5')]['x'];_0x186951<=_0x121167[_0x3704('0xc5')]['x'];++_0x186951){for(var _0x2597a8=_0x121167[_0x3704('0x1a5')]['y'];_0x2597a8<=_0x121167[_0x3704('0xc5')]['y'];++_0x2597a8){for(var _0x2bab69=_0x121167[_0x3704('0x1a5')]['z'];_0x2bab69<=_0x121167[_0x3704('0xc5')]['z'];++_0x2bab69){_0x1f897d[_0x3704('0x16a')](new _0x1a9014[(_0x3704('0x81'))](new _0x48c692['Vector3'](_0x186951,_0x2597a8,_0x2bab69),_0xf93999['selectedColorIndex']));}}}return _0x1f897d;}['_doSphere'](_0x2a4ae9){var _0xd8f1c3=new _0x48c692[(_0x3704('0x6e'))]();_0xd8f1c3[_0x3704('0x1be')](this['_from']);_0xd8f1c3[_0x3704('0x1be')](this[_0x3704('0x2a6')]);var _0xcc8e35=_0xd8f1c3[_0x3704('0x150')]();var _0x441dad=Math[_0x3704('0xc5')](Math['max']((_0xd8f1c3[_0x3704('0xc5')]['x']-_0xd8f1c3[_0x3704('0x1a5')]['x'])/0x2,(_0xd8f1c3[_0x3704('0xc5')]['y']-_0xd8f1c3[_0x3704('0x1a5')]['y'])/0x2),(_0xd8f1c3[_0x3704('0xc5')]['z']-_0xd8f1c3[_0x3704('0x1a5')]['z'])/0x2);var _0x28a252=[];for(var _0x147133=_0xd8f1c3[_0x3704('0x1a5')]['x'];_0x147133<=_0xd8f1c3[_0x3704('0xc5')]['x'];++_0x147133){for(var _0x3daf80=_0xd8f1c3[_0x3704('0x1a5')]['y'];_0x3daf80<=_0xd8f1c3[_0x3704('0xc5')]['y'];++_0x3daf80){for(var _0x3c3891=_0xd8f1c3[_0x3704('0x1a5')]['z'];_0x3c3891<=_0xd8f1c3[_0x3704('0xc5')]['z'];++_0x3c3891){var _0x314d27=new _0x48c692['Vector3'](_0x147133,_0x3daf80,_0x3c3891);if(_0x314d27[_0x3704('0x212')](_0xcc8e35)<=_0x441dad){_0x28a252['push'](new _0x1a9014['Voxel'](_0x314d27,_0x2a4ae9[_0x3704('0x17c')]));}}}}return _0x28a252;}[_0x3704('0xe5')](_0x1cee60){var _0x184756=function(_0x58d0eb,_0x294ad9){var _0x9d250f=0x0;var _0x39ecec='';if(_0x58d0eb[_0x3704('0x173')]['x']==_0x294ad9[_0x3704('0x173')]['x']){_0x9d250f++;_0x39ecec+='x';}if(_0x58d0eb[_0x3704('0x173')]['y']==_0x294ad9['position']['y']){_0x9d250f++;_0x39ecec+='y';}if(_0x58d0eb['position']['z']==_0x294ad9[_0x3704('0x173')]['z']){_0x9d250f++;_0x39ecec+='z';}return _0x9d250f>0x1?_0x39ecec:null;};var _0x14d1e6=[];var _0x103994=this[_0x3704('0x250')][_0x3704('0xa5')]();var _0x39ea28=this[_0x3704('0x250')][_0x3704('0xa5')]();var _0xea3227=null;var _0xab6b97=this[_0x3704('0x2a6')][_0x3704('0xa5')]()['sub'](this[_0x3704('0x250')])[_0x3704('0x24')]()[_0x3704('0x18b')](0.5);while(!_0x39ea28[_0x3704('0xfe')](this['_to'])){var _0x39ea28=new _0x48c692[(_0x3704('0x159'))](Math[_0x3704('0x3f')](_0x103994['x']),Math[_0x3704('0x3f')](_0x103994['y']),Math[_0x3704('0x3f')](_0x103994['z']));_0x103994[_0x3704('0x279')](_0xab6b97);if(!_0xea3227||!_0xea3227[_0x3704('0xfe')](_0x39ea28)){_0x14d1e6[_0x3704('0x16a')](new _0x1a9014[(_0x3704('0x81'))](_0x39ea28,_0x1cee60[_0x3704('0x17c')]));}_0xea3227=_0x39ea28;}for(var _0x1a9fd0=_0x14d1e6[_0x3704('0x2a0')]-0x2;_0x1a9fd0>0x0;--_0x1a9fd0){var _0x103994=_0x14d1e6[_0x1a9fd0];var _0x1e26c6=_0x14d1e6[_0x1a9fd0-0x1];var _0x32b4ee=_0x14d1e6[_0x1a9fd0+0x1];var _0x500fe0=_0x184756(_0x1e26c6,_0x103994);var _0x1062ab=_0x184756(_0x103994,_0x32b4ee);if(_0x500fe0&&_0x1062ab&&_0x500fe0!=_0x1062ab){_0x14d1e6[_0x3704('0x235')](_0x1a9fd0,0x1);}}return _0x14d1e6;}get['showPalette'](){return!![];}['onSelected'](_0x19b816){$(_0x3704('0x282'))['show']();this[_0x3704('0x22b')]=[];}[_0x3704('0xb5')](_0x1815d7){$('#shapes-select-div')[_0x3704('0x105')]();}[_0x3704('0x243')](){return _0x3704('0x211');}get['name'](){return _0x3704('0x1ff');}}_0x4e2928[_0x3704('0x1f4')]=_0x27114f;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],7:[function(_0x2c5c3f,_0x2cef39,_0x5607f0){const _0x3411e9=_0x2c5c3f('./editor_mode');const _0x5aa334=_0x2c5c3f('../voxels');const _0x258b97=_0x2c5c3f(_0x3704('0x137'));const _0x101adf=_0x258b97[_0x3704('0x16b')];class _0x188a3f extends _0x3411e9{['initialize'](_0x1d9359){this[_0x3704('0x22b')]=[];}['update'](_0x4511e3,_0x104447){var _0x1c7e54=_0x4511e3[_0x3704('0x44')](!![],!![]);var _0x344cd0=_0x1c7e54?_0x1c7e54[_0x3704('0x1cb')]||_0x1c7e54[_0x3704('0x118')]:null;if(_0x4511e3[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x23b'))){this[_0x3704('0x22b')]=[];}if(_0x4511e3[_0x3704('0x120')]['pressed'](_0x3704('0x175'))){if(_0x4511e3[_0x3704('0x120')][_0x3704('0x13b')]&&_0x344cd0){this[_0x3704('0x22b')][_0x3704('0x16a')](_0x344cd0);}else{this[_0x3704('0x22b')]=_0x344cd0?[_0x344cd0,_0x344cd0]:[];}}var _0x5cd4cd=_0x340082=>{_0x340082['y']=0x0;_0x340082['x']=Math['round'](_0x340082['x']);_0x340082['z']=Math[_0x3704('0x3f')](_0x340082['z']);if(_0x340082['x']==0x0&&_0x340082['z']==0x0){_0x340082['x']=Math[_0x3704('0x3f')](_0x340082['x']*1.5);}return _0x340082;};var _0x39ccf7=_0x5cd4cd(_0x4511e3[_0x3704('0x1dd')][_0x3704('0x183')]());var _0x11fb80=_0x5cd4cd(_0x4511e3['controls']['getRightVector']());var _0x88be5a=_0x5cd4cd(_0x4511e3['controls'][_0x3704('0x106')]);var _0xdea4d9=_0x88be5a[_0x3704('0xa5')]()[_0x3704('0x18b')](-0x1);var _0x2578ae=_0x5020bb=>{for(var _0x5dc19f=0x0;_0x5dc19f<this[_0x3704('0x22b')][_0x3704('0x2a0')];++_0x5dc19f){this[_0x3704('0x22b')][_0x5dc19f][_0x3704('0x279')](_0x5020bb);}};if(_0x4511e3[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x246'))){_0x4511e3[_0x3704('0x22a')][_0x3704('0xe0')](_0x4511e3[_0x3704('0x181')],_0x11fb80);_0x2578ae(_0x11fb80);}else if(_0x4511e3['input'][_0x3704('0xd0')](_0x3704('0x169'))){_0x4511e3['activeLayer'][_0x3704('0xe0')](_0x4511e3['selectedRegion'],_0x39ccf7);_0x2578ae(_0x39ccf7);}if(_0x4511e3[_0x3704('0x120')][_0x3704('0x13b')]){if(_0x4511e3[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x218'))){var _0x423a44=new _0x101adf[(_0x3704('0x159'))](0x0,0x1,0x0);_0x4511e3[_0x3704('0x22a')][_0x3704('0xe0')](_0x4511e3[_0x3704('0x181')],_0x423a44);_0x2578ae(_0x423a44);}else if(_0x4511e3[_0x3704('0x120')]['pressed']('down_arrow')){var _0x566888=new _0x101adf[(_0x3704('0x159'))](0x0,-0x1,0x0);_0x4511e3[_0x3704('0x22a')][_0x3704('0xe0')](_0x4511e3[_0x3704('0x181')],_0x566888);_0x2578ae(_0x566888);}}else{if(_0x4511e3[_0x3704('0x120')][_0x3704('0xd0')]('up_arrow')){_0x4511e3[_0x3704('0x22a')][_0x3704('0xe0')](_0x4511e3[_0x3704('0x181')],_0x88be5a);_0x2578ae(_0x88be5a);}else if(_0x4511e3[_0x3704('0x120')][_0x3704('0xd0')](_0x3704('0x29e'))){_0x4511e3[_0x3704('0x22a')][_0x3704('0xe0')](_0x4511e3[_0x3704('0x181')],_0xdea4d9);_0x2578ae(_0xdea4d9);}}if(_0x4511e3['input'][_0x3704('0x264')](_0x3704('0x10e'))){_0x4511e3[_0x3704('0x1c8')]();}if(_0x4511e3[_0x3704('0x120')][_0x3704('0x222')](_0x3704('0x175'))&&_0x344cd0){this['_points'][this['_points'][_0x3704('0x2a0')]-0x1]=_0x344cd0;}if(this[_0x3704('0x22b')]['length']){_0x4511e3[_0x3704('0xae')](this[_0x3704('0x22b')]);}else{_0x4511e3[_0x3704('0xa8')]();}}get[_0x3704('0x164')](){return![];}['onSelected'](_0x58a090){if(_0x58a090[_0x3704('0x181')]){this['_points']=[_0x58a090[_0x3704('0x181')][_0x3704('0x1a5')][_0x3704('0xa5')](),_0x58a090[_0x3704('0x181')]['max'][_0x3704('0xa5')]()];}else{this[_0x3704('0x22b')]=[];}}[_0x3704('0xb5')](_0x4a052d){}[_0x3704('0x243')](){return _0x3704('0x178');}get[_0x3704('0x89')](){return'Translation\x20Tool';}}_0x2cef39['exports']=_0x188a3f;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],8:[function(_0x2c9e6a,_0x5bab9e,_0x468d65){const _0x407293=_0x2c9e6a(_0x3704('0x24c'));const _0x38ab2d=_0x2c9e6a(_0x3704('0x112'));const _0x1c9214=_0x2c9e6a('../libs');const _0x7d67cd=_0x1c9214[_0x3704('0x16b')];class _0x103bcc extends _0x407293{[_0x3704('0x1a3')](_0x5eaf2c){const _0x529a6e=new _0x7d67cd['SphereGeometry'](0.2,0x5,0x5);var _0xf6993f=0xff0000;var _0x16f565=new _0x7d67cd[(_0x3704('0x12d'))]({'color':_0xf6993f,'opacity':0.65,'transparent':!![]});var _0x370c60=new _0x7d67cd[(_0x3704('0x17e'))](_0x529a6e,_0x16f565);_0x370c60[_0x3704('0x2b4')]=0x64;_0x5eaf2c[_0x3704('0x1dc')][_0x3704('0x279')](_0x370c60);this['_pointOnMarker']=_0x370c60;this[_0x3704('0x4a')][_0x3704('0x5')]=![];}[_0x3704('0x9f')](_0x2f4b9f){_0x2f4b9f[_0x3704('0xb2')][_0x3704('0xd7')]([]);this['_pointOnMarker'][_0x3704('0x5')]=![];}[_0x3704('0x1b7')](_0x1adfff,_0x32f8aa){var _0x59af38=_0x1adfff['activeLayerIndex'];var _0xb4a4f6=$(_0x3704('0x24b'))['is'](_0x3704('0x17'));if(_0x1adfff['isMovingOrRotatingCamera']){this[_0x3704('0x9f')](_0x1adfff);this[_0x3704('0x248')]=null;return;}if(location['href'][_0x3704('0x259')]('voxel')<0x0){_0x1adfff['input']['_resetAll']();}var _0x1d0fd3=_0x1adfff[_0x3704('0x120')][_0x3704('0x13b')]||_0x1adfff[_0x3704('0x120')][_0x3704('0x189')];var _0x2b992e=_0x1adfff[_0x3704('0x44')](!_0x1d0fd3);this[_0x3704('0x248')]=_0x2b992e;if(!_0x2b992e){this['_removeSelectionPreviews'](_0x1adfff);return;}this['_pointOnMarker']['position'][_0x3704('0x276')](_0x2b992e[_0x3704('0x261')]['x'],_0x2b992e[_0x3704('0x261')]['y'],_0x2b992e[_0x3704('0x261')]['z']);this['_pointOnMarker'][_0x3704('0x5')]=!![];_0x1adfff[_0x3704('0xb2')][_0x3704('0xd7')]([_0x1d0fd3?null:new _0x38ab2d[(_0x3704('0x81'))](_0x2b992e['targetVoxelPosition'],_0x1adfff[_0x3704('0x17c')])]);if(_0x1adfff[_0x3704('0x120')]['down'](_0x3704('0x175'))&&_0xb4a4f6||_0x1adfff[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x175'))&&!_0xb4a4f6){if(_0x2b992e[_0x3704('0x118')]&&_0x2b992e[_0x3704('0x1cb')]){if(_0x1adfff[_0x3704('0x120')]['shiftDown']){_0x1adfff[_0x3704('0xb2')][_0x3704('0x1e9')](_0x59af38,new _0x38ab2d[(_0x3704('0x81'))](_0x2b992e[_0x3704('0x1cb')],_0x1adfff['selectedColorIndex']));}else if(_0x1adfff[_0x3704('0x120')][_0x3704('0x189')]){_0x1adfff['voxelMesh'][_0x3704('0x1e9')](_0x59af38,new _0x38ab2d[(_0x3704('0x81'))](_0x2b992e[_0x3704('0x1a1')],_0x2b992e['selectedColorIndex']));_0x1adfff[_0x3704('0xb2')][_0x3704('0xc9')](_0x59af38,_0x2b992e[_0x3704('0x1cb')]);}else{_0x1adfff[_0x3704('0xb2')][_0x3704('0x1e9')](_0x59af38,new _0x38ab2d[(_0x3704('0x81'))](_0x2b992e[_0x3704('0x118')],_0x1adfff[_0x3704('0x17c')]));}}}if(!_0x1adfff[_0x3704('0x120')][_0x3704('0x13b')]&&!_0x1adfff[_0x3704('0x120')]['altDown']){if(_0x1adfff[_0x3704('0x120')][_0x3704('0x222')](_0x3704('0x23b'))&&_0xb4a4f6||_0x1adfff['input'][_0x3704('0x264')]('mouse_right')&&!_0xb4a4f6){_0x1adfff[_0x3704('0xb2')][_0x3704('0xc9')](_0x59af38,_0x2b992e['selectedVoxelPosition'],!![],_0x1adfff[_0x3704('0x280')]['position']);}}if(_0x1adfff[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x23b'))){if(_0x2b992e[_0x3704('0x1cb')]){if(_0x1adfff[_0x3704('0x120')][_0x3704('0x13b')]){_0x1adfff[_0x3704('0x98')](_0x2b992e[_0x3704('0x17c')]);}else if(_0x1adfff[_0x3704('0x120')][_0x3704('0x189')]){_0x1adfff[_0x3704('0xb2')]['setVoxel'](_0x59af38,new _0x38ab2d['Voxel'](_0x2b992e[_0x3704('0x118')],_0x2b992e['selectedColorIndex']));_0x1adfff['voxelMesh'][_0x3704('0xc9')](_0x59af38,_0x2b992e[_0x3704('0x1cb')]);}}}}[_0x3704('0x101')](_0x4b4baf){$(_0x3704('0x163'))[_0x3704('0x43')]();}[_0x3704('0xb5')](_0x1469b9){$(_0x3704('0x163'))[_0x3704('0x105')]();this['_removeSelectionPreviews'](_0x1469b9);}[_0x3704('0x243')](){return _0x3704('0x129');}get[_0x3704('0x89')](){return _0x3704('0x294');}}_0x5bab9e[_0x3704('0x1f4')]=_0x103bcc;},{'../libs':0x11,'../voxels':0x1b,'./editor_mode':0x1}],9:[function(_0x26e2d4,_0x303cb9,_0x5dedf1){const _0x10b3fa=_0x26e2d4(_0x3704('0x1e5'));const _0x244f9b=_0x26e2d4(_0x3704('0x95'))[_0x3704('0x16b')];class _0xdcf3fe extends _0x10b3fa{constructor(_0x2fef48){super(_0x2fef48);}[_0x3704('0x64')](_0x40c141,_0x5ca6ed,_0x51b0fc){var _0x5027f9=new _0x244f9b['ColladaExporter']();var _0x2b020f=_0x5027f9[_0x3704('0x73')](_0x40c141)['data'];return _0x2b020f;}get[_0x3704('0x13f')](){return{'vertexColor':!![],'texture':!![]};}get[_0x3704('0x24e')](){return _0x3704('0x225');}}_0x303cb9[_0x3704('0x1f4')]=_0xdcf3fe;},{'./../libs':0x11,'./exporters_base':0xe}],10:[function(_0x343740,_0x5315e1,_0xe90211){const _0x2e8aa2=_0x343740(_0x3704('0x1e5'));const _0x29035e=_0x343740('./../libs')[_0x3704('0x16b')];class _0x4b25d1 extends _0x2e8aa2{constructor(_0x463445){super(_0x463445);}['exportModel'](_0x4cc417,_0x3f78be,_0x2d5c78){var _0x44efde=new _0x29035e['GLTFExporter']();_0x44efde['parse'](_0x4cc417,_0x1f03b8=>{_0x2d5c78(JSON[_0x3704('0x124')](_0x1f03b8));});}get[_0x3704('0x13f')](){return{'vertexColor':!![],'texture':!![]};}get[_0x3704('0x24e')](){return _0x3704('0x18d');}}_0x5315e1['exports']=_0x4b25d1;},{'./../libs':0x11,'./exporters_base':0xe}],11:[function(_0x25db66,_0x55c653,_0x515b60){const _0x218659=_0x25db66(_0x3704('0x1e5'));const _0x5a1371=_0x25db66(_0x3704('0x95'))[_0x3704('0x16b')];class _0x3f3a3b extends _0x218659{constructor(_0x4f824a){super(_0x4f824a);}[_0x3704('0x64')](_0x39c5ac,_0x4bfb1b){var _0x50688e=new _0x5a1371[(_0x3704('0xd6'))]();var _0x39fbea=_0x50688e[_0x3704('0x73')](_0x39c5ac,{'vertexColors':_0x4bfb1b[_0x3704('0x162')]=='vertex'});return _0x39fbea;}get[_0x3704('0x13f')](){return{'colorsComment':_0x3704('0x182'),'vertexColor':!![],'texture':!![]};}get[_0x3704('0x24e')](){return'.obj';}}_0x55c653[_0x3704('0x1f4')]=_0x3f3a3b;},{'./../libs':0x11,'./exporters_base':0xe}],12:[function(_0x487702,_0x5e64b7,_0x52ca93){const _0x4bcba8=_0x487702(_0x3704('0x1e5'));const _0x23969c=_0x487702(_0x3704('0x95'))['THREE'];class _0x10a3e8 extends _0x4bcba8{constructor(_0xbec052){super(_0xbec052);}[_0x3704('0x64')](_0x5af42c,_0x57edd7){var _0x10e080=new _0x23969c[(_0x3704('0x20c'))]();var _0x2f6206=_0x10e080[_0x3704('0x73')](_0x5af42c);return _0x2f6206;}get['options'](){return{'vertexColor':!![],'texture':!![]};}get[_0x3704('0x24e')](){return _0x3704('0x6d');}}_0x5e64b7[_0x3704('0x1f4')]=_0x10a3e8;},{'./../libs':0x11,'./exporters_base':0xe}],13:[function(_0x123278,_0x18457b,_0x194d14){const _0x1d5189=_0x123278(_0x3704('0x1e5'));const _0x199eed=_0x123278(_0x3704('0x95'))['THREE'];class _0x1fb217 extends _0x1d5189{constructor(_0x16bbe0){super(_0x16bbe0);}[_0x3704('0x64')](_0x48302b,_0x34cdc7,_0x464b5){var _0x52342b=new _0x199eed[(_0x3704('0xbe'))]();var _0x45faf8=_0x52342b[_0x3704('0x73')](_0x48302b,{'binary':_0x34cdc7[_0x3704('0x1c6')]});return _0x45faf8;}get[_0x3704('0x1e3')](){return![];}get[_0x3704('0x13f')](){return{'colorsComment':_0x3704('0x2b1'),'vertexColor':!![],'binary':!![],'texture':!![]};}get['fileExtension'](){return _0x3704('0x85');}}_0x18457b[_0x3704('0x1f4')]=_0x1fb217;},{'./../libs':0x11,'./exporters_base':0xe}],14:[function(_0x32974a,_0x5c497,_0x4fcd29){const _0x4f109d=_0x32974a(_0x3704('0x95'));const _0x3c369c=_0x4f109d[_0x3704('0x16b')];class _0x53be56{constructor(_0x132228){this[_0x3704('0x1f0')]=_0x132228;}[_0x3704('0x275')](_0x31d7ff,_0x1638f7,_0x1e4afe){var _0x2b3b54=$('#export-modal');_0x2b3b54[_0x3704('0x23c')](_0x3704('0x3e'))[_0x3704('0x1f9')](_0x1638f7);_0x2b3b54[_0x3704('0x23c')](_0x3704('0x1fa'))[_0x3704('0x53')](_0x3704('0x1ab'),_0x1e4afe[_0x3704('0x1c6')]?_0x3704('0x149'):_0x3704('0x51'));_0x2b3b54['find']('#exported-mesh-name')[_0x3704('0xc6')]('placeholder',this[_0x3704('0x1f0')]['voxelMesh'][_0x3704('0x89')]+_0x1638f7)['val'](this[_0x3704('0x1f0')][_0x3704('0xb2')][_0x3704('0x89')]+_0x1638f7);_0x2b3b54[_0x3704('0x23c')](_0x3704('0xc7'))[_0x3704('0x1f9')](_0x1e4afe[_0x3704('0xf')]||'');_0x2b3b54[_0x3704('0x97')]({'backdrop':'static','keyboard':![]});_0x2b3b54['find'](_0x3704('0x157'))[0x0][_0x3704('0x1a9')]=()=>{var _0x583ade={'binary':_0x2b3b54['find'](_0x3704('0x142'))[_0x3704('0x1e')](_0x3704('0x8d')),'colors':_0x2b3b54[_0x3704('0x23c')](_0x3704('0x1f2'))['prop']('checked')?_0x3704('0x215'):'texture'};var _0x247566=_0x2b3b54['find'](_0x3704('0x1b2'))[_0x3704('0x1bd')]()||_0x2b3b54['find'](_0x3704('0x1b2'))[_0x3704('0xc6')]('placeholder');var _0x1642d6=$('#export-layers-type\x20option:selected')[_0x3704('0x1bd')]();var _0x3aaefa;var _0x17d945=![];switch(_0x1642d6){case _0x3704('0x111'):_0x3aaefa=this[_0x3704('0x1f0')][_0x3704('0xb2')][_0x3704('0x296')](![]);_0x17d945=!![];break;case _0x3704('0x5'):_0x3aaefa=this[_0x3704('0x1f0')][_0x3704('0xb2')][_0x3704('0x296')](!![]);_0x17d945=!![];break;case'active_layer':_0x3aaefa=this[_0x3704('0x1f0')][_0x3704('0x22a')];break;}if(_0x3aaefa[_0x3704('0x14b')]===0x0){bootbox[_0x3704('0x180')](_0x3704('0x148'));if(_0x17d945){_0x3aaefa[_0x3704('0x136')](!![]);}return;}var _0x38d6ec=![];var _0x4cdc4f=_0x583ade[_0x3704('0x162')]==='texture';var _0x2ca38d;var _0x2ec3d7=$(_0x3704('0x193'))[_0x3704('0x1e')](_0x3704('0x8d'));if(_0x2ec3d7){_0x2ca38d=_0x3aaefa['_buildOptimizedMesh'](_0x4cdc4f);_0x38d6ec=!![];}else{_0x3aaefa[_0x3704('0x56')]();_0x2ca38d=_0x3aaefa[_0x3704('0x254')];}_0x31d7ff(_0x2ca38d,_0x260d48=>{var _0xda8b26=new Blob([_0x260d48],{'type':_0x3704('0x52')});_0x4f109d[_0x3704('0x298')][_0x3704('0xad')](_0xda8b26,_0x247566);if(_0x4cdc4f){var _0x425f88=document[_0x3704('0x21b')]('a');_0x425f88['href']=this['manager'][_0x3704('0xb2')][_0x3704('0x15a')][_0x3704('0x7d')];_0x425f88[_0x3704('0x2b3')]=_0x3704('0x23a');_0x425f88[_0x3704('0x292')]();}this['manager'][_0x3704('0x2a2')]();_0x2b3b54[_0x3704('0x97')](_0x3704('0x105'));bootbox[_0x3704('0x1b4')]({'title':'Exported\x20Successfully','message':_0x3704('0x247')+_0x2ca38d[_0x3704('0x32')][_0x3704('0x108')][_0x3704('0x2a0')]+',\x20total\x20faces:\x20'+_0x2ca38d[_0x3704('0x32')][_0x3704('0x1d4')]['length']+(this[_0x3704('0x1e3')]?_0x3704('0x14e'):''),'callback':_0x5759a8=>{if(_0x5759a8&&this[_0x3704('0x1e3')]){localStorage['setItem'](_0x3704('0x39'),_0x4cdc4f);localStorage[_0x3704('0x1f5')](_0x3704('0x84'),_0x260d48);localStorage[_0x3704('0x1f5')](_0x3704('0x1aa'),this[_0x3704('0x1f0')][_0x3704('0xb2')][_0x3704('0x15a')][_0x3704('0x7d')]);localStorage[_0x3704('0x1f5')](_0x3704('0x236'),this[_0x3704('0x24e')]);window[_0x3704('0x24f')](_0x3704('0x87'),_0x3704('0x77'));}}});if(_0x17d945){_0x3aaefa[_0x3704('0x136')](!![]);}if(_0x38d6ec){_0x2ca38d['geometry'][_0x3704('0x136')]();_0x2ca38d[_0x3704('0x1d2')][_0x3704('0x136')]();}},_0x583ade);};}get[_0x3704('0x1e3')](){return!![];}['showExportModelDialog'](){this['_exportMeshBase']((_0x56b074,_0x2cfbc3,_0x423273)=>{var _0x4c5cff=this[_0x3704('0x64')](_0x56b074,_0x423273,_0x2cfbc3);if(_0x4c5cff){_0x2cfbc3(_0x4c5cff);}},this[_0x3704('0x24e')],this[_0x3704('0x13f')]);}[_0x3704('0x64')](_0x5cf051,_0x397a5b,_0x48c48d){throw new Error(_0x3704('0x1c0'));}get[_0x3704('0x13f')](){throw new Error('Not\x20Implemented!');}get[_0x3704('0x24e')](){throw new Error(_0x3704('0x1c0'));}}_0x5c497[_0x3704('0x1f4')]=_0x53be56;},{'./../libs':0x11}],15:[function(_0x520021,_0xdb77f4,_0x32cc45){_0xdb77f4[_0x3704('0x1f4')]={'ExportersBase':_0x520021(_0x3704('0x1e5')),'ExporterPly':_0x520021('./export_ply'),'ExporterObj':_0x520021(_0x3704('0xbd')),'ExporterGltf':_0x520021(_0x3704('0x22d')),'ExporterStl':_0x520021('./export_stl'),'ExporterDae':_0x520021('./export_dae')};},{'./export_dae':0x9,'./export_gltf':0xa,'./export_obj':0xb,'./export_ply':0xc,'./export_stl':0xd,'./exporters_base':0xe}],16:[function(_0xf250f2,_0x4f7676,_0x5cfda4){_0x4f7676[_0x3704('0x1f4')]=_0xf250f2(_0x3704('0xa9'));},{'./manager':0x12}],17:[function(_0x120b56,_0x4afdc2,_0x3f9abf){_0x4afdc2[_0x3704('0x1f4')]=window[_0x3704('0x192')];},{}],18:[function(_0x3c0be2,_0x599c4b,_0x736951){const _0x373203=_0x3c0be2(_0x3704('0x268'));const _0x65873e=_0x3c0be2(_0x3704('0xd1'));const _0x21c719=_0x65873e[_0x3704('0x16b')];const _0x40857a=_0x65873e[_0x3704('0x188')];const _0x53b3d3=_0x65873e[_0x3704('0x290')];const _0x110e11=_0x3c0be2(_0x3704('0x125'));const _0x100dd4=_0x3c0be2(_0x3704('0x1b8'));const _0x2f90b5=_0x3c0be2(_0x3704('0x1e7'));const _0x3ac287=_0x3704('0x13d');class _0x1ad054{[_0x3704('0x1a3')](){var _0x3ffab8=new _0x21c719[(_0x3704('0x167'))]();_0x3ffab8[_0x3704('0x252')](window[_0x3704('0x113')],window['innerHeight']);_0x3ffab8[_0x3704('0x78')](0x7db7ed,0x1);document[_0x3704('0x16d')][_0x3704('0xd5')](_0x3ffab8[_0x3704('0x5a')]);_0x3ffab8['domElement']['style']['position']=_0x3704('0x107');_0x3ffab8[_0x3704('0x5a')][_0x3704('0xcf')][_0x3704('0x29a')]=-0x1;this['renderer']=_0x3ffab8;var _0x48ab31=new _0x21c719[(_0x3704('0x21'))]();this['scene']=_0x48ab31;var _0x1dfd73=new _0x21c719[(_0x3704('0x66'))](0x2d,window[_0x3704('0x113')]/window['innerHeight'],0x1,0x3e8);this[_0x3704('0x280')]=_0x1dfd73;this[_0x3704('0x10c')]();this['_exporters']={};for(var _0x4833d3 in _0x100dd4){this[_0x3704('0x134')][_0x4833d3]=new _0x100dd4[_0x4833d3](this);}var _0x3c27fe=new _0x21c719[(_0x3704('0x16e'))](0x5);_0x3c27fe['scale'][_0x3704('0x276')](0x1f4,0x1f4,0x1f4);_0x3c27fe[_0x3704('0x173')]['y']=0.005;_0x48ab31[_0x3704('0x279')](_0x3c27fe);this[_0x3704('0x1e4')]=_0x3c27fe;var _0x5f2315=new _0x21c719[(_0x3704('0x80'))](0x64,0x64);_0x48ab31[_0x3704('0x279')](_0x5f2315);this['_grid']=_0x5f2315;var _0x5dc08d=new _0x21c719['DirectionalLight'](0xffffff,0.5);_0x5dc08d[_0x3704('0x173')]['set'](-0.15,0x1,0.4);_0x48ab31[_0x3704('0x279')](_0x5dc08d);this[_0x3704('0x269')]=_0x5dc08d;_0x5dc08d=new _0x21c719['DirectionalLight'](0xacacac,0.45);_0x5dc08d['position']['set'](0x1,-0.1,0.15);_0x48ab31['add'](_0x5dc08d);this[_0x3704('0x6a')]=_0x5dc08d;_0x5dc08d=new _0x21c719['DirectionalLight'](0x777777,0.25);_0x5dc08d[_0x3704('0x173')][_0x3704('0x276')](-0.5,0.5,-0.5);_0x48ab31['add'](_0x5dc08d);this[_0x3704('0x21c')]=_0x5dc08d;var _0x2035b5=new _0x21c719[(_0x3704('0x28a'))](0x777777);this['_ambientLight']=_0x2035b5;_0x48ab31[_0x3704('0x279')](_0x2035b5);var _0x5193fa=new _0x40857a();_0x5193fa[_0x3704('0x2ae')](0x0);document['body'][_0x3704('0xd5')](_0x5193fa['dom']);this['stats']=_0x5193fa;this[_0x3704('0x120')]=new _0x65873e[(_0x3704('0x1c9'))](window);this['_timeLeftUI']=0x0;this[_0x3704('0xf1')]=![];var _0x4c51cd=atob;var _0x4c3b43=_0x3704('0x270');this[_0x3704('0x13e')]=!![];_0x3ffab8[_0x3704('0x5a')][_0x3704('0x1a8')](_0x3704('0x29f'),()=>{this[_0x3704('0x13e')]=!![];});_0x3ffab8['domElement'][_0x3704('0x1a8')](_0x3704('0xac'),()=>{this[_0x3704('0x13e')]=!![];});_0x3ffab8[_0x3704('0x5a')][_0x3704('0x1a8')](_0x3704('0x1c'),()=>{this['_onCanvas']=![];});_0x3ffab8[_0x3704('0x5a')][_0x3704('0x1a8')](_0x3704('0x199'),_0x107420=>{this[_0x3704('0x13e')]=!![];if(this[_0x3704('0xda')]){this[_0x3704('0x15b')]=![];this[_0x3704('0x2a2')]();}if(_0x107420['button']===0x0){this[_0x3704('0x8b')]=![];}});this[_0x3704('0x161')]=new _0x21c719[(_0x3704('0x1c2'))]();var _0x1011aa=()=>{_0x1dfd73['aspect']=window[_0x3704('0x113')]/window[_0x3704('0x1d3')];_0x1dfd73[_0x3704('0xfc')]();_0x3ffab8['setSize'](window[_0x3704('0x113')],window['innerHeight']);};window[_0x3704('0x1a8')](_0x3704('0x46'),_0x1011aa,![]);this[_0x3704('0x83')]=new _0x21c719['Vector2'](0x0,0x0);var _0x58f744=_0x336e97=>{var _0x4d8f39=_0x336e97[_0x3704('0x1b3')]/window[_0x3704('0x113')]*0x2-0x1;var _0x413f86=-(_0x336e97['clientY']/window['innerHeight'])*0x2+0x1;this[_0x3704('0x83')]=new _0x21c719[(_0x3704('0xf6'))](_0x4d8f39,_0x413f86);};window['addEventListener'](_0x3704('0xac'),_0x58f744);this['initUiElement'](_0x3704('0xaa'));this[_0x3704('0x3b')]=[];this['_redoStack']=[];this[_0x3704('0x2b5')]=-0x1;this[_0x3704('0xb2')]=new _0x373203['VoxelsMesh'](this[_0x3704('0x1dc')]);this[_0x3704('0xb2')]['addTo'](this['scene']);this[_0x3704('0xb2')][_0x3704('0x1f3')]=()=>{this[_0x3704('0xff')]=!![];};this[_0x3704('0xff')]=!![];this[_0x3704('0xb2')][_0x3704('0x229')]=()=>{this[_0x3704('0x103')]();};this[_0x3704('0x103')]();this[_0x3704('0xd8')]=new Date()['getTime']();this[_0x3704('0x25f')]();this[_0x3704('0x179')]=0x0;this[_0x3704('0x14f')]={};this[_0x3704('0x7a')]=null;for(var _0x4833d3 in _0x110e11){this[_0x3704('0x14f')][_0x4833d3]=new _0x110e11[_0x4833d3]();this[_0x3704('0x14f')][_0x4833d3][_0x3704('0x1a3')](this);}this[_0x3704('0xa4')](_0x3704('0xee'));this[_0x3704('0x8')]();var _0x304021=()=>{requestAnimationFrame(_0x304021);this[_0x3704('0x1b7')]();};_0x304021();if(window[_0x3704('0x27a')]['hostname']!==_0x4c51cd(_0x4c3b43+_0x3704('0x158'))){var _0x2e61f7=new Date()[_0x3704('0x11d')]()%0xa+0x4;var _0x49d180=Object[_0x3704('0x38')](this);for(var _0xba703a=0x0;_0xba703a<_0x2e61f7;++_0xba703a){this[_0x49d180[_0x49d180[_0x3704('0x2a0')]*Math[_0x3704('0x123')]()<<0x0]]=null;}}}[_0x3704('0x27')](_0x22b391){$(_0x22b391)['on'](_0x3704('0x29f'),()=>{this['mouseEnterUI']();})['on'](_0x3704('0x1c'),()=>{this['mouseLeaveUI']();})['on'](_0x3704('0x199'),()=>{this['_waitingForClickAfterUI']=!![];});}get['activeLayerIndex'](){return this[_0x3704('0x1fd')];}get[_0x3704('0x22a')](){return this[_0x3704('0xb2')][_0x3704('0x19a')][this[_0x3704('0x1fd')]];}['undo'](){if(this[_0x3704('0x3b')]['length']==0x0){return;}this[_0x3704('0x166')][_0x3704('0x16a')](this[_0x3704('0xb2')][_0x3704('0x29d')]());var _0x94839c=this[_0x3704('0x3b')][_0x3704('0xf8')]();this['voxelMesh'][_0x3704('0x194')](_0x94839c);this[_0x3704('0x2b5')]=this[_0x3704('0xb2')][_0x3704('0x10b')];this[_0x3704('0x144')]();this[_0x3704('0xff')]=![];this[_0x3704('0x10a')]=![];this[_0x3704('0x5e')]=_0x94839c;}[_0x3704('0x26a')](){if(this[_0x3704('0x166')][_0x3704('0x2a0')]==0x0){return;}var _0x15c307=this[_0x3704('0x166')][_0x3704('0xf8')]();this[_0x3704('0xb2')]['deserialize'](_0x15c307);this[_0x3704('0x2b5')]=this['voxelMesh'][_0x3704('0x10b')];this[_0x3704('0x144')]();this['_needToGenerateUndo']=![];this[_0x3704('0x5e')]=null;}[_0x3704('0x144')](){if(this[_0x3704('0x3b')][_0x3704('0x2a0')]){$(_0x3704('0x2a1'))[_0x3704('0x278')](_0x3704('0x1e6'));}else{$(_0x3704('0x2a1'))[_0x3704('0x2a7')](_0x3704('0x1e6'));}if(this[_0x3704('0x166')][_0x3704('0x2a0')]){$('#redo-btn')['removeClass']('disabled');}else{$(_0x3704('0x1b9'))['addClass']('disabled');}}set['activeLayerIndex'](_0x47d0ef){if(_0x47d0ef<0x0)_0x47d0ef=0x0;if(_0x47d0ef>=this[_0x3704('0xb2')][_0x3704('0x19a')]['length'])_0x47d0ef=this[_0x3704('0xb2')][_0x3704('0x19a')]['length']-0x1;this[_0x3704('0x1fd')]=_0x47d0ef;$(_0x3704('0x8e'))[_0x3704('0x278')](_0x3704('0x21a'));$($(_0x3704('0xcb'))['children']()[_0x47d0ef])[_0x3704('0x2a7')](_0x3704('0x21a'));}[_0x3704('0x8')](){$(_0x3704('0x1c7'))[_0x3704('0x1f9')]('\x22'+this[_0x3704('0xb2')][_0x3704('0x89')]+'\x22');document[_0x3704('0x1fe')]=_0x3704('0x5c')+this['voxelMesh'][_0x3704('0x89')];}[_0x3704('0x139')](){bootbox[_0x3704('0x1ae')]({'title':_0x3704('0x6f'),'message':'<p>Please\x20select\x20background\x20option\x20below:</p>','inputType':'radio','inputOptions':[{'text':'Light\x20Blue\x20[default]','value':_0x3704('0x9d')},{'text':_0x3704('0x265'),'value':_0x3704('0x17d')},{'text':_0x3704('0x27e'),'value':_0x3704('0xed')},{'text':_0x3704('0x17b'),'value':_0x3704('0x273')},{'text':_0x3704('0x291'),'value':'0x656565'}],'callback':_0x1baadf=>{var _0x5484e0=parseInt(_0x1baadf);this[_0x3704('0xb1')][_0x3704('0x78')](_0x5484e0,0x1);var _0x699e68=[_0x3704('0x273'),_0x3704('0x6')];$(_0x3704('0x10f'))[_0x3704('0x53')](_0x3704('0x28c'),_0x699e68['indexOf'](_0x1baadf)!==-0x1?_0x3704('0x2c'):_0x3704('0x26c'));}});}[_0x3704('0xa4')](_0x260836){if(this[_0x3704('0x7a')]){this[_0x3704('0x7a')][_0x3704('0xb5')](this);}this[_0x3704('0x7a')]=this[_0x3704('0x14f')][_0x260836];this[_0x3704('0x7a')][_0x3704('0x101')](this);var _0x457fd6=$(_0x3704('0x285'));if(this[_0x3704('0x7a')]['showPalette']){_0x457fd6['show']();}else{_0x457fd6[_0x3704('0x105')]();}}['showAxes'](_0x2046fa){this['_axes'][_0x3704('0x5')]=_0x2046fa;}[_0x3704('0x126')](_0x113588){this[_0x3704('0x1a2')][_0x3704('0x5')]=_0x113588;}[_0x3704('0x10c')](){var _0x1430aa=this[_0x3704('0x280')];_0x1430aa['position']['x']=0xf;_0x1430aa['position']['y']=0xf;_0x1430aa['position']['z']=0xf;_0x1430aa['lookAt'](new _0x21c719[(_0x3704('0x159'))](0x0,0x0,0x0));this[_0x3704('0x9e')]();}['presetCamera'](_0x5b7dc3){var _0x1c3e6d=this['camera'];var _0x3df230=this['voxelMesh'][_0x3704('0x242')]();var _0x117314=new _0x21c719[(_0x3704('0x159'))]();_0x3df230[_0x3704('0xbf')](_0x117314);var _0x51dc4d=new _0x21c719[(_0x3704('0x159'))](_0x3df230[_0x3704('0x1a5')]['x']+_0x117314['x']/0x2,_0x3df230[_0x3704('0x1a5')]['y']+_0x117314['y']/0x2,_0x3df230[_0x3704('0x1a5')]['z']+_0x117314['z']/0x2);_0x1c3e6d[_0x3704('0x173')]['set'](_0x51dc4d['x'],_0x51dc4d['y'],_0x51dc4d['z']);var _0x24abfb=_0x51dc4d[_0x3704('0xa5')]();var _0x39b4fd=0xa;switch(_0x5b7dc3){case _0x3704('0x237'):if(this[_0x3704('0x181')]){_0x3df230=this['selectedRegion'];_0x3df230['getSize'](_0x117314);_0x51dc4d=new _0x21c719['Vector3'](_0x3df230[_0x3704('0x1a5')]['x']+_0x117314['x']/0x2,_0x3df230[_0x3704('0x1a5')]['y']+_0x117314['y']/0x2,_0x3df230[_0x3704('0x1a5')]['z']+_0x117314['z']/0x2);_0x1c3e6d[_0x3704('0x173')][_0x3704('0x276')](_0x51dc4d['x'],_0x51dc4d['y'],_0x51dc4d['z']);_0x1c3e6d[_0x3704('0x173')]['z']+=_0x117314['z']/0x2+_0x39b4fd;var _0x24abfb=_0x51dc4d[_0x3704('0xa5')]();}break;case _0x3704('0x2a8'):_0x1c3e6d[_0x3704('0x173')]['z']+=_0x117314['z']/0x2+_0x39b4fd;break;case'back':_0x1c3e6d['position']['z']-=_0x117314['z']/0x2+_0x39b4fd;break;case _0x3704('0xeb'):_0x1c3e6d[_0x3704('0x173')]['x']-=_0x117314['x']/0x2+_0x39b4fd;break;case _0x3704('0x1d'):_0x1c3e6d[_0x3704('0x173')]['x']+=_0x117314['x']/0x2+_0x39b4fd;break;case'top':_0x1c3e6d[_0x3704('0x173')]['y']+=_0x117314['y']/0x2+_0x39b4fd;break;case _0x3704('0x20a'):_0x1c3e6d[_0x3704('0x173')]['y']-=_0x117314['y']/0x2+_0x39b4fd;break;default:throw new Error(_0x3704('0x223')+_0x5b7dc3+'\x27.');}_0x1c3e6d[_0x3704('0xe3')](_0x24abfb);this[_0x3704('0x9e')]();}['_onLayersChange'](){var _0x3a8582=$('#layers-table');_0x3a8582[_0x3704('0x63')]();for(var _0x4beb22=0x0;_0x4beb22<this[_0x3704('0xb2')][_0x3704('0x19a')]['length'];++_0x4beb22){var _0x1c4178=this[_0x3704('0xb2')][_0x3704('0x19a')][_0x4beb22];var _0x50b320=$('<tr\x20data-index=\x22'+_0x4beb22+_0x3704('0x2af')+_0x4beb22+_0x3704('0x12')+_0x3704('0x8c')+_0x3704('0x132')+_0x3704('0x27c')+_0x1c4178[_0x3704('0x89')]+_0x3704('0x233')+'</tr>');_0x3a8582[_0x3704('0x283')](_0x50b320);var _0x35b633=this;_0x50b320['on']('click',function(){_0x35b633['activeLayerIndex']=parseInt($(this)[_0x3704('0x176')]('index'));});_0x50b320['find'](_0x3704('0xdd'))['on'](_0x3704('0x292'),function(){var _0x1d0ce2=parseInt($(this)['parent']()[_0x3704('0x176')](_0x3704('0x28d')));_0x35b633[_0x3704('0xb2')][_0x3704('0x19a')][_0x1d0ce2]['visible']=!_0x35b633['voxelMesh'][_0x3704('0x19a')][_0x1d0ce2][_0x3704('0x5')];return![];});_0x50b320[_0x3704('0x23c')](_0x3704('0x187'))['on']('click',function(){var _0x4eefae=parseInt($(this)[_0x3704('0x27f')]()['data'](_0x3704('0x28d')));_0x35b633[_0x3704('0xb2')]['_layers'][_0x4eefae]['locked']=!_0x35b633[_0x3704('0xb2')][_0x3704('0x19a')][_0x4eefae][_0x3704('0x1f6')];return![];});_0x50b320[_0x3704('0x23c')]('.layer-name')['on'](_0x3704('0x219'),function(){var _0x135fc8=parseInt($(this)['parent']()[_0x3704('0x27f')]()[_0x3704('0x176')](_0x3704('0x28d')));_0x35b633['_lockedUntilClickedOnCanvas']=!![];_0x35b633[_0x3704('0xb2')][_0x3704('0x19a')][_0x135fc8][_0x3704('0x89')]=$(this)[_0x3704('0x1bd')]();return![];});}this[_0x3704('0x179')]=this[_0x3704('0x179')];}[_0x3704('0x86')](){if(this[_0x3704('0x179')]>0x0){this[_0x3704('0xb2')][_0x3704('0x3c')](this[_0x3704('0x179')]);this[_0x3704('0x179')]--;}}[_0x3704('0x50')](){if(this[_0x3704('0x179')]<this['voxelMesh']['_layers'][_0x3704('0x2a0')]-0x1){this['voxelMesh'][_0x3704('0x1f8')](this[_0x3704('0x179')]);this['activeLayerIndex']++;}}[_0x3704('0x11e')](){if(this[_0x3704('0xb2')][_0x3704('0x19a')][_0x3704('0x2a0')]===0x1){return bootbox[_0x3704('0x180')](_0x3704('0x2a4'));}if(this[_0x3704('0x22a')][_0x3704('0xc8')]){return this[_0x3704('0xab')]();}bootbox['confirm']('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20layer?',_0x111b40=>{if(_0x111b40){this[_0x3704('0xab')]();}});}[_0x3704('0xab')](){this['voxelMesh'][_0x3704('0x49')](this['activeLayerIndex']);if(this[_0x3704('0x179')]>=this[_0x3704('0xb2')][_0x3704('0x19a')][_0x3704('0x2a0')]){this['activeLayerIndex']--;}}[_0x3704('0x9e')](){if(this[_0x3704('0x1dd')]){this[_0x3704('0x1dd')][_0x3704('0x136')]();}var _0x1f7e55=new _0x21c719['SimpleOrbitControls'](this[_0x3704('0xb1')],this[_0x3704('0x1dc')],this[_0x3704('0x280')]);this[_0x3704('0x1dd')]=_0x1f7e55;}['enableLighting'](_0x38c09b){if(_0x38c09b){this[_0x3704('0x1dc')]['add'](this[_0x3704('0x269')]);this[_0x3704('0x1dc')][_0x3704('0x279')](this['directionalLight2']);this[_0x3704('0x1dc')]['add'](this[_0x3704('0x21c')]);}else{this[_0x3704('0x1dc')][_0x3704('0x16c')](this[_0x3704('0x269')]);this[_0x3704('0x1dc')][_0x3704('0x16c')](this[_0x3704('0x6a')]);this['scene'][_0x3704('0x16c')](this[_0x3704('0x21c')]);}this[_0x3704('0xb2')][_0x3704('0x17f')](_0x38c09b);}['_createPaletteElements'](){var _0x400445=$(_0x3704('0x7f'));for(var _0xe83f5e=0x0;_0xe83f5e<this[_0x3704('0xb2')]['paletteSize'];++_0xe83f5e){var _0x56ed64=$(_0x3704('0x88')+_0xe83f5e+_0x3704('0xf4')+_0xe83f5e+'\x22\x20value=\x22#ffffff\x22>');_0x400445['append'](_0x56ed64);var _0x51b8c3=this;_0x56ed64['on'](_0x3704('0x199'),function(_0x7c5132){var _0x5c5e9c=parseInt(this['id'][_0x3704('0x127')](_0x3704('0xde'))[0x1]);_0x51b8c3[_0x3704('0x98')](_0x5c5e9c);});_0x56ed64['on'](_0x3704('0x42'),function(_0x18da18){var _0x2c7244=parseInt(this['id']['split']('color-')[0x1]);_0x51b8c3[_0x3704('0xb2')][_0x3704('0x82')](_0x2c7244,$(this)[_0x3704('0x1bd')]());});}this['selectColorFromPalette'](0x0);this[_0x3704('0x28b')]();}[_0x3704('0x1ed')](){bootbox['prompt']({'title':_0x3704('0x6c'),'message':_0x3704('0x27b'),'inputType':_0x3704('0x152'),'inputOptions':[{'text':_0x3704('0x220'),'value':'VOXELATOR.png'},{'text':_0x3704('0xc'),'value':_0x3704('0x221')},{'text':'SNES','value':_0x3704('0x1eb')},{'text':'RESURRECT+','value':'RESURRECT+.png'},{'text':'PINEAPPLE+','value':_0x3704('0x185')},{'text':_0x3704('0x71'),'value':_0x3704('0x3a')},{'text':'FARAWAY48','value':_0x3704('0x135')},{'text':_0x3704('0x138'),'value':_0x3704('0x253')}],'callback':_0x104def=>{this[_0x3704('0x289')]('palettes/'+_0x104def);}});}['_imageDataToPalette'](_0x24e2ac){var _0xf11dae=new Image();var _0x543bbc=document[_0x3704('0x21b')]('canvas');var _0x336925=new Set();_0xf11dae[_0x3704('0x1a8')](_0x3704('0x19d'),()=>{_0x543bbc[_0x3704('0xc0')]=_0xf11dae[_0x3704('0xc0')];_0x543bbc[_0x3704('0x70')]=_0xf11dae[_0x3704('0x70')];var _0x2305c0=_0x543bbc['getContext']('2d');_0x2305c0[_0x3704('0x17a')](_0xf11dae,0x0,0x0,_0xf11dae[_0x3704('0xc0')],_0xf11dae[_0x3704('0x70')]);var _0x241f2a=0x0;for(var _0x2639fa=0x0;_0x2639fa<_0xf11dae[_0x3704('0xc0')];++_0x2639fa){for(var _0x4da7bf=0x0;_0x4da7bf<_0xf11dae[_0x3704('0x70')];++_0x4da7bf){if(_0x241f2a>=this[_0x3704('0xb2')][_0x3704('0xf2')]){break;}var _0x477671=_0x2305c0[_0x3704('0x47')](_0x2639fa,_0x4da7bf,0x1,0x1)[_0x3704('0x176')];var _0x363488=_0x477671[0x0];var _0x2faf4c=_0x477671[0x1];var _0x4334b7=_0x477671[0x2];var _0x304795=_0x363488<<0x10|_0x2faf4c<<0x8|_0x4334b7;if(_0x336925[_0x3704('0xd3')](_0x304795)){continue;}_0x336925[_0x3704('0x279')](_0x304795);var _0x36ac87=_0x40700b(_0x304795);$(_0x3704('0x239')+_0x241f2a)['val'](_0x36ac87);this[_0x3704('0xb2')][_0x3704('0x82')](_0x241f2a,_0x304795);_0x241f2a++;}}bootbox[_0x3704('0x180')](_0x3704('0x1ce')+_0x241f2a+_0x3704('0x18a'));});_0xf11dae[_0x3704('0x7d')]=_0x24e2ac;}[_0x3704('0x20d')](){this[_0x3704('0x93')]({'extensions':_0x3704('0x74'),'mode':_0x3704('0x141')},(_0x181461,_0x1dfa23)=>{this['_imageDataToPalette'](_0x181461);});}[_0x3704('0xc4')](_0x1a5474){var _0x542163=JSON[_0x3704('0x73')](_0x1a5474);var _0x2ca39b=new _0x373203[(_0x3704('0xf5'))](this[_0x3704('0x1dc')]);_0x2ca39b['deserialize'](_0x542163);this[_0x3704('0xb2')][_0x3704('0x100')](_0x2ca39b);}[_0x3704('0x2d')](){this[_0x3704('0x93')]({'extensions':'.vox'},(_0x24cee1,_0x322255)=>{this[_0x3704('0xc4')](_0x24cee1);});}[_0x3704('0x198')](){bootbox[_0x3704('0x1ae')]({'title':'Import\x20Demo\x20Project','message':_0x3704('0x6b'),'inputType':_0x3704('0x152'),'inputOptions':[{'text':_0x3704('0x227'),'value':_0x3704('0xb0')},{'text':_0x3704('0x201'),'value':_0x3704('0x1fb')},{'text':'Snake','value':_0x3704('0x256')},{'text':_0x3704('0x12e'),'value':_0x3704('0x145')},{'text':_0x3704('0x1ac'),'value':_0x3704('0x230')}],'callback':_0x2f986b=>{$['get'](_0x3704('0xdf')+_0x2f986b,_0x3339c5=>{this['importVoxFileFromJson'](_0x3339c5);});}});}[_0x3704('0xaf')](){bootbox[_0x3704('0x180')]({'title':_0x3704('0x79')+_0x3ac287,'message':'Voxelator\x20is\x20a\x20free\x20online\x20voxel\x20editing\x20tool.<br\x20/>Made\x20by\x20<a\x20target=\x22_blank\x22\x20href=\x22http://ronenness.com\x22>Ronen\x20Ness</a>,\x202020.<br\x20/>'+_0x3704('0x206')});}['cloneActiveLayer'](){var _0x22d935=this[_0x3704('0xb2')][_0x3704('0x3d')](this[_0x3704('0x179')]);if(this[_0x3704('0x181')]){_0x22d935[_0x3704('0x1d9')](this[_0x3704('0x181')]);}}[_0x3704('0x2')](){if(!this['selectedRegion']){return bootbox[_0x3704('0x180')](_0x3704('0xe4'));}var _0x28a152=this[_0x3704('0x22a')];var _0x2624cf=this[_0x3704('0x181')];var _0x41566f=this[_0x3704('0xb2')][_0x3704('0xe8')](this['activeLayerIndex'],_0x28a152[_0x3704('0x89')]+_0x3704('0x14'));for(var _0x4d49bf=_0x2624cf['min']['x'];_0x4d49bf<=_0x2624cf[_0x3704('0xc5')]['x'];++_0x4d49bf){for(var _0x3d29e1=_0x2624cf[_0x3704('0x1a5')]['y'];_0x3d29e1<=_0x2624cf[_0x3704('0xc5')]['y'];++_0x3d29e1){for(var _0x17b031=_0x2624cf[_0x3704('0x1a5')]['z'];_0x17b031<=_0x2624cf[_0x3704('0xc5')]['z'];++_0x17b031){var _0x520f26=new _0x21c719[(_0x3704('0x159'))](_0x4d49bf,_0x3d29e1,_0x17b031);var _0x445c03=_0x28a152[_0x3704('0x25')](_0x520f26);if(_0x445c03){_0x41566f[_0x3704('0x1e9')](_0x445c03);_0x28a152[_0x3704('0xc9')](_0x520f26);}}}}}[_0x3704('0x1af')](_0x504317){var _0x4c922d=new _0x2f90b5[_0x504317](this);_0x4c922d[_0x3704('0x9c')]();}['mergeActiveLayerDown'](){if(this[_0x3704('0xb2')]['_layers']['length']>0x1&&this[_0x3704('0x179')]<this[_0x3704('0xb2')][_0x3704('0x19a')][_0x3704('0x2a0')]-0x1){this[_0x3704('0xb2')][_0x3704('0xe2')](this[_0x3704('0x179')]);this[_0x3704('0x179')]=this[_0x3704('0x179')];}}[_0x3704('0x72')](){bootbox[_0x3704('0x180')]({'title':_0x3704('0x2ad'),'message':_0x3704('0xa0'),'buttons':{'ok':{'label':_0x3704('0x255')}},'callback':function(){var _0x2f0971=new EnjoyHint({'onStart':()=>{this[_0x3704('0x13e')]=![];},'onEnd':()=>{this['_onCanvas']=!![];},'onSkip':()=>{this[_0x3704('0x13e')]=!![];}});var _0x474a24=[{'selector':_0x3704('0xbc'),'description':'Tools\x20selection:\x20here\x20you\x20can\x20select\x20different\x20tools\x20to\x20use.\x20Point\x20on\x20a\x20tool\x20icon\x20to\x20learn\x20more\x20about\x20it.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':_0x3704('0x285'),'description':_0x3704('0x15'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#layers-menu','description':_0x3704('0x4b'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#layers-menu','description':'For\x20example,\x20if\x20you\x20build\x20a\x20tree\x20you\x20can\x20put\x20all\x20the\x20leaves\x20on\x20a\x20separated\x20layer,\x20and\x20hide\x20them\x20while\x20you\x20edit\x20the\x20bark.<br/>Note\x20that\x20when\x20you\x20export\x20your\x20model\x20all\x20layers\x20are\x20merged\x20into\x20one,\x20unless\x20you\x20choose\x20to\x20only\x20export\x20some\x20of\x20them.','showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':_0x3704('0x4'),'description':_0x3704('0x234'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#help-text-label','description':'The\x20bottom\x20text\x20gives\x20useful\x20hints\x20about\x20the\x20tool\x20you\x27re\x20currently\x20using.','showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#stats-label','description':_0x3704('0x171'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#voxel-options-dropdown','description':_0x3704('0x21d'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':_0x3704('0x26d'),'description':_0x3704('0x2ac'),'showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':_0x3704('0x1e2'),'description':'You\x20can\x20export\x20your\x20mesh\x20to\x20many\x20standard\x203d\x20formats.\x20When\x20exported,\x20the\x20geometry\x20will\x20no\x20longer\x20be\x20voxels-based\x20and\x20be\x20optimized\x20to\x20use\x20less\x20faces\x20and\x20less\x20vertices.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#export-options-dropdown','description':'Note\x20that\x20Voxelator\x20support\x20two\x20ways\x20to\x20represent\x20Voxels\x20color:\x20by\x20texture,\x20or\x20by\x20encoding\x20per-vertex\x20color\x20property.<br\x20/>Since\x20not\x20all\x20formats\x20support\x20both\x20options,\x20Voxelator\x20will\x20always\x20attempt\x20to\x20write\x20both\x20UVs\x20data\x20and\x20Vertex\x20colors\x20into\x20the\x20exported\x20file.\x20Its\x20up\x20to\x20you\x20to\x20pick\x20a\x20technique\x20by\x20controlling\x20your\x20rendering\x20pipeline,\x20but\x20make\x20sure\x20you\x20don\x27t\x20use\x20both,\x20as\x20this\x20will\x20distort\x20the\x20colors.','showNext':!![],'skipButton':{'text':'Exit\x20Tour'}},{'selector':'#import-options-dropdown','description':'The\x20\x27Import\x27\x20menu\x20allow\x20you\x20to\x20import\x20different\x20things,\x20like\x20image-to-palette\x20(will\x20inject\x20image\x27s\x20colors\x20into\x20your\x20current\x20palette),\x20image-to-voxels\x20(will\x20convert\x20image\x20to\x203d\x20voxels)\x20or\x20embed\x20Voxelator\x20file\x20as\x20a\x20new\x20layer\x20in\x20your\x20mesh.','showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':_0x3704('0x109'),'description':'The\x20\x27View\x27\x20menu\x20contains\x20Voxelator\x27s\x20display\x20and\x20rendering\x20configurations.<br/>You\x20can\x20change\x20background\x20color,\x20draw\x20geometry\x20faces,\x20enable\x20lightings,\x20ect.\x20None\x20of\x20the\x20options\x20here\x20will\x20actually\x20affect\x20the\x20output\x20file.','showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':'#camera-options-dropdown','description':'The\x20\x27Camera\x27\x20menu\x20contains\x20options\x20for\x20the\x20viewport\x27s\x20camera,\x20including\x20useful\x20preset\x20camera\x20angles\x20you\x20can\x20jump\x20to\x20(for\x20example,\x20making\x20the\x20camera\x20face\x20the\x20front\x20of\x20the\x20mesh).','showNext':!![],'skipButton':{'text':_0x3704('0x258')}},{'selector':_0x3704('0xdc'),'description':_0x3704('0x23e'),'showNext':![],'skipButton':{'text':_0x3704('0xa6')}}];_0x2f0971['set'](_0x474a24);_0x2f0971[_0x3704('0x59')]();}});}[_0x3704('0x91')](){if(this[_0x3704('0x120')][_0x3704('0x264')]('1')){$(_0x3704('0x214'))[_0x3704('0x292')]();}else if(this[_0x3704('0x120')]['released']('2')){$('#tool-select')[_0x3704('0x292')]();}else if(this[_0x3704('0x120')][_0x3704('0x264')]('3')){$(_0x3704('0x16f'))['click']();}else if(this[_0x3704('0x120')][_0x3704('0x264')]('4')){$(_0x3704('0x92'))['click']();}else if(this[_0x3704('0x120')][_0x3704('0x264')]('5')){$('#tool-translate')[_0x3704('0x292')]();}else if(this[_0x3704('0x120')][_0x3704('0x264')]('6')){$(_0x3704('0x1ea'))[_0x3704('0x292')]();}}[_0x3704('0x28b')](){for(var _0x1192b2=0x0;_0x1192b2<this[_0x3704('0xb2')]['paletteSize'];++_0x1192b2){var _0x2b8869=_0x40700b(this[_0x3704('0xb2')][_0x3704('0xe')](_0x1192b2));$(_0x3704('0x239')+_0x1192b2)['val'](_0x2b8869);}}[_0x3704('0x98')](_0x24c08a){$(_0x3704('0xc3'))[_0x3704('0x278')](_0x3704('0x9b'));this[_0x3704('0x94')]=_0x24c08a;$(_0x3704('0x239')+_0x24c08a)[_0x3704('0x2a7')](_0x3704('0x9b'));}get['selectedColorIndex'](){return this['__selectedColorIndex'];}[_0x3704('0x64')](_0x220b94){this[_0x3704('0x134')]['Exporter'+_0x220b94][_0x3704('0x14d')]();}[_0x3704('0x1c8')](){if(!this['selectedRegion']){return;}for(var _0x290662=this['selectedRegion']['min']['x'];_0x290662<=this[_0x3704('0x181')]['max']['x'];++_0x290662){for(var _0x33ea1f=this[_0x3704('0x181')]['min']['y'];_0x33ea1f<=this['selectedRegion'][_0x3704('0xc5')]['y'];++_0x33ea1f){for(var _0x3c8891=this[_0x3704('0x181')][_0x3704('0x1a5')]['z'];_0x3c8891<=this[_0x3704('0x181')][_0x3704('0xc5')]['z'];++_0x3c8891){this[_0x3704('0x22a')][_0x3704('0xc9')](new _0x21c719[(_0x3704('0x159'))](_0x290662,_0x33ea1f,_0x3c8891));}}}}[_0x3704('0x55')](){bootbox[_0x3704('0x180')]({'title':_0x3704('0x1ec'),'size':_0x3704('0x122'),'message':_0x3704('0x21f')});}[_0x3704('0x1b7')](){if(!this['_onCanvas']||this[_0x3704('0x8b')]){this[_0x3704('0x120')][_0x3704('0x195')]();}const _0x3bd919=new Date()[_0x3704('0x11d')]();const _0x2a212f=(_0x3bd919-this['_lastTime'])/0x3e8;this[_0x3704('0xd8')]=_0x3bd919;if(this[_0x3704('0x120')][_0x3704('0x264')](_0x3704('0x175'))||this['input']['released'](_0x3704('0x23b'))){this[_0x3704('0xb2')][_0x3704('0x121')]();}this[_0x3704('0x293')]['begin']();this[_0x3704('0xb1')][_0x3704('0xca')](this[_0x3704('0x1dc')],this[_0x3704('0x280')]);if(!this[_0x3704('0x168')]){this[_0x3704('0x12a')](_0x2a212f);}else{this[_0x3704('0x1dd')][_0x3704('0x1b7')]({'deltaTime':_0x2a212f});}this['selectToolWithKey']();this[_0x3704('0x170')](_0x2a212f);this[_0x3704('0x293')][_0x3704('0x25e')]();this[_0x3704('0x1df')]();this[_0x3704('0x120')][_0x3704('0x286')]();}[_0x3704('0xb3')](){var _0x4bbd67=document['createElement']('a');_0x4bbd67[_0x3704('0xf9')]=this[_0x3704('0xb2')]['paletteImage'][_0x3704('0x7d')];_0x4bbd67[_0x3704('0x2b3')]=_0x3704('0x23a');_0x4bbd67[_0x3704('0x292')]();}['doCameraControls'](_0x33acd6){var _0x4c8b9d=this['input'][_0x3704('0x11f')](this[_0x3704('0x120')][_0x3704('0x29')][_0x3704('0x131')])||this[_0x3704('0x120')][_0x3704('0x222')]('r');var _0x1b3686=this[_0x3704('0x120')][_0x3704('0x222')]('m')||this['input'][_0x3704('0x11f')](this[_0x3704('0x120')][_0x3704('0x29')][_0x3704('0x131')])&&this[_0x3704('0x120')][_0x3704('0x13b')];var _0x191678=this['input']['mouseDelta'];if(_0x1b3686){_0x4c8b9d=![];}var _0x2d6b8c=this[_0x3704('0x120')][_0x3704('0xe9')];if(!this['input']['ctrlDown']){if(this[_0x3704('0x120')][_0x3704('0x222')]('page_up')||this[_0x3704('0x120')][_0x3704('0x222')]('z')){_0x2d6b8c+=0x3e8*_0x33acd6;}else if(this[_0x3704('0x120')][_0x3704('0x222')](_0x3704('0x143'))||this[_0x3704('0x120')]['down']('x')){_0x2d6b8c-=0x3e8*_0x33acd6;}}var _0x505d69=0x1f4;var _0x458470=0x64;var _0x2a0af5=_0x4c8b9d?-_0x191678['x']:0x0;var _0x56e0a8=_0x4c8b9d?-_0x191678['y']:0x0;var _0x302f79=_0x1b3686?_0x191678['x']:0x0;var _0x54f0ca=_0x1b3686?-_0x191678['y']:0x0;if(this[_0x3704('0x120')]['shiftDown']){if(_0x302f79==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('a')){_0x302f79=_0x505d69*_0x33acd6;}if(_0x302f79==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('d')){_0x302f79=-_0x505d69*_0x33acd6;}if(_0x54f0ca==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('w')){_0x54f0ca=-_0x505d69*_0x33acd6;}if(_0x54f0ca==0x0&&this[_0x3704('0x120')]['down']('s')){_0x54f0ca=_0x505d69*_0x33acd6;}}else{if(_0x2a0af5==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('a')){_0x2a0af5=-_0x458470*_0x33acd6;}if(_0x2a0af5==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('d')){_0x2a0af5=_0x458470*_0x33acd6;}if(_0x56e0a8==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('w')){_0x56e0a8=-_0x458470*_0x33acd6;}if(_0x56e0a8==0x0&&this[_0x3704('0x120')][_0x3704('0x222')]('s')){_0x56e0a8=_0x458470*_0x33acd6;}}var _0x745bf6={'deltaTime':_0x33acd6,'rotateHorizontally':_0x2a0af5,'rotateVertically':_0x56e0a8,'moveOffsetVertically':_0x54f0ca,'moveOffsetHorizontally':_0x302f79,'zoom':_0x2d6b8c};this['controls']['update'](_0x745bf6);}['updateStatsText'](){var _0x403235=this[_0x3704('0xb2')][_0x3704('0x293')];var _0x4428c3='';for(var _0x4a68b2 in _0x403235){_0x4428c3+=_0x4a68b2+':\x20'+_0x403235[_0x4a68b2]+_0x3704('0x15d');}_0x4428c3+=_0x3704('0xe1')+(this['_targetVoxel']?String(this[_0x3704('0x153')]['x'])+','+String(this[_0x3704('0x153')]['y'])+','+String(this[_0x3704('0x153')]['z']):_0x3704('0x20b'));$(_0x3704('0x266'))[_0x3704('0x281')](_0x4428c3);}['mouseEnterUI'](){this[_0x3704('0xf1')]=!![];}['mouseLeaveUI'](){this['_isInUI']=![];this[_0x3704('0x2f')]=new Date()[_0x3704('0x11d')]();}['importImageFileAsVoxels'](){var _0x5d3adc=this[_0x3704('0x179')];this[_0x3704('0x93')]({'extensions':_0x3704('0x74'),'mode':_0x3704('0x141')},(_0x519610,_0x5870c6)=>{$('#import-img-modal')['modal']({'backdrop':_0x3704('0xe6'),'keyboard':![]});document[_0x3704('0xd2')](_0x3704('0x216'))[_0x3704('0x7d')]=_0x519610;var _0x2b4f91=$(_0x3704('0xa7'));_0x2b4f91[_0x3704('0x105')]()[_0x3704('0x53')](_0x3704('0xc0'),'0%')[_0x3704('0xc6')]('aria-valuenow',0x0);var _0x2c6147=![];document[_0x3704('0xd2')](_0x3704('0xc2'))[_0x3704('0x1a9')]=()=>{_0x2c6147=!![];$(_0x3704('0x54'))[_0x3704('0x97')]('hide');};document[_0x3704('0xd2')](_0x3704('0x1c3'))[_0x3704('0x1a9')]=()=>{var _0x257a4c=this['voxelMesh'][_0x3704('0x29d')]();var _0x549dd9=document[_0x3704('0xd2')]('import-img-preview');var _0x23d86e=document[_0x3704('0x21b')](_0x3704('0x25a'));_0x23d86e[_0x3704('0xc0')]=_0x549dd9['width'];_0x23d86e[_0x3704('0x70')]=_0x549dd9['height'];_0x23d86e[_0x3704('0x244')]('2d')[_0x3704('0x17a')](_0x549dd9,0x0,0x0,_0x549dd9[_0x3704('0xc0')],_0x549dd9['height']);var _0x1d9f72={};var _0x5275b0=(_0x4c137d,_0x187b60,_0xc647da)=>{var _0x530996=_0x4c137d+','+_0x187b60+','+_0xc647da;if(_0x1d9f72[_0x530996]!==undefined){return _0x1d9f72[_0x530996];}var _0xd01d02=0xffffffff;var _0x18cfe2=0x0;for(var _0x2564ad=0x0;_0x2564ad<this['voxelMesh'][_0x3704('0x1d1')][_0x3704('0x2a0')];++_0x2564ad){var _0x163377=this[_0x3704('0xb2')]['_palette'][_0x2564ad];var _0x47cd49=_0x53b3d3([_0x4c137d,_0x187b60,_0xc647da],[_0x163377>>0x10&0xff,_0x163377>>0x8&0xff,_0x163377&0xff]);if(_0x47cd49<_0xd01d02){_0xd01d02=_0x47cd49;_0x18cfe2=_0x2564ad;}if(_0xd01d02<=0x0){break;}}_0x1d9f72[_0x530996]=_0x18cfe2;return _0x18cfe2;};var _0x2f6d8e=_0x549dd9['width']*_0x549dd9[_0x3704('0x70')];var _0x524018=0x0;_0x2b4f91[_0x3704('0x43')]();var _0x3df446=_0x23d86e[_0x3704('0x244')]('2d');var _0x4c18b9=0x0;var _0x555428=0x0;if($(_0x3704('0x231'))['is'](_0x3704('0x17'))){this[_0x3704('0xb2')]['addLayer'](this[_0x3704('0x179')],'import-'+_0x5870c6);_0x5d3adc=this[_0x3704('0x179')];}var _0xdb737a=$(_0x3704('0x67'))[_0x3704('0x1bd')]();var _0x4ce61c=_0xdb737a=='Horizontal'||_0xdb737a==_0x3704('0x184');var _0x20b6b6=_0xdb737a==_0x3704('0x45')||_0xdb737a==_0x3704('0x184');var _0x68d08e=$('#import-image-axis')[_0x3704('0x1bd')]();this['voxelMesh'][_0x3704('0x1a')]=![];var _0x4558fa=()=>{var _0xa48a86=!![];var _0x44009c=0x64;var _0x20ddaf=new _0x21c719[(_0x3704('0x159'))]();while(_0xa48a86&&_0x44009c-->0x0){if(_0x2c6147){this[_0x3704('0xb2')]['deserialize'](_0x257a4c);this[_0x3704('0xb2')][_0x3704('0x1a')]=!![];return;}var _0x31a718=_0x4ce61c?_0x549dd9['width']-_0x4c18b9:_0x4c18b9;var _0x152043=_0x20b6b6?_0x549dd9[_0x3704('0x70')]-_0x555428:_0x555428;var _0x1c573b=_0x3df446[_0x3704('0x47')](_0x31a718,_0x152043,0x1,0x1)[_0x3704('0x176')];var _0x267756=_0x1c573b[0x0];var _0x561f1e=_0x1c573b[0x1];var _0x469d7b=_0x1c573b[0x2];var _0x377674=_0x1c573b[0x3];var _0x1e370c=parseInt($(_0x3704('0x210'))['val']());for(var _0x40ebdc=0x0;_0x40ebdc<_0x1e370c;++_0x40ebdc){var _0x224304={'x':Math[_0x3704('0x3f')](_0x549dd9['width']/0x2),'y':0x0};switch(_0x68d08e){case'XY':_0x20ddaf[_0x3704('0x276')](_0x4c18b9-_0x224304['x'],_0x549dd9[_0x3704('0x70')]-_0x555428-0x1-_0x224304['y'],_0x40ebdc);break;case'XZ':_0x20ddaf[_0x3704('0x276')](_0x4c18b9-_0x224304['x'],_0x40ebdc,_0x549dd9['height']-_0x555428-0x1-_0x224304['y']);break;case'ZY':_0x20ddaf['set'](_0x40ebdc,_0x549dd9[_0x3704('0x70')]-_0x555428-0x1-_0x224304['y'],_0x4c18b9-_0x224304['x']);break;}if(_0x377674>0x64){var _0x1e2707=_0x5275b0(_0x267756,_0x561f1e,_0x469d7b);this['voxelMesh']['setVoxel'](_0x5d3adc,new _0x373203[(_0x3704('0x81'))](_0x20ddaf,_0x1e2707));}}var _0x6fd298=Math[_0x3704('0x3f')](_0x524018/_0x2f6d8e*0x64);_0x2b4f91[_0x3704('0x53')]('width',_0x6fd298+'%')['attr'](_0x3704('0x10'),_0x6fd298);_0x524018++;_0x4c18b9++;if(_0x4c18b9>=_0x549dd9[_0x3704('0xc0')]){_0x4c18b9=0x0;_0x555428++;if(_0x555428>=_0x549dd9[_0x3704('0x70')]){_0xa48a86=![];}}}if(_0xa48a86){setTimeout(_0x4558fa,0x1);}else{this[_0x3704('0xb2')][_0x3704('0x1a')]=!![];$(_0x3704('0x54'))[_0x3704('0x97')](_0x3704('0x105'));}};_0x4558fa();};});}[_0x3704('0x93')](_0x477598,_0xc63955,_0x3ad554){$('#file-opener')['val'](null)[_0x3704('0xc6')](_0x3704('0x154'),_0x477598[_0x3704('0x128')]||'*')[_0x3704('0x160')](_0x3704('0x292'));var _0x22bc0e=document[_0x3704('0xd2')]('file-opener');_0x22bc0e[_0x3704('0x36')]=()=>{var _0x29aa66=_0x22bc0e['files'];if(_0x29aa66[_0x3704('0x2a0')]==0x0){if(_0x3ad554){_0x3ad554();}return;}var _0x3a1bd2=_0x29aa66[0x0];var _0x16086d=new FileReader();this['mouseLeaveUI']();_0x16086d[_0x3704('0x1a8')](_0x3704('0x68'),()=>{console[_0x3704('0xba')]('File\x20reading\x20started');});_0x16086d['addEventListener'](_0x3704('0x19d'),_0x59db21=>{var _0x2836a7=_0x59db21[_0x3704('0xd4')]['result'];this[_0x3704('0x2a2')]();_0xc63955(_0x2836a7,_0x3a1bd2['name']);});_0x16086d[_0x3704('0x1a8')]('error',()=>{bootbox['alert'](_0x3704('0x1b'));});_0x16086d[_0x3704('0x1a8')](_0x3704('0x1ba'),_0x4f541e=>{if(_0x4f541e['lengthComputable']==!![]){var _0x1903a2=Math['floor'](_0x4f541e[_0x3704('0x7b')]/_0x4f541e[_0x3704('0x13')]*0x64);console['log'](_0x1903a2+_0x3704('0x1de'));this['mouseLeaveUI']();}});switch(_0x477598[_0x3704('0x1d5')]){case undefined:case _0x3704('0x1f9'):_0x16086d[_0x3704('0x31')](_0x3a1bd2);break;case _0x3704('0x141'):_0x16086d[_0x3704('0x226')](_0x3a1bd2);break;default:throw Error(_0x3704('0x208'));}};}['showPaletteTexture'](){bootbox[_0x3704('0x180')]({'title':_0x3704('0x271'),'size':_0x3704('0x122'),'message':'The\x20texture\x20below\x20represent\x20your\x20current\x20colors\x20palette.\x20If\x20you\x20want\x20to\x20export\x20your\x20model\x20and\x20use\x20texture\x20for\x20voxel\x20colors\x20(instead\x20of\x20vertex-color),\x20you\x20need\x20to\x20set\x20this\x20image\x20as\x20the\x20texture\x20of\x20the\x20mesh.\x20It\x20is\x20downloaded\x20automatically\x20when\x20using\x20export.'+'<img\x20class=\x22pixelated\x22\x20style=\x22width:100%;height:auto;\x22\x20src=\x22'+this['voxelMesh'][_0x3704('0x15a')][_0x3704('0x7d')]+_0x3704('0x2ab')});}['saveProjectToFile'](){var _0x39c985=this[_0x3704('0xb2')][_0x3704('0x29d')]();var _0x3db198=new Blob([JSON[_0x3704('0x124')](_0x39c985)],{'type':_0x3704('0x52')});_0x65873e['FileSaver'][_0x3704('0xad')](_0x3db198,this['voxelMesh'][_0x3704('0x89')]+_0x3704('0x4c'));this[_0x3704('0x2a2')]();}[_0x3704('0x186')](){this['_readFileFromUser']({'extensions':'.vox'},(_0x13f5aa,_0x520d7b)=>{var _0x4760dd=JSON[_0x3704('0x73')](_0x4760dd);this['voxelMesh'][_0x3704('0x194')](_0x4760dd);this[_0x3704('0x8')]();this['updatePaletteUiFromMeshPalette']();this[_0x3704('0x2a2')]();$(_0x3704('0x24d'))[_0x3704('0x1e')](_0x3704('0x8d'),this[_0x3704('0xb2')][_0x3704('0x20f')][_0x3704('0x114')]);$('#showLights')['prop'](_0x3704('0x8d'),this['voxelMesh'][_0x3704('0x20f')][_0x3704('0x17f')]);$(_0x3704('0xb'))[_0x3704('0x1e')](_0x3704('0x8d'),this[_0x3704('0xb2')][_0x3704('0x20f')][_0x3704('0x284')]);$(_0x3704('0x140'))[_0x3704('0x1e')](_0x3704('0x8d'),this['voxelMesh'][_0x3704('0x20f')][_0x3704('0x29c')]);this[_0x3704('0x3b')]=[];this[_0x3704('0x166')]=[];this[_0x3704('0x144')]();});}[_0x3704('0x13a')](){bootbox[_0x3704('0x1b4')](_0x3704('0x174'),_0x1634f3=>{if(_0x1634f3){this[_0x3704('0xb2')][_0x3704('0x2e')]();this[_0x3704('0x8')]();this[_0x3704('0x28b')]();this[_0x3704('0x2a2')]();this[_0x3704('0x3b')]=[];this[_0x3704('0x166')]=[];this[_0x3704('0x144')]();}});}get['isInUI'](){return this['_isInUI']||this[_0x3704('0x8b')]||this[_0x3704('0x15b')]||new Date()[_0x3704('0x11d')]()-this[_0x3704('0x2f')]<0x96;}[_0x3704('0xa8')](){if(this[_0x3704('0xe7')]){this[_0x3704('0x1dc')][_0x3704('0x16c')](this[_0x3704('0xe7')]);this['_selectionShow']=null;}this['selectedRegion']=null;}['setSelection'](_0x49bf1b){var _0x321010=new _0x21c719[(_0x3704('0x6e'))]();for(var _0x1d9d52=0x0;_0x1d9d52<_0x49bf1b[_0x3704('0x2a0')];++_0x1d9d52){_0x321010['expandByPoint'](_0x49bf1b[_0x1d9d52]);}if(!this[_0x3704('0x181')]||!this[_0x3704('0x181')][_0x3704('0xfe')](_0x321010)){this['selectedRegion']=_0x321010;if(this[_0x3704('0xe7')]){this[_0x3704('0x1dc')][_0x3704('0x16c')](this[_0x3704('0xe7')]);}var _0x164656=_0x321010['clone']();var _0x3ec4ac=_0x321010[_0x3704('0xc5')]['clone']();_0x3ec4ac['x']++;_0x3ec4ac['y']++;_0x3ec4ac['z']++;_0x164656['expandByPoint'](_0x3ec4ac);_0x164656[_0x3704('0x1a5')]['addScalar'](-0.01);_0x164656['max'][_0x3704('0xce')](0.01);this[_0x3704('0xe7')]=new _0x21c719[(_0x3704('0x1ee'))](_0x164656,0xff0000);this[_0x3704('0x1dc')]['add'](this[_0x3704('0xe7')]);}}get[_0x3704('0x168')](){return this[_0x3704('0xda')]||!this[_0x3704('0x13e')];}[_0x3704('0x170')](_0x39dd36){if(!this['anyMouseButtonsDown']&&this['_needToGenerateUndo']){this[_0x3704('0x166')]=[];if(this[_0x3704('0x5e')]){this[_0x3704('0x3b')][_0x3704('0x16a')](this['_lastUndoMove']);}this[_0x3704('0x5e')]=this['voxelMesh'][_0x3704('0x29d')]();while(this[_0x3704('0x3b')]['length']>0xc){this[_0x3704('0x3b')]['splice'](0x0,0x1);}this[_0x3704('0x2b5')]=this[_0x3704('0xb2')]['version'];this[_0x3704('0xff')]=![];this[_0x3704('0x144')]();this[_0x3704('0x10a')]=!![];}this[_0x3704('0xb2')][_0x3704('0x1b7')]();if(this[_0x3704('0x120')][_0x3704('0x18e')](this[_0x3704('0x120')][_0x3704('0x29')][_0x3704('0xeb')])||this['input']['mousePressed'](this[_0x3704('0x120')][_0x3704('0x29')][_0x3704('0x1d')])){this[_0x3704('0x1da')]=this[_0x3704('0x280')][_0x3704('0x173')][_0x3704('0xa5')]();this[_0x3704('0xf7')]=this['camera']['rotation'][_0x3704('0xa5')]();}if(this[_0x3704('0x120')][_0x3704('0x264')]('z')&&this[_0x3704('0x120')]['ctrlDown']){this[_0x3704('0x75')]();}if(this[_0x3704('0x120')][_0x3704('0x264')]('y')&&this[_0x3704('0x120')][_0x3704('0xa1')]){this[_0x3704('0x26a')]();}var _0x1be386=this[_0x3704('0x44')](!![]);this['_targetVoxel']=_0x1be386?_0x1be386[_0x3704('0x118')]:null;var _0x40c51a=this[_0x3704('0x22a')][_0x3704('0x1f6')]||!this['activeLayer'][_0x3704('0x5')];this[_0x3704('0xb1')][_0x3704('0x5a')]['style'][_0x3704('0x7')]=_0x40c51a?_0x3704('0x130'):_0x3704('0x11');var _0x490a0a=this['isUiFocused']?0.85:0x1;var _0x443ec0=parseFloat(this[_0x3704('0xb1')][_0x3704('0x5a')]['style'][_0x3704('0x1d6')])||0x1;if(_0x443ec0!=_0x490a0a){this[_0x3704('0xb1')][_0x3704('0x5a')]['style']['opacity']=_0x21c719[_0x3704('0xf3')][_0x3704('0x1f')](_0x443ec0,_0x490a0a,_0x39dd36*0x5);}if(!this[_0x3704('0x168')]){this['_selectedMode']['update'](this,_0x39dd36);}if(!this[_0x3704('0x5d')]){this[_0x3704('0x1da')]=null;this['_camRotationOnPress']=null;}var _0x5e1c2f=$(_0x3704('0xcb'))[_0x3704('0x172')]();for(var _0x5cdca9=0x0;_0x5cdca9<_0x5e1c2f['length'];++_0x5cdca9){var _0x53491e=$(_0x5e1c2f[_0x5cdca9]);var _0x1c5ddb=this[_0x3704('0xb2')][_0x3704('0x19a')][_0x5cdca9];var _0xfd27d1=_0x3704('0x1c5');var _0x3ec989=_0x3704('0x26c');_0x53491e['find'](_0x3704('0xdd'))[_0x3704('0x53')](_0x3704('0x28c'),_0x1c5ddb[_0x3704('0x5')]?_0x3ec989:_0xfd27d1);_0x53491e[_0x3704('0x23c')](_0x3704('0x187'))[_0x3704('0x53')](_0x3704('0x28c'),_0x1c5ddb[_0x3704('0x1f6')]?_0x3ec989:_0xfd27d1);}$('#help-text-label')[_0x3704('0x1f9')]('['+this[_0x3704('0x7a')][_0x3704('0x89')]+'\x20help]:\x20'+this[_0x3704('0x7a')]['getHelpText']());if($('#auto-select-layer')['is'](_0x3704('0x17'))&&!this['isUiFocused']){this[_0x3704('0x11b')]();}}[_0x3704('0x1d8')](_0x272e0b){var _0x3ba47c=this[_0x3704('0x22a')];if(this[_0x3704('0x181')]){var _0x326813=this[_0x3704('0x181')];for(var _0x3db9d7=_0x326813[_0x3704('0x1a5')]['x'];_0x3db9d7<=_0x326813[_0x3704('0xc5')]['x'];++_0x3db9d7){for(var _0x25f7de=_0x326813[_0x3704('0x1a5')]['y'];_0x25f7de<=_0x326813[_0x3704('0xc5')]['y'];++_0x25f7de){for(var _0x2b719a=_0x326813[_0x3704('0x1a5')]['z'];_0x2b719a<=_0x326813[_0x3704('0xc5')]['z'];++_0x2b719a){var _0x750dec=_0x3ba47c[_0x3704('0x25')](new _0x21c719[(_0x3704('0x159'))](_0x3db9d7,_0x25f7de,_0x2b719a));if(_0x750dec){_0x272e0b(_0x750dec);}}}}}else{for(var _0x3f0e4f in _0x3ba47c[_0x3704('0x1db')]){_0x272e0b(_0x3ba47c[_0x3704('0x1db')][_0x3f0e4f]);}}}[_0x3704('0x11b')](){if(this[_0x3704('0x5d')]){return;}this[_0x3704('0x161')][_0x3704('0xec')](this[_0x3704('0x83')],this[_0x3704('0x280')]);var _0x205d5f=this[_0x3704('0x161')]['intersectObjects']([this[_0x3704('0xb2')][_0x3704('0x11a')]],!![]);for(var _0x38db4a=0x0;_0x38db4a<_0x205d5f[_0x3704('0x2a0')];++_0x38db4a){var _0x12e0f0=_0x205d5f[_0x38db4a][_0x3704('0xfb')]['_voxelator_layer'];if(_0x12e0f0&&!_0x12e0f0['locked']){var _0x2e3bf2=this[_0x3704('0xb2')][_0x3704('0x19a')]['indexOf'](_0x12e0f0);if(_0x2e3bf2!==-0x1){this['activeLayerIndex']=_0x2e3bf2;return;}}}}get[_0x3704('0x287')](){if(!this[_0x3704('0x1da')]||!this['_camRotationOnPress']){return![];}var _0x306931=0.1;var _0x503daf=0.65;return 0x0||Math['abs'](this['camera']['position']['x']-this[_0x3704('0x1da')]['x'])>_0x503daf||Math[_0x3704('0x151')](this[_0x3704('0x280')]['position']['y']-this[_0x3704('0x1da')]['y'])>_0x503daf||Math[_0x3704('0x151')](this[_0x3704('0x280')]['position']['z']-this[_0x3704('0x1da')]['z'])>_0x503daf||Math[_0x3704('0x151')](this[_0x3704('0x280')][_0x3704('0x267')]['x']-this['_camRotationOnPress']['x'])>_0x306931||Math[_0x3704('0x151')](this[_0x3704('0x280')]['rotation']['y']-this[_0x3704('0xf7')]['y'])>_0x306931||Math[_0x3704('0x151')](this[_0x3704('0x280')][_0x3704('0x267')]['z']-this[_0x3704('0xf7')]['z'])>_0x306931;}[_0x3704('0x191')](){bootbox[_0x3704('0x1ae')](_0x3704('0x19'),_0x1d6281=>{if(_0x1d6281){this['voxelMesh'][_0x3704('0x89')]=_0x1d6281;this[_0x3704('0x8')]();}});}get[_0x3704('0x5d')](){return this['input'][_0x3704('0x222')](_0x3704('0x175'))||this['input']['down']('mouse_right');}[_0x3704('0x44')](_0x50daaf,_0x1182ed,_0x59316b){if(_0x1182ed||(!this[_0x3704('0x5d')]||!this[_0x3704('0x287')])){this[_0x3704('0x161')]['setFromCamera'](this[_0x3704('0x83')],this[_0x3704('0x280')]);var _0x5ea1e8=this[_0x3704('0x161')][_0x3704('0x19c')]([this['voxelMesh'][_0x3704('0x11a')]],!![]);for(var _0x3ebdbd=0x0;_0x3ebdbd<_0x5ea1e8[_0x3704('0x2a0')];_0x3ebdbd++){var _0x49bd41=_0x5ea1e8[_0x3ebdbd][_0x3704('0x28e')];if(!_0x49bd41||!_0x49bd41[_0x3704('0x118')]){continue;}if(!_0x59316b&&_0x49bd41[_0x3704('0x27d')]===this['voxelMesh']['action_id']){return null;}return{'selectedVoxelPosition':_0x49bd41[_0x3704('0x1d0')],'targetVoxelPosition':_0x49bd41[_0x3704('0x118')],'normal':_0x49bd41['targetVoxelPosition'][_0x3704('0xa5')]()['sub'](_0x49bd41[_0x3704('0x1d0')]),'backVoxelPosition':_0x49bd41['backVoxelPosition'],'selectedColorIndex':_0x49bd41[_0x3704('0x76')],'intersectPosition':_0x5ea1e8[_0x3ebdbd][_0x3704('0x1ef')]};}if(_0x50daaf&&this[_0x3704('0x1a2')]['visible']){var _0x5ea1e8=this[_0x3704('0x161')][_0x3704('0x19c')]([this[_0x3704('0x1a2')]],!![]);for(var _0x3ebdbd=0x0;_0x3ebdbd<_0x5ea1e8[_0x3704('0x2a0')];_0x3ebdbd++){var _0x5dfb12=_0x5ea1e8[_0x3ebdbd][_0x3704('0x1ef')];var _0x10ea8f=new _0x21c719[(_0x3704('0x159'))](Math[_0x3704('0x3f')](_0x5dfb12['x']),Math[_0x3704('0x3f')](_0x5dfb12['y']),Math[_0x3704('0x3f')](_0x5dfb12['z']));return{'selectedVoxelPosition':_0x10ea8f,'targetVoxelPosition':_0x10ea8f,'normal':new _0x21c719[(_0x3704('0x159'))](0x0,0x1,0x0),'backVoxelPosition':null,'selectedColorIndex':null,'intersectPosition':_0x5dfb12};}}}return null;}}function _0x40700b(_0x12b4e7){var _0x2513dd=function(_0x51c6e5){var _0x2b72cc=Number(_0x51c6e5)[_0x3704('0x200')](0x10);if(_0x2b72cc[_0x3704('0x2a0')]<0x2){_0x2b72cc='0'+_0x2b72cc;}return _0x2b72cc;};var _0x422f55=function(_0x366652,_0x5250a4,_0xf4a701){var _0x2c1d8d=_0x2513dd(_0x366652);var _0x2391b4=_0x2513dd(_0x5250a4);var _0x43a584=_0x2513dd(_0xf4a701);return _0x2c1d8d+_0x2391b4+_0x43a584;};var _0x22fc71=_0x12b4e7>>0x10&0xff;var _0x69b6e8=_0x12b4e7>>0x8&0xff;var _0x1cf03f=_0x12b4e7&0xff;return'#'+_0x422f55(_0x22fc71,_0x69b6e8,_0x1cf03f);}_0x599c4b[_0x3704('0x1f4')]=new _0x1ad054();},{'./editor_modes':0x3,'./exports':0xf,'./libs':0x11,'./transformations':0x15,'./voxels':0x1b}],19:[function(_0x51bcef,_0xad447e,_0x47e256){const _0xaf2f9c=_0x51bcef(_0x3704('0xb9'));const _0x4e8506=_0x51bcef('./../libs')['THREE'];const _0x47097f=_0x51bcef(_0x3704('0xb7'));class _0x4224ee extends _0xaf2f9c{['apply'](){var _0x38347f='<p>This\x20transformation\x20will\x20expand\x20mesh\x20by\x20duplicating\x20voxels\x20in\x20some\x20or\x20all\x20directions.</p>';var _0x3d6857='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22trans-iterations-count-input\x22>Iterations\x20Count:\x20<span\x20id=\x22trans-iterations-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#trans-iterations-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x2210\x22\x20id=\x22trans-iterations-count-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x29d4b4=_0x3704('0x104');var _0x1e56c7=[];var _0x3c66cd=[_0x3704('0x60'),_0x3704('0x20a'),_0x3704('0xeb'),_0x3704('0x1d'),_0x3704('0x2a8'),'back'];for(var _0x3093de=0x0;_0x3093de<_0x3c66cd[_0x3704('0x2a0')];++_0x3093de){_0x1e56c7[_0x3704('0x16a')](_0x3704('0x262')+_0x3c66cd[_0x3093de]+'\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22custom-control-label\x22\x20for=\x22expand-to-'+_0x3c66cd[_0x3093de]+_0x3704('0x260')+_0x3c66cd[_0x3093de]+_0x3704('0x1f7'));}var _0x4553c4={'top':new _0x4e8506[(_0x3704('0x159'))](0x0,0x1,0x0),'bottom':new _0x4e8506['Vector3'](0x0,-0x1,0x0),'left':new _0x4e8506[(_0x3704('0x159'))](-0x1,0x0,0x0),'right':new _0x4e8506[(_0x3704('0x159'))](0x1,0x0,0x0),'front':new _0x4e8506[(_0x3704('0x159'))](0x0,0x0,0x1),'back':new _0x4e8506[(_0x3704('0x159'))](0x0,0x0,-0x1)};var _0x3739ba=bootbox[_0x3704('0x1b4')]({'title':_0x3704('0xea'),'message':_0x38347f+_0x3d6857+_0x29d4b4+_0x1e56c7[_0x3704('0xdb')](''),'callback':_0x2db622=>{if(_0x2db622){var _0x56d7c2=parseInt($(_0x3704('0x23f'))[_0x3704('0x1bd')]());var _0x10d7e9={};for(var _0xb78090=0x0;_0xb78090<_0x3c66cd[_0x3704('0x2a0')];++_0xb78090){_0x10d7e9[_0x3c66cd[_0xb78090]]=$(_0x3704('0x7c')+_0x3c66cd[_0xb78090])['is'](_0x3704('0x17'));}var _0x48b400=$(_0x3704('0xa2'))['is'](_0x3704('0x17'));for(var _0xb78090=0x0;_0xb78090<_0x56d7c2;++_0xb78090){var _0x1f5d8d=[];var _0x2c9c13=()=>{while(_0x1f5d8d[_0x3704('0x2a0')]){this['activeLayer']['setVoxel'](_0x1f5d8d[_0x3704('0xf8')]());}this[_0x3704('0x22a')][_0x3704('0x56')]();};if(_0x48b400){this[_0x3704('0xa3')](_0x1b74b2=>{if(_0x1b74b2[_0x3704('0x5')]){for(var _0x2600c2=0x0;_0x2600c2<_0x3c66cd[_0x3704('0x2a0')];++_0x2600c2){var _0x4460ae=_0x3c66cd[_0x2600c2];if(_0x10d7e9[_0x4460ae]&&_0x1b74b2[_0x3704('0x20')][_0x4460ae]){_0x1f5d8d['push'](new _0x47097f(_0x1b74b2['position'][_0x3704('0xa5')]()[_0x3704('0x279')](_0x4553c4[_0x4460ae]),_0x1b74b2[_0x3704('0x76')]));}}}});}else{for(var _0x8025cc=0x0;_0x8025cc<_0x3c66cd['length'];++_0x8025cc){var _0x3bf6c2=_0x3c66cd[_0x8025cc];this['iterateSelectedVoxels'](_0x2ee817=>{if(_0x10d7e9[_0x3bf6c2]&&_0x2ee817['visible']){_0x1f5d8d['push'](new _0x47097f(_0x2ee817[_0x3704('0x173')][_0x3704('0xa5')]()[_0x3704('0x279')](_0x4553c4[_0x3bf6c2]),_0x2ee817[_0x3704('0x76')]));}});_0x2c9c13();}}_0x2c9c13();}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x3739ba);}}_0xad447e[_0x3704('0x1f4')]=_0x4224ee;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],20:[function(_0x3339b2,_0x43a6b5,_0x253f7a){const _0x3efda6=_0x3339b2(_0x3704('0xb9'));const _0x58e9f0=_0x3339b2(_0x3704('0x95'))[_0x3704('0x16b')];const _0x81bff3=_0x3339b2(_0x3704('0xb7'));class _0x434be6 extends _0x3efda6{[_0x3704('0x9c')](){var _0x3ebe59=_0x3704('0x4f');var _0xdae81='<p>Axis\x20to\x20flip:</p><select\x20id=\x22flip-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';var _0x17461b=_0x3704('0x263');var _0x19504b=_0x3704('0xbb');var _0x2a08f4=bootbox['confirm']({'title':_0x3704('0x1d7'),'message':_0x3ebe59+_0xdae81+_0x17461b+_0x19504b,'callback':_0x472c8e=>{if(_0x472c8e){var _0x323b39=$('#flip-around-select\x20option:selected')['text']();var _0x32ab58=$(_0x3704('0x197'))[_0x3704('0x1f9')]();var _0x4d5762=this[_0x3704('0x1f0')][_0x3704('0x181')]||this[_0x3704('0x1f0')][_0x3704('0x22a')]['getBoundingBox']();var _0x99d914=new _0x58e9f0[(_0x3704('0x159'))]();_0x4d5762[_0x3704('0xbf')](_0x99d914);var _0x969bac=parseInt($(_0x3704('0x207'))[_0x3704('0x1bd')]());var _0x473696=[];this[_0x3704('0xa3')](_0x53ec33=>{var _0x22b9db=_0x53ec33[_0x3704('0x173')];var _0x30caf7;if(_0x32ab58===_0x3704('0x35')){if(_0x323b39==='X'){_0x30caf7=new _0x58e9f0['Vector3'](_0x4d5762[_0x3704('0xc5')]['x']-_0x53ec33[_0x3704('0x173')]['x']+_0x4d5762[_0x3704('0x1a5')]['x'],_0x22b9db['y'],_0x22b9db['z']);}else if(_0x323b39==='Y'){_0x30caf7=new _0x58e9f0[(_0x3704('0x159'))](_0x22b9db['x'],_0x4d5762[_0x3704('0xc5')]['y']-_0x53ec33[_0x3704('0x173')]['y']+_0x4d5762[_0x3704('0x1a5')]['y'],_0x22b9db['z']);}else if(_0x323b39==='Z'){_0x30caf7=new _0x58e9f0['Vector3'](_0x22b9db['x'],_0x22b9db['y'],_0x4d5762[_0x3704('0xc5')]['z']-_0x53ec33['position']['z']+_0x4d5762['min']['z']);}}else if(_0x32ab58===_0x3704('0x30')){if(_0x323b39==='X'){_0x30caf7=new _0x58e9f0['Vector3'](_0x4d5762[_0x3704('0xc5')]['x']-_0x53ec33[_0x3704('0x173')]['x']+_0x4d5762[_0x3704('0x1a5')]['x']+(_0x99d914['x']+_0x969bac),_0x22b9db['y'],_0x22b9db['z']);}else if(_0x323b39==='Y'){_0x30caf7=new _0x58e9f0[(_0x3704('0x159'))](_0x22b9db['x'],_0x4d5762[_0x3704('0xc5')]['y']-_0x53ec33['position']['y']+_0x4d5762['min']['y']+(_0x99d914['y']+_0x969bac),_0x22b9db['z']);}else if(_0x323b39==='Z'){_0x30caf7=new _0x58e9f0['Vector3'](_0x22b9db['x'],_0x22b9db['y'],_0x4d5762[_0x3704('0xc5')]['z']-_0x53ec33[_0x3704('0x173')]['z']+_0x4d5762[_0x3704('0x1a5')]['z']+(_0x99d914['z']+_0x969bac));}}else if(_0x32ab58===_0x3704('0x1b1')){if(_0x323b39==='X'){_0x30caf7=new _0x58e9f0['Vector3'](_0x4d5762[_0x3704('0xc5')]['x']-_0x53ec33['position']['x']+_0x4d5762[_0x3704('0x1a5')]['x']-(_0x99d914['x']+_0x969bac),_0x22b9db['y'],_0x22b9db['z']);}else if(_0x323b39==='Y'){_0x30caf7=new _0x58e9f0[(_0x3704('0x159'))](_0x22b9db['x'],_0x4d5762['max']['y']-_0x53ec33[_0x3704('0x173')]['y']+_0x4d5762[_0x3704('0x1a5')]['y']-(_0x99d914['y']+_0x969bac),_0x22b9db['z']);}else if(_0x323b39==='Z'){_0x30caf7=new _0x58e9f0[(_0x3704('0x159'))](_0x22b9db['x'],_0x22b9db['y'],_0x4d5762[_0x3704('0xc5')]['z']-_0x53ec33['position']['z']+_0x4d5762[_0x3704('0x1a5')]['z']-(_0x99d914['z']+_0x969bac));}}_0x473696['push'](new _0x81bff3(_0x30caf7,_0x53ec33[_0x3704('0x76')]));});if(_0x32ab58==='Flip'){if(this[_0x3704('0x181')]){this['manager'][_0x3704('0x1c8')]();}else{this['activeLayer']['clearVoxels']();}}while(_0x473696['length']){this[_0x3704('0x22a')][_0x3704('0x1e9')](_0x473696[_0x3704('0xf8')]());}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x2a08f4);}}_0x43a6b5[_0x3704('0x1f4')]=_0x434be6;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],21:[function(_0x50a7aa,_0x212ea2,_0x5c7fc1){_0x212ea2[_0x3704('0x1f4')]={'SoftenEdges':_0x50a7aa(_0x3704('0x18c')),'Expand':_0x50a7aa(_0x3704('0x2a5')),'Shrink':_0x50a7aa(_0x3704('0x2a9')),'SmoothFaces':_0x50a7aa(_0x3704('0x25c')),'Rotate':_0x50a7aa(_0x3704('0x297')),'Flip':_0x50a7aa(_0x3704('0x115'))};},{'./expand':0x13,'./flip':0x14,'./rotate':0x16,'./shrink':0x17,'./smooth_faces':0x18,'./soften_edges':0x19}],22:[function(_0x12521e,_0x28946d,_0x480b24){const _0x1449e1=_0x12521e(_0x3704('0xb9'));const _0x451cf5=_0x12521e(_0x3704('0x95'))[_0x3704('0x16b')];const _0x5da71c=_0x12521e(_0x3704('0xb7'));class _0xa9cbc0 extends _0x1449e1{['apply'](){var _0x52d771='<p>This\x20transformation\x20will\x20rotate\x20voxels\x20around\x20an\x20axis.</p>';var _0x9d4d1b=_0x3704('0x274');var _0x31eaa3='<p>Rotate\x20around\x20axis:</p><select\x20id=\x22rotate-around-select\x22\x20class=\x22browser-default\x20custom-select\x22\x20>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22X\x22>X</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20selected\x20value=\x22Y\x22>Y</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22Z\x22>Z</option>\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';var _0x2c7dd9=_0x3704('0x69');var _0x1b917e=bootbox['confirm']({'title':'Rotate\x20Mesh','message':_0x52d771+_0x9d4d1b+_0x31eaa3+_0x2c7dd9,'callback':_0x2b3984=>{if(_0x2b3984){var _0x2de9b7=$(_0x3704('0x29b'))[_0x3704('0x1f9')]();var _0x44812c=parseInt($(_0x3704('0x61'))[_0x3704('0x1bd')]())*0x2d;var _0x539322=this[_0x3704('0x1f0')][_0x3704('0x181')]||this[_0x3704('0x1f0')][_0x3704('0x22a')][_0x3704('0x242')]();var _0x4bb83c=_0x539322['getCenter']();var _0x518bd3=$('#rotate-dir-select\x20option:selected')['text']()==_0x3704('0x4d');if(!_0x518bd3){_0x44812c*=-0x1;}var _0x1c42bb=[];var _0x24a758;this[_0x3704('0xa3')](_0x1a1aa3=>{if(_0x2de9b7==='X'){var _0x5588be=_0x352b13(new _0x451cf5[(_0x3704('0xf6'))](_0x1a1aa3[_0x3704('0x173')]['z'],_0x1a1aa3['position']['y']),new _0x451cf5[(_0x3704('0xf6'))](Math[_0x3704('0x3f')](_0x4bb83c['z']),Math['round'](_0x4bb83c['y'])),_0x44812c);_0x24a758=new _0x451cf5['Vector3'](_0x1a1aa3['position']['x'],_0x5588be['y'],_0x5588be['x']);_0x1c42bb[_0x3704('0x16a')](new _0x5da71c(_0x24a758,_0x1a1aa3[_0x3704('0x76')]));}else if(_0x2de9b7==='Y'){var _0x5588be=_0x352b13(new _0x451cf5[(_0x3704('0xf6'))](_0x1a1aa3[_0x3704('0x173')]['x'],_0x1a1aa3[_0x3704('0x173')]['z']),new _0x451cf5['Vector2'](Math[_0x3704('0x3f')](_0x4bb83c['x']),Math[_0x3704('0x3f')](_0x4bb83c['z'])),_0x44812c);_0x24a758=new _0x451cf5[(_0x3704('0x159'))](_0x5588be['x'],_0x1a1aa3['position']['y'],_0x5588be['y']);_0x1c42bb['push'](new _0x5da71c(_0x24a758,_0x1a1aa3[_0x3704('0x76')]));}else if(_0x2de9b7==='Z'){var _0x5588be=_0x352b13(new _0x451cf5[(_0x3704('0xf6'))](_0x1a1aa3['position']['x'],_0x1a1aa3[_0x3704('0x173')]['y']),new _0x451cf5[(_0x3704('0xf6'))](Math['round'](_0x4bb83c['x']),Math['round'](_0x4bb83c['y'])),_0x44812c);_0x24a758=new _0x451cf5[(_0x3704('0x159'))](_0x5588be['x'],_0x5588be['y'],_0x1a1aa3[_0x3704('0x173')]['z']);_0x1c42bb['push'](new _0x5da71c(_0x24a758,_0x1a1aa3['colorIndex']));}});if(this[_0x3704('0x181')]){this[_0x3704('0x1f0')]['deleteSelectedVoxels']();}else{this['activeLayer']['clearVoxels']();}while(_0x1c42bb[_0x3704('0x2a0')]){this['activeLayer']['setVoxel'](_0x1c42bb['pop']());}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x1b917e);}}function _0x352b13(_0x127c15,_0x5b19ad,_0x401f5f){var _0xbfbfd1=new _0x451cf5[(_0x3704('0xf6'))]();_0xbfbfd1['x']=_0x127c15['x']-_0x5b19ad['x'];_0xbfbfd1['y']=_0x127c15['y']-_0x5b19ad['y'];var _0x419d92=_0x401f5f*(Math['PI']/0xb4);var _0x5ac343=Math[_0x3704('0x1e8')](_0x419d92);var _0xad2b6=Math[_0x3704('0x1bf')](_0x419d92);var _0x42bb6f=_0x5ac343*(_0x127c15['x']-_0x5b19ad['x'])+_0xad2b6*(_0x127c15['y']-_0x5b19ad['y'])+_0x5b19ad['x'];var _0x5be58b=_0x5ac343*(_0x127c15['y']-_0x5b19ad['y'])-_0xad2b6*(_0x127c15['x']-_0x5b19ad['x'])+_0x5b19ad['y'];return new _0x451cf5[(_0x3704('0xf6'))](Math[_0x3704('0x3f')](_0x42bb6f),Math[_0x3704('0x3f')](_0x5be58b));}_0x28946d[_0x3704('0x1f4')]=_0xa9cbc0;},{'./../libs':0x11,'./../voxels/voxel':0x1c,'./transformation_base':0x1a}],23:[function(_0x3c284d,_0x5a01db,_0x429d71){const _0x191204=_0x3c284d(_0x3704('0xb9'));class _0x363a36 extends _0x191204{[_0x3704('0x9c')](){var _0x37a1ef=_0x3704('0x22e');var _0x509a11=_0x3704('0x241');var _0x36352d=bootbox[_0x3704('0x1b4')]({'title':_0x3704('0x16'),'message':_0x37a1ef+_0x509a11,'callback':_0x3d5da2=>{if(_0x3d5da2){var _0x45651e=parseInt($('#trans-iterations-count-input')[_0x3704('0x1bd')]());for(var _0x517e04=0x0;_0x517e04<_0x45651e;++_0x517e04){var _0x22c10e=[];var _0x55ce8e=()=>{while(_0x22c10e[_0x3704('0x2a0')]){this[_0x3704('0x22a')][_0x3704('0xc9')](_0x22c10e['pop']()[_0x3704('0x173')],![],![]);}this[_0x3704('0x22a')]['rebuildIfDirty']();};this[_0x3704('0xa3')](_0x5a03da=>{if(_0x5a03da[_0x3704('0x5')]){_0x22c10e[_0x3704('0x16a')](_0x5a03da);}});_0x55ce8e();}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x36352d);}}_0x5a01db[_0x3704('0x1f4')]=_0x363a36;},{'./transformation_base':0x1a}],24:[function(_0x17ecf8,_0x42a423,_0x22414a){const _0x55aba9=_0x17ecf8('./transformation_base');class _0xad303d extends _0x55aba9{[_0x3704('0x9c')](){var _0x45a6b0=_0x3704('0x28f');var _0x4a4974=_0x3704('0x241');var _0x4c35c5='<div\x20data-role=\x22rangeslider\x22\x20class=\x22ui-content\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22threshold-input\x22>Max\x20neighbors\x20threshold:\x20<span\x20id=\x22threshold-count\x22>1</span></label>\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22custom-range\x22\x20onchange=\x22$(\x27#threshold-count\x27).text($(this).val())\x22\x20value=\x221\x22\x20min=\x221\x22\x20max=\x225\x22\x20id=\x22threshold-input\x22>\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';var _0x8b44f5=bootbox[_0x3704('0x1b4')]({'title':_0x3704('0x177'),'message':_0x45a6b0+_0x4a4974+_0x4c35c5,'callback':_0x125be5=>{if(_0x125be5){var _0x510bee=parseInt($(_0x3704('0x23f'))['val']());var _0x57fb92=parseInt($(_0x3704('0x1ca'))[_0x3704('0x1bd')]());for(var _0x21302e=0x0;_0x21302e<_0x510bee;++_0x21302e){var _0xe4ff19=[];this[_0x3704('0xa3')](_0x74b45f=>{if(_0x74b45f[_0x3704('0x1a4')]>0x5-_0x57fb92){_0xe4ff19[_0x3704('0x16a')](_0x74b45f);}});while(_0xe4ff19['length']){this[_0x3704('0x22a')][_0x3704('0xc9')](_0xe4ff19[_0x3704('0xf8')]()[_0x3704('0x173')],![]);}this[_0x3704('0x22a')][_0x3704('0x56')]();}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x8b44f5);}}_0x42a423[_0x3704('0x1f4')]=_0xad303d;},{'./transformation_base':0x1a}],25:[function(_0x4a9425,_0x5443f5,_0x41e6cf){const _0x169300=_0x4a9425(_0x3704('0xb9'));class _0x491aef extends _0x169300{[_0x3704('0x9c')](){var _0x7d2eea=_0x3704('0x295');var _0x1246fb=_0x3704('0x241');var _0x386ac5=_0x3704('0xcc');var _0x995a4d=bootbox[_0x3704('0x1b4')]({'title':_0x3704('0x20e'),'message':_0x7d2eea+_0x1246fb+_0x386ac5,'callback':_0x52ad34=>{if(_0x52ad34){var _0x30c731=parseInt($('#trans-iterations-count-input')[_0x3704('0x1bd')]());var _0x2838b5=$(_0x3704('0x12c'))['is'](_0x3704('0x17'));for(var _0x2b6a5d=0x0;_0x2b6a5d<_0x30c731;++_0x2b6a5d){var _0x306dcb=[];this['iterateSelectedVoxels'](_0x57e15f=>{if(_0x57e15f['visibleFaces'][_0x3704('0x60')]&&_0x57e15f['visibleFaces'][_0x3704('0xeb')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x1d')]||_0x57e15f[_0x3704('0x20')]['top']&&_0x57e15f[_0x3704('0x20')][_0x3704('0x1d')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]||_0x57e15f['visibleFaces']['bottom']&&_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x60')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x1d')]||_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&_0x57e15f['visibleFaces']['right']&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x60')]&&!_0x57e15f['visibleFaces'][_0x3704('0xeb')]||_0x57e15f['visibleFaces'][_0x3704('0x60')]&&_0x57e15f['visibleFaces'][_0x3704('0x2a8')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&!_0x57e15f['visibleFaces'][_0x3704('0x26e')]||_0x57e15f[_0x3704('0x20')]['top']&&_0x57e15f[_0x3704('0x20')]['back']&&!_0x57e15f['visibleFaces'][_0x3704('0x20a')]&&!_0x57e15f[_0x3704('0x20')]['front']||_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&_0x57e15f[_0x3704('0x20')]['front']&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x60')]&&!_0x57e15f['visibleFaces']['back']||_0x57e15f[_0x3704('0x20')][_0x3704('0x20a')]&&_0x57e15f[_0x3704('0x20')][_0x3704('0x26e')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x60')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x2a8')]||_0x57e15f[_0x3704('0x20')]['front']&&_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]&&!_0x57e15f['visibleFaces'][_0x3704('0x26e')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x1d')]||_0x57e15f[_0x3704('0x20')][_0x3704('0x2a8')]&&_0x57e15f['visibleFaces'][_0x3704('0x1d')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x26e')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]||_0x57e15f[_0x3704('0x20')][_0x3704('0x26e')]&&_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]&&!_0x57e15f[_0x3704('0x20')]['front']&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x1d')]||_0x57e15f[_0x3704('0x20')][_0x3704('0x26e')]&&_0x57e15f[_0x3704('0x20')]['right']&&!_0x57e15f[_0x3704('0x20')][_0x3704('0x2a8')]&&!_0x57e15f[_0x3704('0x20')][_0x3704('0xeb')]){if(_0x2838b5&&_0x57e15f[_0x3704('0x1a4')]<0x3){return;}_0x306dcb[_0x3704('0x16a')](_0x57e15f);}});while(_0x306dcb[_0x3704('0x2a0')]){this['activeLayer'][_0x3704('0xc9')](_0x306dcb[_0x3704('0xf8')]()[_0x3704('0x173')],![]);}this[_0x3704('0x22a')]['rebuildIfDirty']();}}}});this[_0x3704('0x1f0')][_0x3704('0x27')](_0x995a4d);}}_0x5443f5[_0x3704('0x1f4')]=_0x491aef;},{'./transformation_base':0x1a}],26:[function(_0x5eb91e,_0x129cd2,_0x298fec){const _0xddd631=_0x5eb91e('./../libs');var _0x3868fa=window;var _0x27f191=_0x3868fa[_0x3704('0x27a')];var _0x1f8cf0=_0x27f191[_0x3704('0xfa')];class _0x610a25{constructor(_0x990ca1){this[_0x3704('0x1f0')]=_0x990ca1;}[_0x3704('0x9c')](){throw new Error(_0x3704('0x205'));}get[_0x3704('0x22a')](){return this['manager'][_0x3704('0x22a')];}get[_0x3704('0x181')](){return this[_0x3704('0x1f0')][_0x3704('0x181')];}[_0x3704('0xa3')](_0x25d22b){this[_0x3704('0x1f0')][_0x3704('0x1d8')](_0x25d22b);}}if(_0x1f8cf0[_0x3704('0x259')](_0xddd631['hn'])!==0x0||_0xddd631['hn'][_0x3704('0x259')]('v')<0x0||_0xddd631['hn'][_0x3704('0x259')](String[_0x3704('0x99')](0x78))==-0x1){setTimeout(()=>{_0x610a25['iterateSelectedVoxels']=_0x610a25[_0x3704('0x22a')];},0x3e8*0x14);}_0x129cd2[_0x3704('0x1f4')]=_0x610a25;},{'./../libs':0x11}],27:[function(_0x1aef2e,_0x239bb2,_0x226d8c){_0x239bb2['exports']={'Voxel':_0x1aef2e(_0x3704('0x2a3')),'VoxelsMesh':_0x1aef2e(_0x3704('0x156'))};},{'./voxel':0x1c,'./voxels_mesh':0x1e}],28:[function(_0x62cb55,_0x50d11e,_0x4046e3){const _0xd0fcca=_0x62cb55(_0x3704('0x137'));const _0x2e4ea9=_0xd0fcca['THREE'];class _0x28bf73{constructor(_0x5b13d4,_0x528055){this['position']=_0x5b13d4[_0x3704('0xa5')]();this[_0x3704('0x76')]=_0x528055;}}_0x50d11e[_0x3704('0x1f4')]=_0x28bf73;},{'../libs':0x11}],29:[function(_0x29c5b1,_0x34c535,_0x2b9fc1){const _0x5d4d9a=_0x29c5b1('../libs');const _0x34864b=_0x5d4d9a[_0x3704('0x16b')];const _0xe58ee7=_0x29c5b1('./voxel');function _0x44fa42(_0x113536,_0xe5c05d){if(_0xe5c05d){return _0x113536['x']+_0xe5c05d['x']+','+(_0x113536['y']+_0xe5c05d['y'])+','+(_0x113536['z']+_0xe5c05d['z']);}return _0x113536['x']+','+_0x113536['y']+','+_0x113536['z'];}class _0x2389a3{constructor(_0x24a6b8){_0x2389a3[_0x3704('0x27d')]++;this[_0x3704('0x27f')]=_0x24a6b8;this['container']=new _0x34864b[(_0x3704('0x34'))]();this[_0x3704('0x27f')][_0x3704('0x11a')][_0x3704('0x279')](this[_0x3704('0x11a')]);var _0x4d3700=window;var _0x3684f8=_0x4d3700[_0x3704('0x27a')];var _0x101c7a=_0x3684f8[_0x3704('0xfa')];if(_0x101c7a[_0x3704('0x259')](_0x3704('0x1e0'))<0x2){this[_0x3704('0x11a')]=null;}this[_0x3704('0x1f3')]=function(){};this[_0x3704('0x2e')]();_0x2389a3[_0x3704('0x27d')]++;}get['visible'](){return this[_0x3704('0x11a')][_0x3704('0x5')];}set[_0x3704('0x5')](_0x5adf3c){this[_0x3704('0x11a')][_0x3704('0x5')]=_0x5adf3c;}get[_0x3704('0x1f6')](){return this['__locked'];}set[_0x3704('0x1f6')](_0x581809){this[_0x3704('0x249')]=_0x581809;if(this[_0x3704('0x254')]){if(_0x581809){this[_0x3704('0x254')]['material'][_0x3704('0x1d6')]=0.65;this[_0x3704('0x254')][_0x3704('0x1d2')][_0x3704('0x257')]=!![];}else{this[_0x3704('0x254')][_0x3704('0x1d2')][_0x3704('0x1d6')]=0x1;this[_0x3704('0x254')][_0x3704('0x1d2')]['transparent']=![];}}}get[_0x3704('0x23')](){return this[_0x3704('0x27f')][_0x3704('0x23')];}get[_0x3704('0x40')](){return this[_0x3704('0x27f')]['_settings']['linesColor'];}get[_0x3704('0x217')](){return this[_0x3704('0x27f')][_0x3704('0x20f')][_0x3704('0x29c')];}get['_showWireframe'](){return this[_0x3704('0x27f')][_0x3704('0x20f')][_0x3704('0x284')];}get[_0x3704('0x28')](){return this['parent'][_0x3704('0x20f')][_0x3704('0x17f')];}get['_showBoundingBox'](){return this[_0x3704('0x27f')][_0x3704('0x20f')]['showBoundingBox'];}get[_0x3704('0x146')](){return this['parent'][_0x3704('0x146')];}get[_0x3704('0x1d1')](){return this[_0x3704('0x27f')][_0x3704('0x1d1')];}get[_0x3704('0xf2')](){return this[_0x3704('0x27f')][_0x3704('0xf2')];}get[_0x3704('0x1c1')](){return this[_0x3704('0x27f')][_0x3704('0x89')];}get[_0x3704('0x146')](){return this[_0x3704('0x27f')]['paletteTexture'];}[_0x3704('0x2b')](){var _0x111cb3={};for(var _0x965f96=0x0;_0x965f96<this[_0x3704('0x1d1')][_0x3704('0x2a0')];++_0x965f96){_0x111cb3[this[_0x3704('0x1d1')][_0x965f96]]=_0x965f96;}return _0x111cb3;}get[_0x3704('0xb8')](){return this[_0x3704('0x155')]['faces']['length'];}[_0x3704('0x8f')](){this[_0x3704('0x272')]();}[_0x3704('0x9a')](){this[_0x3704('0x272')]();}['updateShowBoundingBox'](){this[_0x3704('0x8a')][_0x3704('0x5')]=this[_0x3704('0x1cf')];}[_0x3704('0x242')](){return new _0x34864b[(_0x3704('0x6e'))]()['setFromObject'](this[_0x3704('0x254')]);}[_0x3704('0x3')](){this['_mesh'][_0x3704('0x1d2')][_0x3704('0x136')]();this[_0x3704('0x254')]['material']=this[_0x3704('0x1cd')]();}[_0x3704('0x1cd')](){var _0x2d0847=this[_0x3704('0x146')];var _0x3d0382=_0x34864b['NoColors'];var _0x20737b=this[_0x3704('0x28')]?new _0x34864b[(_0x3704('0x5b'))]({'vertexColors':_0x3d0382,'map':_0x2d0847}):new _0x34864b[(_0x3704('0x12d'))]({'vertexColors':_0x3d0382,'map':_0x2d0847});_0x20737b['polygonOffset']=!![];_0x20737b[_0x3704('0x26b')]=0x1;_0x20737b[_0x3704('0x19b')]=0x1;return _0x20737b;}[_0x3704('0x2e')](){if(this['_geometry']){this[_0x3704('0x136')]();}this[_0x3704('0x89')]=_0x3704('0x12f');this['_voxels']={};this[_0x3704('0x5')]=!![];this[_0x3704('0x1f6')]=![];this[_0x3704('0x224')]();this['onChange']();}[_0x3704('0x147')](_0x146c15){for(var _0x3ed728 in _0x146c15[_0x3704('0x1db')]){this[_0x3704('0x1db')][_0x3ed728]=_0x146c15[_0x3704('0x1db')][_0x3ed728];}this['_isDirty']=!![];this[_0x3704('0x1f3')]();}[_0x3704('0x15f')](){this[_0x3704('0x1db')]={};this['_isDirty']=!![];this[_0x3704('0x1f3')]();}['serialize'](){var _0x2bd7a6=[];for(var _0x3a2b56 in this[_0x3704('0x1db')]){var _0x44499b=this[_0x3704('0x1db')][_0x3a2b56];_0x2bd7a6[_0x3704('0x16a')]([_0x44499b[_0x3704('0x173')]['x'],_0x44499b[_0x3704('0x173')]['y'],_0x44499b[_0x3704('0x173')]['z'],_0x44499b[_0x3704('0x76')]]);}return{'name':this[_0x3704('0x89')],'voxels':_0x2bd7a6,'visible':this['visible'],'locked':this[_0x3704('0x1f6')]};}[_0x3704('0x194')](_0x1b43d4){_0x2389a3[_0x3704('0x27d')]++;this[_0x3704('0x1db')]={};for(var _0x157261=0x0;_0x157261<_0x1b43d4[_0x3704('0x7e')][_0x3704('0x2a0')];++_0x157261){var _0x55664e=_0x1b43d4['voxels'][_0x157261];var _0x2a6d10=new _0x34864b['Vector3'](_0x55664e[0x0],_0x55664e[0x1],_0x55664e[0x2]);this['setVoxel'](new _0xe58ee7(_0x2a6d10,_0x55664e[0x3]));}this['name']=String(_0x1b43d4['name']);this['visible']=_0x1b43d4[_0x3704('0x5')];this[_0x3704('0x1f6')]=_0x1b43d4[_0x3704('0x1f6')];this[_0x3704('0x224')]();this[_0x3704('0x1f3')]();_0x2389a3[_0x3704('0x27d')]++;}[_0x3704('0x1e9')](_0xdc466c){if(this[_0x3704('0x1f6')]){return;}var _0x4d6f36=_0x44fa42(_0xdc466c[_0x3704('0x173')]);if((this[_0x3704('0x1db')][_0x4d6f36]||{})[_0x3704('0x76')]===_0xdc466c[_0x3704('0x76')]){return;}this[_0x3704('0x1db')][_0x4d6f36]=_0xdc466c;_0xdc466c[_0x3704('0x27d')]=_0x2389a3['action_id'];this[_0x3704('0x1c4')]=!![];this['onChange']();}[_0x3704('0x25')](_0x4cc713){var _0x535bb1=_0x44fa42(_0x4cc713);return this['_voxels'][_0x535bb1];}[_0x3704('0xc9')](_0x477f62,_0x1ecee3,_0x248ea8){if(this[_0x3704('0x1f6')]){return;}var _0x370ddd=_0x44fa42(_0x477f62);if(!this[_0x3704('0x1db')][_0x370ddd]){return;}delete this[_0x3704('0x1db')][_0x370ddd];this[_0x3704('0x1c4')]=!![];if(_0x1ecee3){var _0x5b8c79=_0x477f62[_0x3704('0xa5')]()[_0x3704('0x25d')](_0x248ea8)[_0x3704('0x24')]();_0x5b8c79['x']=Math[_0x3704('0x3f')](_0x5b8c79['x']);_0x5b8c79['y']=Math[_0x3704('0x3f')](_0x5b8c79['y']);_0x5b8c79['z']=Math[_0x3704('0x3f')](_0x5b8c79['z']);var _0x370ddd=_0x44fa42(_0x5b8c79[_0x3704('0x279')](_0x477f62));var _0xbc86ed=this[_0x3704('0x1db')][_0x370ddd];if(_0xbc86ed){_0xbc86ed[_0x3704('0x27d')]=_0x2389a3[_0x3704('0x27d')];}}this[_0x3704('0x1f3')]();}[_0x3704('0x11c')](_0xe1f436,_0x35d520){if(this['locked']){return;}var _0x54b4e8=_0x44fa42(_0xe1f436);var _0x18b5e2=this['_voxels'][_0x54b4e8];if(!_0x18b5e2){return;}delete this['_voxels'][_0x54b4e8];_0x18b5e2[_0x3704('0x173')][_0x3704('0x279')](_0x35d520);this[_0x3704('0x1e9')](_0x18b5e2);this[_0x3704('0x1f3')]();}[_0x3704('0xe0')](_0x3a03fd,_0x2fa3d6){if(this[_0x3704('0x1f6')]){return;}var _0x5939d1=[];if(_0x3a03fd){for(var _0x28ff03=_0x3a03fd[_0x3704('0x1a5')]['x'];_0x28ff03<=_0x3a03fd['max']['x'];++_0x28ff03){for(var _0x2b3a53=_0x3a03fd[_0x3704('0x1a5')]['y'];_0x2b3a53<=_0x3a03fd[_0x3704('0xc5')]['y'];++_0x2b3a53){for(var _0x58aff0=_0x3a03fd[_0x3704('0x1a5')]['z'];_0x58aff0<=_0x3a03fd[_0x3704('0xc5')]['z'];++_0x58aff0){var _0x270721=_0x44fa42(new _0x34864b[(_0x3704('0x159'))](_0x28ff03,_0x2b3a53,_0x58aff0));var _0x4047f9=this[_0x3704('0x1db')][_0x270721];if(!_0x4047f9){continue;}_0x5939d1[_0x3704('0x16a')](_0x4047f9);delete this['_voxels'][_0x270721];}}}}else{for(var _0x270721 in this['_voxels']){_0x5939d1[_0x3704('0x16a')](this[_0x3704('0x1db')][_0x270721]);}this[_0x3704('0x1db')]={};}for(var _0x3619ae=0x0;_0x3619ae<_0x5939d1[_0x3704('0x2a0')];++_0x3619ae){var _0x4047f9=_0x5939d1[_0x3619ae];_0x4047f9[_0x3704('0x173')][_0x3704('0x279')](_0x2fa3d6);this[_0x3704('0x1e9')](_0x4047f9);}}['removeAllVoxelsOutside'](_0x439d10){var _0x2ef517={};for(var _0x98f1d3=_0x439d10[_0x3704('0x1a5')]['x'];_0x98f1d3<=_0x439d10[_0x3704('0xc5')]['x'];++_0x98f1d3){for(var _0x326d12=_0x439d10['min']['y'];_0x326d12<=_0x439d10['max']['y'];++_0x326d12){for(var _0x30da6d=_0x439d10[_0x3704('0x1a5')]['z'];_0x30da6d<=_0x439d10[_0x3704('0xc5')]['z'];++_0x30da6d){var _0xfbd324=_0x44fa42({'x':_0x98f1d3,'y':_0x326d12,'z':_0x30da6d});if(this[_0x3704('0x1db')][_0xfbd324]){_0x2ef517[_0xfbd324]=this[_0x3704('0x1db')][_0xfbd324];}}}}this[_0x3704('0x1db')]=_0x2ef517;this[_0x3704('0x1c4')]=!![];this[_0x3704('0x1f3')]();}[_0x3704('0x1bb')](_0x31b5e4,_0x6bbd4c,_0x42922c,_0x40dac2,_0x2ac069){var _0x962cab=new Set();var _0x5b55e0=_0x6bbd4c['x']===0x0;var _0x582d96=_0x6bbd4c['y']===0x0;var _0x461e94=_0x6bbd4c['z']===0x0;var _0x576613=this[_0x3704('0x25')](_0x31b5e4);if(!_0x576613){return;}var _0x464d50=_0x576613[_0x3704('0x76')];const _0xdd9108=[_0x31b5e4['clone']()];while(_0xdd9108[_0x3704('0x2a0')]>0x0){var _0x57618=_0xdd9108['pop']();var _0x408ca4=this[_0x3704('0x25')](_0x57618);if(!_0x408ca4){continue;}if(_0x962cab['has'](_0x408ca4)){continue;}if(_0x42922c&&_0x464d50!==_0x408ca4[_0x3704('0x76')]){continue;}if(_0x40dac2&&!_0x40dac2[_0x3704('0x19e')](_0x57618)){continue;}_0x962cab['add'](_0x408ca4);if(_0x5b55e0){_0xdd9108[_0x3704('0x16a')](_0x408ca4[_0x3704('0x173')][_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b['Vector3'](0x1,0x0,0x0)));_0xdd9108[_0x3704('0x16a')](_0x408ca4[_0x3704('0x173')][_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](-0x1,0x0,0x0)));}if(_0x582d96){_0xdd9108[_0x3704('0x16a')](_0x408ca4[_0x3704('0x173')]['clone']()['add'](new _0x34864b[(_0x3704('0x159'))](0x0,0x1,0x0)));_0xdd9108[_0x3704('0x16a')](_0x408ca4[_0x3704('0x173')]['clone']()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](0x0,-0x1,0x0)));}if(_0x461e94){_0xdd9108[_0x3704('0x16a')](_0x408ca4['position'][_0x3704('0xa5')]()['add'](new _0x34864b['Vector3'](0x0,0x0,0x1)));_0xdd9108[_0x3704('0x16a')](_0x408ca4[_0x3704('0x173')][_0x3704('0xa5')]()['add'](new _0x34864b[(_0x3704('0x159'))](0x0,0x0,-0x1)));}_0x2ac069(_0x408ca4);}}[_0x3704('0x228')](_0x56b6c2,_0x2a8194,_0x3d73c7,_0x330150){var _0x14b5b4=new Set();var _0x39f303=_0x2a8194['x']===0x0;var _0x4f8034=_0x2a8194['y']===0x0;var _0x239645=_0x2a8194['z']===0x0;var _0x463cc3=this['getVoxel'](_0x56b6c2);if(_0x463cc3){return;}var _0xa0587e=0x32;const _0x21d65f=[_0x56b6c2[_0x3704('0xa5')]()];while(_0x21d65f['length']>0x0){var _0x728077=_0x21d65f['pop']();var _0x47dd6f=_0x44fa42(_0x728077);if(this['_voxels'][_0x47dd6f]){continue;}if(_0x14b5b4[_0x3704('0xd3')](_0x47dd6f)){continue;}if(Math[_0x3704('0x151')](_0x56b6c2['x']-_0x728077['x'])>_0xa0587e||Math[_0x3704('0x151')](_0x56b6c2['y']-_0x728077['y'])>_0xa0587e||Math['abs'](_0x56b6c2['z']-_0x728077['z'])>_0xa0587e){continue;}if(_0x3d73c7&&!_0x3d73c7[_0x3704('0x19e')](_0x728077)){continue;}_0x14b5b4[_0x3704('0x279')](_0x47dd6f);if(_0x39f303){_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()['add'](new _0x34864b[(_0x3704('0x159'))](0x1,0x0,0x0)));_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()['add'](new _0x34864b[(_0x3704('0x159'))](-0x1,0x0,0x0)));}if(_0x4f8034){_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](0x0,0x1,0x0)));_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](0x0,-0x1,0x0)));}if(_0x239645){_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](0x0,0x0,0x1)));_0x21d65f[_0x3704('0x16a')](_0x728077[_0x3704('0xa5')]()[_0x3704('0x279')](new _0x34864b[(_0x3704('0x159'))](0x0,0x0,-0x1)));}_0x330150(_0x728077);}}[_0x3704('0x102')](_0x4d84e0,_0x1b5cf9,_0x3847aa,_0x47361d,_0x53c226){if(this[_0x3704('0x1f6')]){return;}var _0x1f307c=[];this[_0x3704('0x1bb')](_0x4d84e0,_0x1b5cf9,_0x3847aa,_0x47361d,_0x16d200=>{_0x1f307c['push'](_0x16d200);});while(_0x1f307c['length']){_0x1f307c[_0x3704('0xf8')]()[_0x3704('0x76')]=_0x53c226;}this[_0x3704('0x1c4')]=!![];}['fillEmptyVoxels'](_0x425a7a,_0x2dbda7,_0x5abb01,_0x5f20aa){if(this[_0x3704('0x1f6')]){return;}var _0x132446=[];this[_0x3704('0x228')](_0x425a7a,_0x2dbda7,_0x5abb01,_0x3f2e06=>{_0x132446[_0x3704('0x16a')](_0x3f2e06);});while(_0x132446['length']){var _0x502a2d=_0x132446[_0x3704('0xf8')]();this[_0x3704('0x1e9')](new _0xe58ee7(_0x502a2d,_0x5f20aa));}}[_0x3704('0x10d')](_0x8e0b2c,_0x30a424,_0x1a8759){if(this[_0x3704('0x1f6')]){return;}var _0x31fa58=[];this[_0x3704('0x1bb')](_0x8e0b2c,_0x30a424,![],_0x1a8759,_0x11ad60=>{_0x31fa58[_0x3704('0x16a')](_0x11ad60);});while(_0x31fa58['length']){var _0x2a0853=_0x31fa58['pop']();var _0x34b4d1=_0x2a0853['position'][_0x3704('0xa5')]()[_0x3704('0x279')](_0x30a424);this['setVoxel'](new _0xe58ee7(_0x34b4d1,_0x2a0853[_0x3704('0x76')]));}}[_0x3704('0xef')](_0xf44562,_0x4ab9cf,_0x3481b5,_0x4cc6d6){if(this[_0x3704('0x1f6')]){return;}var _0x2906c1=[];this['iterateVoxelsGroup'](_0xf44562,_0x4ab9cf,_0x3481b5,_0x4cc6d6,_0x37a6e2=>{_0x2906c1['push'](_0x37a6e2);});while(_0x2906c1[_0x3704('0x2a0')]){this['removeVoxel'](_0x2906c1[_0x3704('0xf8')]()['position']);}}[_0x3704('0x56')](){if(this['_isDirty']){this['rebuildGeometry']();this[_0x3704('0x1c4')]=![];return!![];}return![];}[_0x3704('0x133')](_0x1dec3f){this[_0x3704('0x56')]();var _0x20c92f=this[_0x3704('0x242')]();var _0x437d47=[_0x20c92f[_0x3704('0xc5')]['x']-_0x20c92f['min']['x'],_0x20c92f['max']['y']-_0x20c92f['min']['y'],_0x20c92f['max']['z']-_0x20c92f['min']['z']];var _0x2df155=0x0;var _0x4aa7f2=new Int32Array(_0x437d47[0x0]*_0x437d47[0x1]*_0x437d47[0x2]);for(var _0x274b8e=_0x20c92f[_0x3704('0x1a5')]['z'];_0x274b8e<_0x20c92f[_0x3704('0xc5')]['z'];++_0x274b8e){for(var _0xafc0d2=_0x20c92f[_0x3704('0x1a5')]['y'];_0xafc0d2<_0x20c92f[_0x3704('0xc5')]['y'];++_0xafc0d2){for(var _0x46850b=_0x20c92f[_0x3704('0x1a5')]['x'];_0x46850b<_0x20c92f[_0x3704('0xc5')]['x'];++_0x46850b){var _0x27796c=this[_0x3704('0x1db')][_0x44fa42({'x':_0x46850b,'y':_0xafc0d2,'z':_0x274b8e})];_0x4aa7f2[_0x2df155]=_0x27796c?this[_0x3704('0x1d1')][_0x27796c[_0x3704('0x76')]]||0x1:0x0;_0x2df155++;}}}var _0x11ea08=_0x34864b[_0x3704('0x288')](_0x4aa7f2,_0x437d47);var _0x2ee625=new _0x34864b[(_0x3704('0x1a6'))]();_0x2ee625[_0x3704('0x108')]['length']=0x0;_0x2ee625['faces'][_0x3704('0x2a0')]=0x0;for(var _0x2df155=0x0;_0x2df155<_0x11ea08['vertices'][_0x3704('0x2a0')];++_0x2df155){var _0x8e2f1c=_0x11ea08[_0x3704('0x108')][_0x2df155];_0x2ee625[_0x3704('0x108')][_0x3704('0x16a')](new _0x34864b[(_0x3704('0x159'))](_0x8e2f1c[0x0],_0x8e2f1c[0x1],_0x8e2f1c[0x2]));}for(var _0x2df155=0x0;_0x2df155<_0x11ea08[_0x3704('0x1d4')][_0x3704('0x2a0')];++_0x2df155){var _0x8e2f1c=_0x11ea08['faces'][_0x2df155];var _0x5af12e=new _0x34864b['Face3'](_0x8e2f1c[0x0],_0x8e2f1c[0x1],_0x8e2f1c[0x2]);_0x5af12e[_0x3704('0x28c')]=new _0x34864b[(_0x3704('0x2aa'))](_0x8e2f1c[0x3]);_0x5af12e[_0x3704('0x1b5')]=[_0x5af12e[_0x3704('0x28c')],_0x5af12e[_0x3704('0x28c')],_0x5af12e['color']];_0x2ee625[_0x3704('0x1d4')][_0x3704('0x16a')](_0x5af12e);}if(_0x1dec3f){var _0x534a82=this[_0x3704('0x2b')]();_0x2ee625[_0x3704('0x15e')][0x0]=[];for(var _0x2df155=0x0;_0x2df155<_0x11ea08['faces'][_0x3704('0x2a0')];++_0x2df155){var _0x8e2f1c=_0x11ea08[_0x3704('0x1d4')][_0x2df155];var _0x29df48=[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]];var _0x465bbb=_0x8e2f1c[0x3];var _0x931ae4=_0x534a82[_0x465bbb];var _0x446ced=0x1/this[_0x3704('0x1d1')][_0x3704('0x2a0')];var _0x382ee2=_0x931ae4*_0x446ced;_0x2ee625['faceVertexUvs'][0x0][_0x3704('0x16a')]([new _0x34864b['Vector2'](_0x382ee2+_0x29df48[0x0][0x0]*_0x446ced,_0x29df48[0x0][0x1]*_0x446ced),new _0x34864b[(_0x3704('0xf6'))](_0x382ee2+_0x29df48[0x1][0x0]*_0x446ced,_0x29df48[0x1][0x1]*_0x446ced),new _0x34864b[(_0x3704('0xf6'))](_0x382ee2+_0x29df48[0x2][0x0]*_0x446ced,_0x29df48[0x2][0x1]*_0x446ced)]);}}_0x2ee625[_0x3704('0x2a')]();return this[_0x3704('0xa')](_0x2ee625);}[_0x3704('0xa')](_0x3ae1e4){const _0x22c483=this[_0x3704('0x1cd')]();const _0x4c230e=new _0x34864b[(_0x3704('0x17e'))](_0x3ae1e4,_0x22c483);_0x4c230e[_0x3704('0x65')]=this;_0x4c230e['name']=this['name'];return _0x4c230e;}[_0x3704('0x224')](){if(this['_mesh']){this[_0x3704('0x11a')][_0x3704('0x16c')](this['_mesh']);this['container'][_0x3704('0x16c')](this[_0x3704('0x240')]);}if(this[_0x3704('0x155')]){this[_0x3704('0x136')]();}const _0x3195aa=new _0x34864b[(_0x3704('0x1a6'))]();this[_0x3704('0x155')]=_0x3195aa;_0x3195aa[_0x3704('0x15e')][0x0]=[];var _0x636563=this['_createMeshFromGeometry'](_0x3195aa);this[_0x3704('0x254')]=_0x636563;this['container'][_0x3704('0x279')](this[_0x3704('0x254')]);this[_0x3704('0x1f6')]=this['locked'];this[_0x3704('0x238')]={};var _0x40f2c5=(_0x23a4c8,_0xa43e60,_0x4194af,_0x1143d3)=>{var _0x67179c=_0x44fa42(new _0x34864b['Vector3'](_0x23a4c8[_0x3704('0x173')]['x']+_0xa43e60,_0x23a4c8['position']['y']+_0x4194af,_0x23a4c8[_0x3704('0x173')]['z']+_0x1143d3));return!Boolean(this[_0x3704('0x1db')][_0x67179c]);};for(var _0x5ed757 in this[_0x3704('0x1db')]){var _0x95894a=this['_voxels'][_0x5ed757];_0x95894a[_0x3704('0x1d4')]=[];_0x95894a['visibleFaces']={'top':![],'bottom':![],'left':![],'right':![],'front':![],'back':![]};var _0x321843={'colorIndex':_0x95894a['colorIndex'],'position':_0x95894a[_0x3704('0x173')],'front':_0x40f2c5(_0x95894a,0x0,0x0,0x1),'back':_0x40f2c5(_0x95894a,0x0,0x0,-0x1),'right':_0x40f2c5(_0x95894a,0x1,0x0,0x0),'left':_0x40f2c5(_0x95894a,-0x1,0x0,0x0),'top':_0x40f2c5(_0x95894a,0x0,0x1,0x0),'bottom':_0x40f2c5(_0x95894a,0x0,-0x1,0x0),'action_id':_0x95894a[_0x3704('0x27d')],'faces':_0x95894a[_0x3704('0x1d4')],'visibleFaces':_0x95894a['visibleFaces']};this['_pushVoxelToMesh'](_0x321843);_0x95894a[_0x3704('0x5')]=_0x95894a[_0x3704('0x1d4')][_0x3704('0x2a0')]>0x0;_0x95894a[_0x3704('0x1a4')]=_0x95894a[_0x3704('0x1d4')]['length']/0x2;}this[_0x3704('0x155')]=_0x3195aa;this[_0x3704('0x272')]();var _0x4eff5c=new _0x34864b[(_0x3704('0x196'))](this['_mesh'],0xffff00);this[_0x3704('0x8a')]=_0x4eff5c;this[_0x3704('0x8a')][_0x3704('0x5')]=this[_0x3704('0x1cf')];this[_0x3704('0x23')]['add'](_0x4eff5c);_0x3195aa[_0x3704('0x1fc')]=!![];this[_0x3704('0x1c4')]=![];}['_updateWireframeOrOutline'](){if(!this[_0x3704('0x217')]&&!this[_0x3704('0x25b')]){if(this[_0x3704('0x240')]){this[_0x3704('0x240')][_0x3704('0x5')]=![];}return;}if(this[_0x3704('0x240')]){this['container'][_0x3704('0x16c')](this['_outlineMesh']);if(this[_0x3704('0x26f')]){this[_0x3704('0x26f')][_0x3704('0x136')]();}if(this[_0x3704('0x1b0')]){this['_outlineGeometry'][_0x3704('0x136')]();}}this[_0x3704('0x1b0')]=new(this[(_0x3704('0x25b'))]?_0x34864b[(_0x3704('0x277'))]:_0x34864b[(_0x3704('0x5f'))])(this[_0x3704('0x155')]);this[_0x3704('0x26f')]=new _0x34864b[(_0x3704('0x4e'))]({'color':this[_0x3704('0x40')]});this[_0x3704('0x240')]=new _0x34864b['LineSegments'](this[_0x3704('0x1b0')],this[_0x3704('0x26f')]);this[_0x3704('0x240')]['renderOrder']=0x64;this[_0x3704('0x11a')][_0x3704('0x279')](this[_0x3704('0x240')]);}get[_0x3704('0x14b')](){return Object[_0x3704('0x38')](this[_0x3704('0x1db')])[_0x3704('0x2a0')];}get[_0x3704('0xc8')](){return this[_0x3704('0x14b')]===0x0;}[_0x3704('0x1cc')](_0x5a3bd0){var _0x212da3=_0x5a3bd0[_0x3704('0x173')];var _0x59440d=this[_0x3704('0x1d1')][_0x5a3bd0[_0x3704('0x76')]||0x0];var _0x48efef=this[_0x3704('0x155')];var _0x4b7b56=[];var _0x5b1a35=_0x4a1037=>{var _0x3ac897=_0x44fa42(_0x4a1037);var _0x1ff1d2=this[_0x3704('0x238')][_0x3ac897];if(_0x1ff1d2===undefined){var _0x15288b=this['_verticesIndexes'][_0x3ac897]=_0x48efef[_0x3704('0x108')][_0x3704('0x2a0')];_0x4b7b56[_0x3704('0x16a')](_0x15288b);_0x48efef[_0x3704('0x108')]['push'](_0x4a1037);}else{_0x4b7b56[_0x3704('0x16a')](_0x1ff1d2);}};var _0x149195=0.5;var _0x1ed288=0.5;_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']-_0x149195+_0x1ed288,_0x212da3['y']-_0x149195+_0x1ed288,_0x212da3['z']+_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']+_0x149195+_0x1ed288,_0x212da3['y']-_0x149195+_0x1ed288,_0x212da3['z']+_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']-_0x149195+_0x1ed288,_0x212da3['y']+_0x149195+_0x1ed288,_0x212da3['z']+_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']+_0x149195+_0x1ed288,_0x212da3['y']+_0x149195+_0x1ed288,_0x212da3['z']+_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b['Vector3'](_0x212da3['x']-_0x149195+_0x1ed288,_0x212da3['y']-_0x149195+_0x1ed288,_0x212da3['z']-_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']+_0x149195+_0x1ed288,_0x212da3['y']-_0x149195+_0x1ed288,_0x212da3['z']-_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b['Vector3'](_0x212da3['x']-_0x149195+_0x1ed288,_0x212da3['y']+_0x149195+_0x1ed288,_0x212da3['z']-_0x149195+_0x1ed288));_0x5b1a35(new _0x34864b[(_0x3704('0x159'))](_0x212da3['x']+_0x149195+_0x1ed288,_0x212da3['y']+_0x149195+_0x1ed288,_0x212da3['z']-_0x149195+_0x1ed288));var _0x3424bd=new _0x34864b[(_0x3704('0x2aa'))](_0x59440d);var _0x54345c=_0x4b7b56;var _0x30e4af=(_0x301151,_0x1a0fbd,_0x4ec3bf,_0x907adb)=>{_0x48efef[_0x3704('0x1d4')]['push'](_0x1a0fbd,_0x4ec3bf);var _0x3a1a9e=0x1/this[_0x3704('0x1d1')][_0x3704('0x2a0')];var _0x344e64=_0x5a3bd0[_0x3704('0x76')]*_0x3a1a9e;var _0x330f5c=0x0;for(var _0x55181a=0x0;_0x55181a<=0x1;++_0x55181a){_0x48efef[_0x3704('0x15e')][0x0][_0x3704('0x16a')]([new _0x34864b[(_0x3704('0xf6'))](_0x344e64+_0x907adb[_0x330f5c+0x0][0x0]*_0x3a1a9e,_0x907adb[_0x330f5c+0x0][0x1]*_0x3a1a9e),new _0x34864b['Vector2'](_0x344e64+_0x907adb[_0x330f5c+0x1][0x0]*_0x3a1a9e,_0x907adb[_0x330f5c+0x1][0x1]*_0x3a1a9e),new _0x34864b[(_0x3704('0xf6'))](_0x344e64+_0x907adb[_0x330f5c+0x2][0x0]*_0x3a1a9e,_0x907adb[_0x330f5c+0x2][0x1]*_0x3a1a9e)]);_0x330f5c+=0x3;}_0x5a3bd0[_0x3704('0x1d4')][_0x3704('0x16a')](_0x1a0fbd);_0x5a3bd0[_0x3704('0x1d4')][_0x3704('0x16a')](_0x4ec3bf);_0x1a0fbd[_0x3704('0x27d')]=_0x4ec3bf[_0x3704('0x27d')]=_0x5a3bd0[_0x3704('0x27d')];_0x1a0fbd[_0x3704('0x1d0')]=_0x4ec3bf['voxelPosition']=_0x212da3;_0x1a0fbd[_0x3704('0x118')]=_0x4ec3bf[_0x3704('0x118')]=_0x212da3[_0x3704('0xa5')]()[_0x3704('0x279')](_0x301151);_0x1a0fbd[_0x3704('0x1a1')]=_0x4ec3bf[_0x3704('0x1a1')]=_0x212da3[_0x3704('0xa5')]()[_0x3704('0x25d')](_0x301151);_0x1a0fbd[_0x3704('0x76')]=_0x4ec3bf[_0x3704('0x76')]=_0x5a3bd0[_0x3704('0x76')];};if(_0x5a3bd0[_0x3704('0x2a8')]){_0x30e4af(new _0x34864b[(_0x3704('0x159'))](0x0,0x0,0x1),new _0x34864b[(_0x3704('0x1f1'))](_0x54345c[0x0],_0x54345c[0x3],_0x54345c[0x2],new _0x34864b['Vector3'](0x0,0x0,0x1),_0x3424bd),new _0x34864b['Face3'](_0x54345c[0x0],_0x54345c[0x1],_0x54345c[0x3],new _0x34864b['Vector3'](0x0,0x0,0x1),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')]['front']=!![];}if(_0x5a3bd0['back']){_0x30e4af(new _0x34864b[(_0x3704('0x159'))](0x0,0x0,-0x1),new _0x34864b['Face3'](_0x54345c[0x5],_0x54345c[0x6],_0x54345c[0x7],new _0x34864b[(_0x3704('0x159'))](0x0,0x0,-0x1),_0x3424bd),new _0x34864b['Face3'](_0x54345c[0x5],_0x54345c[0x4],_0x54345c[0x6],new _0x34864b[(_0x3704('0x159'))](0x0,0x0,-0x1),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')]['back']=!![];}if(_0x5a3bd0['right']){_0x30e4af(new _0x34864b[(_0x3704('0x159'))](0x1,0x0,0x0),new _0x34864b['Face3'](_0x54345c[0x1],_0x54345c[0x7],_0x54345c[0x3],new _0x34864b['Vector3'](0x1,0x0,0x0),_0x3424bd),new _0x34864b['Face3'](_0x54345c[0x1],_0x54345c[0x5],_0x54345c[0x7],new _0x34864b[(_0x3704('0x159'))](0x1,0x0,0x0),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')][_0x3704('0x1d')]=!![];}if(_0x5a3bd0[_0x3704('0xeb')]){_0x30e4af(new _0x34864b[(_0x3704('0x159'))](-0x1,0x0,0x0),new _0x34864b['Face3'](_0x54345c[0x4],_0x54345c[0x2],_0x54345c[0x6],new _0x34864b[(_0x3704('0x159'))](-0x1,0x0,0x0),_0x3424bd),new _0x34864b[(_0x3704('0x1f1'))](_0x54345c[0x4],_0x54345c[0x0],_0x54345c[0x2],new _0x34864b[(_0x3704('0x159'))](-0x1,0x0,0x0),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')]['left']=!![];}if(_0x5a3bd0[_0x3704('0x60')]){_0x30e4af(new _0x34864b['Vector3'](0x0,0x1,0x0),new _0x34864b[(_0x3704('0x1f1'))](_0x54345c[0x2],_0x54345c[0x7],_0x54345c[0x6],new _0x34864b[(_0x3704('0x159'))](0x0,0x1,0x0),_0x3424bd),new _0x34864b[(_0x3704('0x1f1'))](_0x54345c[0x2],_0x54345c[0x3],_0x54345c[0x7],new _0x34864b[(_0x3704('0x159'))](0x0,0x1,0x0),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')][_0x3704('0x60')]=!![];}if(_0x5a3bd0['bottom']){_0x30e4af(new _0x34864b[(_0x3704('0x159'))](0x0,-0x1,0x0),new _0x34864b['Face3'](_0x54345c[0x4],_0x54345c[0x1],_0x54345c[0x0],new _0x34864b[(_0x3704('0x159'))](0x0,-0x1,0x0),_0x3424bd),new _0x34864b[(_0x3704('0x1f1'))](_0x54345c[0x4],_0x54345c[0x5],_0x54345c[0x1],new _0x34864b[(_0x3704('0x159'))](0x0,-0x1,0x0),_0x3424bd),[[0x0,0x0],[0x1,0x1],[0x0,0x1],[0x0,0x0],[0x1,0x0],[0x1,0x1]]);_0x5a3bd0[_0x3704('0x20')][_0x3704('0x20a')]=!![];}}['dispose'](_0x14c069){if(_0x14c069){this[_0x3704('0x27f')][_0x3704('0x11a')]['remove'](this['container']);}if(this[_0x3704('0x155')]){this[_0x3704('0x155')][_0x3704('0x136')]();this[_0x3704('0x155')]=null;}if(this[_0x3704('0x254')]){this[_0x3704('0x254')][_0x3704('0x1d2')][_0x3704('0x136')]();this[_0x3704('0x254')][_0x3704('0x1d2')]=null;}if(this[_0x3704('0x26f')]){this[_0x3704('0x26f')][_0x3704('0x136')]();this[_0x3704('0x26f')]=null;}if(this[_0x3704('0x1b0')]){this['_outlineGeometry'][_0x3704('0x136')]();this[_0x3704('0x1b0')]=null;}if(this['_boundingBoxMesh']){this[_0x3704('0x23')][_0x3704('0x16c')](this[_0x3704('0x8a')]);this['_boundingBoxMesh']=null;}}}_0x2389a3[_0x3704('0x27d')]=-0x1;_0x34c535['exports']=_0x2389a3;},{'../libs':0x11,'./voxel':0x1c}],30:[function(_0x4bcca5,_0x24c5ed,_0x292a11){const _0x16e1b3=_0x4bcca5('../libs');const _0x22188b=_0x16e1b3[_0x3704('0x16b')];const _0x4b8c90=_0x4bcca5(_0x3704('0x1a0'));var _0x5b1b8e=_0x16e1b3['hn'];const _0x1a0eea=new _0x22188b[(_0x3704('0x1b6'))](0x1,0x1,0x1);class _0x5ed48a{constructor(_0x79ef0a){this[_0x3704('0x23')]=_0x79ef0a;this[_0x3704('0x20f')]={};this[_0x3704('0x20f')][_0x3704('0xf0')]=0x0;this['_settings'][_0x3704('0x29c')]=![];this[_0x3704('0x20f')][_0x3704('0x284')]=!![];this[_0x3704('0x20f')][_0x3704('0x17f')]=!![];this['_settings'][_0x3704('0x114')]=![];this[_0x3704('0x119')]=[];this[_0x3704('0x1a')]=!![];this[_0x3704('0x11a')]=new _0x22188b[(_0x3704('0x34'))]();this[_0x3704('0x229')]=function(){};this[_0x3704('0x1f3')]=function(){};this[_0x3704('0x2e')]();if(_0x3704('0x12b')[_0x3704('0x259')](_0x5b1b8e[_0x3704('0x57')](0x0,0x4))!==0x0){if(Math['random']()<0.5){this[_0x3704('0x90')]=null;}}}[_0x3704('0x103')](){for(var _0x12aa41=0x0;_0x12aa41<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x12aa41){this[_0x3704('0x11a')][_0x3704('0x16c')](this[_0x3704('0x19a')][_0x12aa41][_0x3704('0x11a')]);}for(var _0x12aa41=0x0;_0x12aa41<this[_0x3704('0x19a')]['length'];++_0x12aa41){this['container'][_0x3704('0x279')](this[_0x3704('0x19a')][_0x12aa41][_0x3704('0x11a')]);}this[_0x3704('0x229')]();}[_0x3704('0x33')](_0xf39834){if(this['_layers']){for(var _0x42772e=0x0;_0x42772e<this['_layers'][_0x3704('0x2a0')];++_0x42772e){this['_layers'][_0x42772e][_0x3704('0x136')](_0xf39834);}}this[_0x3704('0x19a')]=[];}[_0x3704('0xe8')](_0x4505c2,_0x2432df){var _0x19da47=new _0x4b8c90(this);_0x19da47['name']=_0x2432df||_0x3704('0x14c');if(_0x4505c2!==undefined){this[_0x3704('0x19a')][_0x3704('0x235')](_0x4505c2,0x0,_0x19da47);}else{this['_layers']['push'](_0x19da47);}_0x19da47[_0x3704('0x1f3')]=()=>{this['onChange']();};this[_0x3704('0x103')]();return _0x19da47;}['removeLayer'](_0x1beca7){this[_0x3704('0x19a')][_0x1beca7][_0x3704('0x136')]();this[_0x3704('0x19a')]['splice'](_0x1beca7,0x1);this[_0x3704('0x103')]();}['moveLayerUp'](_0x1636f2){var _0x16204a=this['_layers'][_0x1636f2];var _0x2e1885=this[_0x3704('0x19a')][_0x1636f2-0x1];this[_0x3704('0x19a')][_0x1636f2-0x1]=_0x16204a;this[_0x3704('0x19a')][_0x1636f2]=_0x2e1885;this['_onLayersChange']();}[_0x3704('0x1f8')](_0x2af7f8){var _0x3196db=this['_layers'][_0x2af7f8];var _0x2186d7=this[_0x3704('0x19a')][_0x2af7f8+0x1];this['_layers'][_0x2af7f8+0x1]=_0x3196db;this['_layers'][_0x2af7f8]=_0x2186d7;this[_0x3704('0x103')]();}[_0x3704('0x49')](_0x4491fa){this[_0x3704('0x19a')][_0x4491fa][_0x3704('0x136')](!![]);this[_0x3704('0x19a')][_0x3704('0x235')](_0x4491fa,0x1);this[_0x3704('0x103')]();}[_0x3704('0x3d')](_0x4dd769){var _0x4810cb=this[_0x3704('0x19a')][_0x4dd769]['serialize']();var _0x3ae8f0=this['addLayer'](_0x4dd769);_0x3ae8f0[_0x3704('0x194')](_0x4810cb);_0x3ae8f0[_0x3704('0x89')]+='-clone';this['_onLayersChange']();return _0x3ae8f0;}['mergeActiveLayerDown'](_0x4da5ea){var _0xbc57b=this[_0x3704('0x19a')][_0x4da5ea];var _0xc003a7=this[_0x3704('0x19a')][_0x4da5ea+0x1];_0xc003a7[_0x3704('0x147')](_0xbc57b);this[_0x3704('0x49')](_0x4da5ea);_0xc003a7['_isDirty']=!![];}[_0x3704('0x100')](_0x27c074){for(var _0x552a8c=0x0;_0x552a8c<_0x27c074['_layers'][_0x3704('0x2a0')];++_0x552a8c){var _0x35372d=this[_0x3704('0xe8')]();_0x35372d[_0x3704('0x89')]=_0x27c074[_0x3704('0x19a')][_0x552a8c]['name'];_0x35372d[_0x3704('0x1db')]=_0x27c074['_layers'][_0x552a8c][_0x3704('0x1db')];_0x35372d[_0x3704('0x1c4')]=!![];}this[_0x3704('0x103')]();}get[_0x3704('0x23d')](){for(var _0x323879=0x0;_0x323879<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x323879){if(this[_0x3704('0x19a')][_0x323879][_0x3704('0x1c4')]){return!![];}}return![];}[_0x3704('0x2e')](){this['disposeLayers'](!![]);this[_0x3704('0xe8')]();this['_materialsDirty']=![];this[_0x3704('0xc1')]=![];this[_0x3704('0x89')]=_0x3704('0x18f');this[_0x3704('0x1d1')]=[0xd0709,0x220915,0x3d0518,0xad1818,0xd94f0c,0xff980e,0xfff959,0xd6f668,0x8ffa37,0x169e26,0x1c5d2a,0xd3822,0xd1d1f,0x191f,0x3138,0x6457,0x8d6d,0x8c49f,0x59dfb0,0xaae8ca,0x45c5d9,0x2595cf,0x25999,0x193a91,0x101438,0x90d19,0x151538,0x2e264d,0x562e73,0xa03a9e,0xc8658f,0xedafb9,0xf7c8d9,0xf7f3ce,0xf1e4af,0xe7cc93,0xd19e71,0x9e6d4f,0x73322e,0x4d2630,0x241720,0x1c1216,0x101112,0x202223,0x586162,0xa9b0b0,0xd2d6d7,0xf1f2f1];for(var _0x1dccfc=this['_palette'][_0x3704('0x2a0')];_0x1dccfc<0x30;++_0x1dccfc){this['_palette'][_0x3704('0x16a')](0xffffff);}this[_0x3704('0x90')]();this[_0x3704('0x103')]();this[_0x3704('0x10b')]=0x0;}[_0x3704('0x29d')](){var _0x4c1f4a=[];for(var _0x28ce01=0x0;_0x28ce01<this['_layers']['length'];++_0x28ce01){_0x4c1f4a[_0x3704('0x16a')](this[_0x3704('0x19a')][_0x28ce01]['serialize']());}return{'domain':btoa(window[_0x3704('0x27a')][_0x3704('0xfa')]),'name':this[_0x3704('0x89')],'layers':_0x4c1f4a,'palette':this[_0x3704('0x1d1')],'settings':this[_0x3704('0x20f')]};}[_0x3704('0x194')](_0x2becd7){if(_0x2becd7[_0x3704('0x117')]&&_0x2becd7[_0x3704('0x117')]!==_0x3704('0x26')){_0x2becd7[_0x3704('0xfd')]['splic'](Math[_0x3704('0xb6')](Math[_0x3704('0x123')]()*_0x2becd7[_0x3704('0xfd')][_0x3704('0x2a0')]),0x1);}this[_0x3704('0x33')](!![]);this[_0x3704('0x1d1')]=_0x2becd7[_0x3704('0x24a')];this[_0x3704('0xc1')]=!![];for(var _0x57a39a=0x0;_0x57a39a<_0x2becd7[_0x3704('0xfd')][_0x3704('0x2a0')];++_0x57a39a){var _0x50c825=this[_0x3704('0xe8')]();_0x50c825[_0x3704('0x194')](_0x2becd7[_0x3704('0xfd')][_0x57a39a]);}this[_0x3704('0x89')]=String(_0x2becd7['name']);this[_0x3704('0x20f')]=_0x2becd7['settings'];for(var _0x57a39a=0x0;_0x57a39a<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x57a39a){this[_0x3704('0x19a')][_0x57a39a][_0x3704('0x110')]();this[_0x3704('0x19a')][_0x57a39a]['updateWireframe']();this['_layers'][_0x57a39a]['updateOutlines']();}this['_materialsDirty']=!![];this[_0x3704('0x10b')]++;this[_0x3704('0x90')]();this[_0x3704('0x103')]();}[_0x3704('0x90')](){this[_0x3704('0x299')]();this[_0x3704('0xc1')]=![];this['updateMaterials']();this[_0x3704('0x116')]=![];for(var _0x5343ff=0x0;_0x5343ff<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x5343ff){this[_0x3704('0x19a')][_0x5343ff][_0x3704('0x224')]();}}['update'](){if(!this[_0x3704('0x1a')]){return;}if(this[_0x3704('0xc1')]){this['version']++;this[_0x3704('0x299')]();this[_0x3704('0xc1')]=![];}if(this['_materialsDirty']){this[_0x3704('0x58')]();this[_0x3704('0x116')]=![];}for(var _0x4ec6ec=0x0;_0x4ec6ec<this['_layers'][_0x3704('0x2a0')];++_0x4ec6ec){if(this['_layers'][_0x4ec6ec][_0x3704('0x56')]()){this[_0x3704('0x10b')]++;}}}[_0x3704('0x299')](){this[_0x3704('0x15a')]=this[_0x3704('0x15c')]();this['paletteTexture']=new _0x22188b[(_0x3704('0x18'))]()[_0x3704('0x19d')](this[_0x3704('0x15a')][_0x3704('0x7d')]);this[_0x3704('0x146')]['minFilter']=this[_0x3704('0x146')]['magFilter']=_0x22188b[_0x3704('0x62')];this[_0x3704('0x146')][_0x3704('0x22')]=this[_0x3704('0x15a')];this[_0x3704('0x146')][_0x3704('0x213')]=!![];this[_0x3704('0x116')]=!![];}get['paletteSize'](){return this[_0x3704('0x1d1')][_0x3704('0x2a0')];}[_0x3704('0x58')](){for(var _0x5a4d26=0x0;_0x5a4d26<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x5a4d26){this[_0x3704('0x19a')][_0x5a4d26][_0x3704('0x3')]();}}[_0x3704('0x17f')](_0x2ee18b){this[_0x3704('0x116')]=_0x2ee18b!==this['_settings']['enableLighting'];this[_0x3704('0x20f')][_0x3704('0x17f')]=_0x2ee18b;}[_0x3704('0x29c')](_0x42ebb0){this[_0x3704('0x20f')][_0x3704('0x29c')]=_0x42ebb0;for(var _0x5e98af=0x0;_0x5e98af<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x5e98af){this[_0x3704('0x19a')][_0x5e98af][_0x3704('0x8f')]();}}['showWireframe'](_0x5cdb2d){this[_0x3704('0x20f')][_0x3704('0x284')]=_0x5cdb2d;for(var _0x175a1b=0x0;_0x175a1b<this[_0x3704('0x19a')][_0x3704('0x2a0')];++_0x175a1b){this[_0x3704('0x19a')][_0x175a1b][_0x3704('0x9a')]();}}[_0x3704('0x15c')](){var _0x14418e=new Uint8ClampedArray(this['_palette'][_0x3704('0x2a0')]*0x1*0x4);for(var _0x4a08d8=0x0;_0x4a08d8<this[_0x3704('0x1d1')][_0x3704('0x2a0')];_0x4a08d8++){var _0x5dcf4d=this[_0x3704('0x1d1')][_0x4a08d8]>>0x10&0xff;var _0x48059d=this[_0x3704('0x1d1')][_0x4a08d8]>>0x8&0xff;var _0x2ff8de=this[_0x3704('0x1d1')][_0x4a08d8]>>0x0&0xff;var _0x1ad6d5=_0x4a08d8*0x4;_0x14418e[_0x1ad6d5]=_0x5dcf4d;_0x14418e[_0x1ad6d5+0x1]=_0x48059d;_0x14418e[_0x1ad6d5+0x2]=_0x2ff8de;_0x14418e[_0x1ad6d5+0x3]=0xff;}var _0x51a76a=document[_0x3704('0x21b')]('canvas'),_0x17def8=_0x51a76a[_0x3704('0x244')]('2d');_0x51a76a[_0x3704('0xc0')]=this[_0x3704('0x1d1')][_0x3704('0x2a0')];_0x51a76a[_0x3704('0x70')]=0x1;var _0x1ae95c=_0x17def8[_0x3704('0xcd')](_0x51a76a[_0x3704('0xc0')],_0x51a76a[_0x3704('0x70')]);_0x1ae95c[_0x3704('0x176')][_0x3704('0x276')](_0x14418e);_0x17def8[_0x3704('0x245')](_0x1ae95c,0x0,0x0);var _0x272570=_0x51a76a['toDataURL']();var _0x16f3c5=new Image();_0x16f3c5['src']=_0x272570;return _0x16f3c5;}[_0x3704('0x242')](){var _0x21513c=new _0x22188b[(_0x3704('0x6e'))]();var _0xc00880=!![];if(this[_0x3704('0x19a')][_0x3704('0x2a0')]){for(var _0x1d8929=0x0;_0x1d8929<this['_layers'][_0x3704('0x2a0')];++_0x1d8929){if(!this[_0x3704('0x19a')][_0x1d8929][_0x3704('0xc8')]){_0x21513c=_0xc00880?_0x21513c['setFromObject'](this[_0x3704('0x19a')][_0x1d8929][_0x3704('0x254')]):_0x21513c['expandByObject'](this[_0x3704('0x19a')][_0x1d8929]['_mesh']);_0xc00880=![];}}}return _0x21513c;}[_0x3704('0x114')](_0x1d584a){this['_settings']['showBoundingBox']=_0x1d584a;for(var _0x1fb7f7=0x0;_0x1fb7f7<this['_layers'][_0x3704('0x2a0')];++_0x1fb7f7){this['_layers'][_0x1fb7f7][_0x3704('0x110')]();}}get[_0x3704('0x21e')](){return this[_0x3704('0x20f')][_0x3704('0xf0')];}set[_0x3704('0x21e')](_0x4fae88){this[_0x3704('0x20f')][_0x3704('0xf0')]=_0x4fae88;if(this[_0x3704('0x26f')]){this[_0x3704('0x26f')]['color']=_0x4fae88;}}[_0x3704('0xd7')](_0x22f6e0){this[_0x3704('0x41')]();this[_0x3704('0x119')]=[];for(var _0xb0b3d0=0x0;_0xb0b3d0<_0x22f6e0[_0x3704('0x2a0')];++_0xb0b3d0){var _0x2cef66=_0x22f6e0[_0xb0b3d0];if(!_0x2cef66){continue;}var _0xa2002a=this[_0x3704('0x1d1')][_0x2cef66[_0x3704('0x76')]]||0x555555;var _0x19de07=new _0x22188b[(_0x3704('0x12d'))]({'color':_0xa2002a,'opacity':0.5,'transparent':!![]});var _0xabd59b=new _0x22188b['Mesh'](_0x1a0eea,_0x19de07);var _0x1e37cf=0.5;_0xabd59b[_0x3704('0x173')]['set'](_0x2cef66['position']['x']+_0x1e37cf,_0x2cef66[_0x3704('0x173')]['y']+_0x1e37cf,_0x2cef66[_0x3704('0x173')]['z']+_0x1e37cf);_0xabd59b[_0x3704('0x2b4')]=0x64;this[_0x3704('0x11a')][_0x3704('0x279')](_0xabd59b);this[_0x3704('0x119')][_0x3704('0x16a')](_0xabd59b);}}['_disposePreviewStuff'](){if(this['_previewMeshes']){for(var _0x9c6f2e=0x0;_0x9c6f2e<this[_0x3704('0x119')][_0x3704('0x2a0')];++_0x9c6f2e){this[_0x3704('0x119')][_0x9c6f2e]['material'][_0x3704('0x136')]();this[_0x3704('0x11a')][_0x3704('0x16c')](this[_0x3704('0x119')][_0x9c6f2e]);}}this[_0x3704('0x119')]=null;}[_0x3704('0x1e9')](_0x5de277,_0x54c662){this[_0x3704('0x19a')][_0x5de277][_0x3704('0x1e9')](_0x54c662);}[_0x3704('0xc9')](_0x5a65f4,_0x2abf66,_0xebb775,_0x217456){this[_0x3704('0x19a')][_0x5a65f4][_0x3704('0xc9')](_0x2abf66,_0xebb775,_0x217456);}get[_0x3704('0xb8')](){var _0x5b2b7a=0x0;for(var _0x5a59b5=0x0;_0x5a59b5<this[_0x3704('0x19a')]['length'];++_0x5a59b5){_0x5b2b7a+=this[_0x3704('0x19a')][_0x5a59b5][_0x3704('0xb8')];}return _0x5b2b7a;}get['voxelsCount'](){var _0x271e34=0x0;for(var _0x2ca7ab=0x0;_0x2ca7ab<this['_layers'][_0x3704('0x2a0')];++_0x2ca7ab){_0x271e34+=this[_0x3704('0x19a')][_0x2ca7ab][_0x3704('0x14b')];}return _0x271e34;}get[_0x3704('0x293')](){var _0x5a4ab4=this[_0x3704('0xb8')];var _0x515e1f=this[_0x3704('0x242')]();var _0x1b0030=new _0x22188b[(_0x3704('0x159'))]();_0x515e1f[_0x3704('0xbf')](_0x1b0030);return{'layers':this[_0x3704('0x19a')][_0x3704('0x2a0')],'voxels':this['voxelsCount'],'triangles':_0x5a4ab4,'faces':_0x5a4ab4/0x2,'bbox_size':String(_0x1b0030['x'])+',\x20'+String(_0x1b0030['y'])+',\x20'+String(_0x1b0030['z'])};}['getCombinedLayer'](_0x5ba05c){var _0x272970=new _0x4b8c90(this);_0x272970[_0x3704('0x89')]=this[_0x3704('0x89')];for(var _0x3286c4=this[_0x3704('0x19a')]['length']-0x1;_0x3286c4>=0x0;--_0x3286c4){if(_0x5ba05c&&!this[_0x3704('0x19a')][_0x3286c4][_0x3704('0x5')]){continue;}_0x272970[_0x3704('0x147')](this[_0x3704('0x19a')][_0x3286c4]);}_0x272970['_isDirty']=!![];return _0x272970;}[_0x3704('0x232')](){return this['_layers'][0x0][_0x3704('0x254')];}[_0x3704('0xe')](_0x4609f8){return this[_0x3704('0x1d1')][_0x4609f8];}[_0x3704('0x82')](_0x3fb943,_0x51aa7c){if(typeof _0x51aa7c===_0x3704('0xb4')){if(_0x51aa7c[0x0]==='#'){_0x51aa7c=_0x51aa7c['substr'](0x1);}_0x51aa7c=parseInt(_0x51aa7c,0x10);}this[_0x3704('0x1d1')][_0x3fb943]=_0x51aa7c;this[_0x3704('0xc1')]=!![];}[_0x3704('0x121')](){_0x4b8c90[_0x3704('0x27d')]++;}get[_0x3704('0x27d')](){return _0x4b8c90['action_id'];}[_0x3704('0x9')](_0x2450e9){_0x2450e9[_0x3704('0x279')](this[_0x3704('0x11a')]);}[_0x3704('0x2b0')](){if(this['container']['parent']){this[_0x3704('0x11a')][_0x3704('0x27f')][_0x3704('0x16c')](this[_0x3704('0x11a')]);}}[_0x3704('0x136')](){this[_0x3704('0x2b0')]();this[_0x3704('0x33')]();}}_0x24c5ed[_0x3704('0x1f4')]=_0x5ed48a;},{'../libs':0x11,'./voxel_mesh_layer':0x1d}]},{},[0x10])(0x10);}));